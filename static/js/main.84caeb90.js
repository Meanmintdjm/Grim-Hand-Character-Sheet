/*! For license information please see main.84caeb90.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var a=n(853),r=n(43),l=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(o(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),N=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case b:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case j:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case p:return"Portal";case N:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var M=Array.isArray,I=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_={pending:!1,data:null,method:null,action:null},z=[],F=-1;function O(e){return{current:e}}function q(e){0>F||(e.current=z[F],z[F]=null,F--)}function B(e,t){F++,z[F]=e.current,e.current=t}var U=O(null),H=O(null),$=O(null),V=O(null);function G(e,t){switch(B($,t),B(H,e),B(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ld(t=rd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(U),B(U,e)}function Q(){q(U),q(H),q($)}function W(e){null!==e.memoizedState&&B(V,e);var t=U.current,n=ld(t,e.type);t!==n&&(B(H,e),B(U,n))}function K(e){H.current===e&&(q(U),q(H)),V.current===e&&(q(V),Wd._currentValue=_)}var X=Object.prototype.hasOwnProperty,Y=a.unstable_scheduleCallback,J=a.unstable_cancelCallback,Z=a.unstable_shouldYield,ee=a.unstable_requestPaint,te=a.unstable_now,ne=a.unstable_getCurrentPriorityLevel,ae=a.unstable_ImmediatePriority,re=a.unstable_UserBlockingPriority,le=a.unstable_NormalPriority,se=a.unstable_LowPriority,ie=a.unstable_IdlePriority,oe=a.log,ce=a.unstable_setDisableYieldValue,ue=null,de=null;function fe(e){if("function"===typeof oe&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var me=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(he(e)/pe|0)|0},he=Math.log,pe=Math.LN2;var ge=256,xe=4194304;function be(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ye(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var i=134217727&a;return 0!==i?0!==(a=i&~l)?r=be(a):0!==(s&=i)?r=be(s):n||0!==(n=i&~e)&&(r=be(n)):0!==(i=a&~l)?r=be(i):0!==s?r=be(s):n||0!==(n=a&~e)&&(r=be(n)),0===r?0:0!==t&&t!==r&&0===(t&l)&&((l=r&-r)>=(n=t&-t)||32===l&&0!==(4194048&n))?t:r}function ve(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function we(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=xe;return 0===(62914560&(xe<<=1))&&(xe=4194304),e}function je(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-me(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-me(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function Ae(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function De(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:uf(e.type)}var Te=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Te,Me="__reactProps$"+Te,Ie="__reactContainer$"+Te,Re="__reactEvents$"+Te,_e="__reactListeners$"+Te,ze="__reactHandles$"+Te,Fe="__reactResources$"+Te,Oe="__reactMarker$"+Te;function qe(e){delete e[Pe],delete e[Me],delete e[Re],delete e[_e],delete e[ze]}function Be(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ie]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=yd(e);null!==e;){if(n=e[Pe])return n;e=yd(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Pe]||e[Ie]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function $e(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[Oe]=!0}var Ge=new Set,Qe={};function We(e,t){Ke(e,t),Ke(e+"Capture",t)}function Ke(e,t){for(Qe[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Xe,Ye,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(r=t,X.call(et,r)||!X.call(Ze,r)&&(Je.test(r)?et[r]=!0:(Ze[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function at(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function rt(e){if(void 0===Xe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Ye=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Ye}var lt=!1;function st(e,t){if(!e||lt)return"";lt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var a=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(l){a=l}e.call(n.prototype)}}else{try{throw Error()}catch(s){a=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&a&&"string"===typeof i.stack)return[i.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=a.DetermineComponentFrameRoot(),s=l[0],i=l[1];if(s&&i){var o=s.split("\n"),c=i.split("\n");for(r=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(a===o.length||r===c.length)for(a=o.length-1,r=c.length-1;1<=a&&0<=r&&o[a]!==c[r];)r--;for(;1<=a&&0<=r;a--,r--)if(o[a]!==c[r]){if(1!==a||1!==r)do{if(a--,0>--r||o[a]!==c[r]){var u="\n"+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=r);break}}}finally{lt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rt(n):""}function it(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return rt("Activity");default:return""}}function ot(e){try{var t="";do{t+=it(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ut(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ht=/[\n"\\]/g;function pt(e){return e.replace(ht,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,a,r,l,s,i){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?bt(e,s,ct(t)):null!=n?bt(e,s,ct(n)):null!=a&&e.removeAttribute("value"),null==r&&null!=l&&(e.defaultChecked=!!l),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+ct(i):e.removeAttribute("name")}function xt(e,t,n,a,r,l,s,i){if(null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.type=l),null!=t||null!=n){if(!("submit"!==l&&"reset"!==l||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}a="function"!==typeof(a=null!=a?a:r)&&"symbol"!==typeof a&&!!a,e.checked=i?e.checked:!!a,e.defaultChecked=!!a,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function bt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function vt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Nt(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(s(92));if(M(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jt(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&jt(e,r,a)}else for(var l in t)t.hasOwnProperty(l)&&jt(e,l,t[l])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Dt=null;function Tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Mt=null;function It(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Me]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[Me]||null;if(!r)throw Error(s(90));gt(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&ft(a)}break e;case"textarea":vt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var Rt=!1;function _t(e,t,n){if(Rt)return e(t,n);Rt=!0;try{return e(t)}finally{if(Rt=!1,(null!==Pt||null!==Mt)&&(Bc(),Pt&&(t=Pt,e=Mt,Mt=Pt=null,It(t),e)))for(t=0;t<e.length;t++)It(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Me]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ot=!1;if(Ft)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Ot=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(If){Ot=!1}var Bt=null,Ut=null,Ht=null;function $t(){if(Ht)return Ht;var e,t,n=Ut,a=n.length,r="value"in Bt?Bt.value:Bt.textContent,l=r.length;for(e=0;e<a&&n[e]===r[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===r[l-t];t++);return Ht=r.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Qt(){return!1}function Wt(e){function t(t,n,a,r,l){for(var s in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Gt:Qt,this.isPropagationStopped=Qt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Kt,Xt,Yt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Wt(Jt),en=f({},Jt,{view:0,detail:0}),tn=Wt(en),nn=f({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Kt=e.screenX-Yt.screenX,Xt=e.screenY-Yt.screenY):Xt=Kt=0,Yt=e),Kt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),an=Wt(nn),rn=Wt(f({},nn,{dataTransfer:0})),ln=Wt(f({},en,{relatedTarget:0})),sn=Wt(f({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),on=Wt(f({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Wt(f({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function hn(){return mn}var pn=Wt(f({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Wt(f({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Wt(f({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn})),bn=Wt(f({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Wt(f({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vn=Wt(f({},Jt,{newState:0,oldState:0})),Nn=[9,13,27,32],wn=Ft&&"CompositionEvent"in window,kn=null;Ft&&"documentMode"in document&&(kn=document.documentMode);var jn=Ft&&"TextEvent"in window&&!kn,Sn=Ft&&(!wn||kn&&8<kn&&11>=kn),Cn=String.fromCharCode(32),En=!1;function An(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tn[e.type]:"textarea"===t}function Mn(e,t,n,a){Pt?Mt?Mt.push(a):Mt=[a]:Pt=a,0<(t=$u(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var In=null,Rn=null;function _n(e){_u(e,0)}function zn(e){if(ft(He(e)))return e}function Fn(e,t){if("change"===e)return t}var On=!1;if(Ft){var qn;if(Ft){var Bn="oninput"in document;if(!Bn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Bn="function"===typeof Un.oninput}qn=Bn}else qn=!1;On=qn&&(!document.documentMode||9<document.documentMode)}function Hn(){In&&(In.detachEvent("onpropertychange",$n),Rn=In=null)}function $n(e){if("value"===e.propertyName&&zn(Rn)){var t=[];Mn(t,Rn,e,Tt(e)),_t(_n,t)}}function Vn(e,t,n){"focusin"===e?(Hn(),Rn=n,(In=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Hn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Rn)}function Qn(e,t){if("click"===e)return zn(t)}function Wn(e,t){if("input"===e||"change"===e)return zn(t)}var Kn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Kn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!X.call(t,r)||!Kn(e[r],t[r]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,a=Yn(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yn(a)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ea(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ta(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var na=Ft&&"documentMode"in document&&11>=document.documentMode,aa=null,ra=null,la=null,sa=!1;function ia(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sa||null==aa||aa!==mt(a)||("selectionStart"in(a=aa)&&ta(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},la&&Xn(la,a)||(la=a,0<(a=$u(ra,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=aa)))}function oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ca={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},ua={},da={};function fa(e){if(ua[e])return ua[e];if(!ca[e])return e;var t,n=ca[e];for(t in n)if(n.hasOwnProperty(t)&&t in da)return ua[e]=n[t];return e}Ft&&(da=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);var ma=fa("animationend"),ha=fa("animationiteration"),pa=fa("animationstart"),ga=fa("transitionrun"),xa=fa("transitionstart"),ba=fa("transitioncancel"),ya=fa("transitionend"),va=new Map,Na="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(e,t){va.set(e,t),We(t,[e])}Na.push("scrollEnd");var ka=new WeakMap;function ja(e,t){if("object"===typeof e&&null!==e){var n=ka.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ot(t)},ka.set(e,t),t)}return{value:e,source:t,stack:ot(t)}}var Sa=[],Ca=0,Ea=0;function Aa(){for(var e=Ca,t=Ea=Ca=0;t<e;){var n=Sa[t];Sa[t++]=null;var a=Sa[t];Sa[t++]=null;var r=Sa[t];Sa[t++]=null;var l=Sa[t];if(Sa[t++]=null,null!==a&&null!==r){var s=a.pending;null===s?r.next=r:(r.next=s.next,s.next=r),a.pending=r}0!==l&&Pa(n,r,l)}}function La(e,t,n,a){Sa[Ca++]=e,Sa[Ca++]=t,Sa[Ca++]=n,Sa[Ca++]=a,Ea|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Da(e,t,n,a){return La(e,t,n,a),Ma(e)}function Ta(e,t){return La(e,null,null,t),Ma(e)}function Pa(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var r=!1,l=e.return;null!==l;)l.childLanes|=n,null!==(a=l.alternate)&&(a.childLanes|=n),22===l.tag&&(null===(e=l.stateNode)||1&e._visibility||(r=!0)),e=l,l=l.return;return 3===e.tag?(l=e.stateNode,r&&null!==t&&(r=31-me(n),null===(a=(e=l.hiddenUpdates)[r])?e[r]=[t]:a.push(t),t.lane=536870912|n),l):null}function Ma(e){if(50<Pc)throw Pc=0,Mc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ia={};function Ra(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(e,t,n,a){return new Ra(e,t,n,a)}function za(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fa(e,t){var n=e.alternate;return null===n?((n=_a(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Oa(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qa(e,t,n,a,r,l){var i=0;if(a=e,"function"===typeof e)za(e)&&(i=1);else if("string"===typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=_a(31,n,t,r)).elementType=E,e.lanes=l,e;case g:return Ba(n.children,r,l,t);case x:i=8,r|=24;break;case b:return(e=_a(12,n,t,2|r)).elementType=b,e.lanes=l,e;case k:return(e=_a(13,n,t,r)).elementType=k,e.lanes=l,e;case j:return(e=_a(19,n,t,r)).elementType=j,e.lanes=l,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case y:case N:i=10;break e;case v:i=9;break e;case w:i=11;break e;case S:i=14;break e;case C:i=16,a=null;break e}i=29,n=Error(s(130,null===e?"null":typeof e,"")),a=null}return(t=_a(i,n,t,r)).elementType=e,t.type=a,t.lanes=l,t}function Ba(e,t,n,a){return(e=_a(7,e,a,t)).lanes=n,e}function Ua(e,t,n){return(e=_a(6,e,null,t)).lanes=n,e}function Ha(e,t,n){return(t=_a(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $a=[],Va=0,Ga=null,Qa=0,Wa=[],Ka=0,Xa=null,Ya=1,Ja="";function Za(e,t){$a[Va++]=Qa,$a[Va++]=Ga,Ga=e,Qa=t}function er(e,t,n){Wa[Ka++]=Ya,Wa[Ka++]=Ja,Wa[Ka++]=Xa,Xa=e;var a=Ya;e=Ja;var r=32-me(a)-1;a&=~(1<<r),n+=1;var l=32-me(t)+r;if(30<l){var s=r-r%5;l=(a&(1<<s)-1).toString(32),a>>=s,r-=s,Ya=1<<32-me(t)+r|n<<r|a,Ja=l+e}else Ya=1<<l|n<<r|a,Ja=e}function tr(e){null!==e.return&&(Za(e,1),er(e,1,0))}function nr(e){for(;e===Ga;)Ga=$a[--Va],$a[Va]=null,Qa=$a[--Va],$a[Va]=null;for(;e===Xa;)Xa=Wa[--Ka],Wa[Ka]=null,Ja=Wa[--Ka],Wa[Ka]=null,Ya=Wa[--Ka],Wa[Ka]=null}var ar=null,rr=null,lr=!1,sr=null,ir=!1,or=Error(s(519));function cr(e){throw pr(ja(Error(s(418,"")),e)),or}function ur(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Pe]=e,t[Me]=a,n){case"dialog":zu("cancel",t),zu("close",t);break;case"iframe":case"object":case"embed":zu("load",t);break;case"video":case"audio":for(n=0;n<Iu.length;n++)zu(Iu[n],t);break;case"source":zu("error",t);break;case"img":case"image":case"link":zu("error",t),zu("load",t);break;case"details":zu("toggle",t);break;case"input":zu("invalid",t),xt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),dt(t);break;case"select":zu("invalid",t);break;case"textarea":zu("invalid",t),Nt(t,a.value,a.defaultValue,a.children),dt(t)}"string"!==typeof(n=a.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||Xu(t.textContent,n)?(null!=a.popover&&(zu("beforetoggle",t),zu("toggle",t)),null!=a.onScroll&&zu("scroll",t),null!=a.onScrollEnd&&zu("scrollend",t),null!=a.onClick&&(t.onclick=Yu),t=!0):t=!1,t||cr(e)}function dr(e){for(ar=e.return;ar;)switch(ar.tag){case 5:case 13:return void(ir=!1);case 27:case 3:return void(ir=!0);default:ar=ar.return}}function fr(e){if(e!==ar)return!1;if(!lr)return dr(e),lr=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&rr&&cr(e),dr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){rr=xd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}rr=null}}else 27===n?(n=rr,md(e.type)?(e=bd,bd=null,rr=e):rr=n):rr=ar?xd(e.stateNode.nextSibling):null;return!0}function mr(){rr=ar=null,lr=!1}function hr(){var e=sr;return null!==e&&(null===yc?yc=e:yc.push.apply(yc,e),sr=null),e}function pr(e){null===sr?sr=[e]:sr.push(e)}var gr=O(null),xr=null,br=null;function yr(e,t,n){B(gr,t._currentValue),t._currentValue=n}function vr(e){e._currentValue=gr.current,q(gr)}function Nr(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function wr(e,t,n,a){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var l=r.dependencies;if(null!==l){var i=r.child;l=l.firstContext;e:for(;null!==l;){var o=l;l=r;for(var c=0;c<t.length;c++)if(o.context===t[c]){l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),Nr(l.return,n,e),a||(i=null);break e}l=o.next}}else if(18===r.tag){if(null===(i=r.return))throw Error(s(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Nr(i,n,e),i=null}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===e){i=null;break}if(null!==(r=i.sibling)){r.return=i.return,i=r;break}i=i.return}r=i}}function kr(e,t,n,a){e=null;for(var r=t,l=!1;null!==r;){if(!l)if(0!==(524288&r.flags))l=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var i=r.alternate;if(null===i)throw Error(s(387));if(null!==(i=i.memoizedProps)){var o=r.type;Kn(r.pendingProps.value,i.value)||(null!==e?e.push(o):e=[o])}}else if(r===V.current){if(null===(i=r.alternate))throw Error(s(387));i.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Wd):e=[Wd])}r=r.return}null!==e&&wr(t,e,n,a),t.flags|=262144}function jr(e){for(e=e.firstContext;null!==e;){if(!Kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sr(e){xr=e,br=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Cr(e){return Ar(xr,e)}function Er(e,t){return null===xr&&Sr(e),Ar(e,t)}function Ar(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===br){if(null===e)throw Error(s(308));br=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else br=br.next=t;return n}var Lr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Dr=a.unstable_scheduleCallback,Tr=a.unstable_NormalPriority,Pr={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mr(){return{controller:new Lr,data:new Map,refCount:0}}function Ir(e){e.refCount--,0===e.refCount&&Dr(Tr,function(){e.controller.abort()})}var Rr=null,_r=0,zr=0,Fr=null;function Or(){if(0===--_r&&null!==Rr){null!==Fr&&(Fr.status="fulfilled");var e=Rr;Rr=null,zr=0,Fr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var qr=I.S;I.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Rr){var n=Rr=[];_r=0,zr=Lu(),Fr={status:"pending",value:void 0,then:function(e){n.push(e)}}}_r++,t.then(Or,Or)}(0,t),null!==qr&&qr(e,t)};var Br=O(null);function Ur(){var e=Br.current;return null!==e?e:ac.pooledCache}function Hr(e,t){B(Br,null===t?Br.current:t.pool)}function $r(){var e=Ur();return null===e?null:{parent:Pr._currentValue,pool:e}}var Vr=Error(s(460)),Gr=Error(s(474)),Qr=Error(s(542)),Wr={then:function(){}};function Kr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xr(){}function Yr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xr,Xr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw el(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xr,Xr);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw el(e=t.reason),e}throw Jr=t,Vr}}var Jr=null;function Zr(){if(null===Jr)throw Error(s(459));var e=Jr;return Jr=null,e}function el(e){if(e===Vr||e===Qr)throw Error(s(483))}var tl=!1;function nl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function al(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ll(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&nc)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=Ma(e),Pa(e,null,n),t}return La(e,a,t,n),Ma(e)}function sl(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function il(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,l=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===l?r=l=s:l=l.next=s,n=n.next}while(null!==n);null===l?r=l=t:l=l.next=t}else r=l=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:l,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ol=!1;function cl(){if(ol){if(null!==Fr)throw Fr}}function ul(e,t,n,a){ol=!1;var r=e.updateQueue;tl=!1;var l=r.firstBaseUpdate,s=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var o=i,c=o.next;o.next=null,null===s?l=c:s.next=c,s=o;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=o))}if(null!==l){var d=r.baseState;for(s=0,u=c=o=null,i=l;;){var m=-536870913&i.lane,h=m!==i.lane;if(h?(lc&m)===m:(a&m)===m){0!==m&&m===zr&&(ol=!0),null!==u&&(u=u.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var p=e,g=i;m=t;var x=n;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(x,d,m);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=g.payload)?p.call(x,d,m):p)||void 0===m)break e;d=f({},d,m);break e;case 2:tl=!0}}null!==(m=i.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=r.callbacks)?r.callbacks=[m]:h.push(m))}else h={lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=h,o=d):u=u.next=h,s|=m;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(h=i).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}null===u&&(o=d),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===l&&(r.shared.lanes=0),mc|=s,e.lanes=s,e.memoizedState=d}}function dl(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function fl(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)dl(n[e],t)}var ml=O(null),hl=O(0);function pl(e,t){B(hl,e=dc),B(ml,t),dc=e|t.baseLanes}function gl(){B(hl,dc),B(ml,ml.current)}function xl(){dc=hl.current,q(ml),q(hl)}var bl=0,yl=null,vl=null,Nl=null,wl=!1,kl=!1,jl=!1,Sl=0,Cl=0,El=null,Al=0;function Ll(){throw Error(s(321))}function Dl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function Tl(e,t,n,a,r,l){return bl=l,yl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=null===e||null===e.memoizedState?Vs:Gs,jl=!1,l=n(a,r),jl=!1,kl&&(l=Ml(t,n,a,r)),Pl(e),l}function Pl(e){I.H=$s;var t=null!==vl&&null!==vl.next;if(bl=0,Nl=vl=yl=null,wl=!1,Cl=0,El=null,t)throw Error(s(300));null===e||Ci||null!==(e=e.dependencies)&&jr(e)&&(Ci=!0)}function Ml(e,t,n,a){yl=e;var r=0;do{if(kl&&(El=null),Cl=0,kl=!1,25<=r)throw Error(s(301));if(r+=1,Nl=vl=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}I.H=Qs,l=t(n,a)}while(kl);return l}function Il(){var e=I.H,t=e.useState()[0];return t="function"===typeof t.then?ql(t):t,e=e.useState()[0],(null!==vl?vl.memoizedState:null)!==e&&(yl.flags|=1024),t}function Rl(){var e=0!==Sl;return Sl=0,e}function _l(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zl(e){if(wl){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}wl=!1}bl=0,Nl=vl=yl=null,kl=!1,Cl=Sl=0,El=null}function Fl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Nl?yl.memoizedState=Nl=e:Nl=Nl.next=e,Nl}function Ol(){if(null===vl){var e=yl.alternate;e=null!==e?e.memoizedState:null}else e=vl.next;var t=null===Nl?yl.memoizedState:Nl.next;if(null!==t)Nl=t,vl=e;else{if(null===e){if(null===yl.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(vl=e).memoizedState,baseState:vl.baseState,baseQueue:vl.baseQueue,queue:vl.queue,next:null},null===Nl?yl.memoizedState=Nl=e:Nl=Nl.next=e}return Nl}function ql(e){var t=Cl;return Cl+=1,null===El&&(El=[]),e=Yr(El,e,t),t=yl,null===(null===Nl?t.memoizedState:Nl.next)&&(t=t.alternate,I.H=null===t||null===t.memoizedState?Vs:Gs),e}function Bl(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ql(e);if(e.$$typeof===N)return Cr(e)}throw Error(s(438,String(e)))}function Ul(e){var t=null,n=yl.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=yl.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},yl.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=A;return t.index++,n}function Hl(e,t){return"function"===typeof t?t(e):t}function $l(e){return Vl(Ol(),vl,e)}function Vl(e,t,n){var a=e.queue;if(null===a)throw Error(s(311));a.lastRenderedReducer=n;var r=e.baseQueue,l=a.pending;if(null!==l){if(null!==r){var i=r.next;r.next=l.next,l.next=i}t.baseQueue=r=l,a.pending=null}if(l=e.baseState,null===r)e.memoizedState=l;else{var o=i=null,c=null,u=t=r.next,d=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(lc&f)===f:(bl&f)===f){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===zr&&(d=!0);else{if((bl&m)===m){u=u.next,m===zr&&(d=!0);continue}f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=f,i=l):c=c.next=f,yl.lanes|=m,mc|=m}f=u.action,jl&&n(l,f),l=u.hasEagerState?u.eagerState:n(l,f)}else m={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=m,i=l):c=c.next=m,yl.lanes|=f,mc|=f;u=u.next}while(null!==u&&u!==t);if(null===c?i=l:c.next=o,!Kn(l,e.memoizedState)&&(Ci=!0,d&&null!==(n=Fr)))throw n;e.memoizedState=l,e.baseState=i,e.baseQueue=c,a.lastRenderedState=l}return null===r&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Gl(e){var t=Ol(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,l=t.memoizedState;if(null!==r){n.pending=null;var i=r=r.next;do{l=e(l,i.action),i=i.next}while(i!==r);Kn(l,t.memoizedState)||(Ci=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,a]}function Ql(e,t,n){var a=yl,r=Ol(),l=lr;if(l){if(void 0===n)throw Error(s(407));n=n()}else n=t();var i=!Kn((vl||r).memoizedState,n);if(i&&(r.memoizedState=n,Ci=!0),r=r.queue,gs(2048,8,Xl.bind(null,a,r,e),[e]),r.getSnapshot!==t||i||null!==Nl&&1&Nl.memoizedState.tag){if(a.flags|=2048,ms(9,{destroy:void 0,resource:void 0},Kl.bind(null,a,r,n,t),null),null===ac)throw Error(s(349));l||0!==(124&bl)||Wl(a,t,n)}return n}function Wl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=yl.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},yl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Kl(e,t,n,a){t.value=n,t.getSnapshot=a,Yl(t)&&Jl(e)}function Xl(e,t,n){return n(function(){Yl(t)&&Jl(e)})}function Yl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch(a){return!0}}function Jl(e){var t=Ta(e,2);null!==t&&_c(t,e,2)}function Zl(e){var t=Fl();if("function"===typeof e){var n=e;if(e=n(),jl){fe(!0);try{n()}finally{fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:e},t}function es(e,t,n,a){return e.baseState=n,Vl(e,vl,"function"===typeof a?a:Hl)}function ts(e,t,n,a,r){if(Bs(e))throw Error(s(485));if(null!==(e=t.action)){var l={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==I.T?n(!0):l.isTransition=!1,a(l),null===(n=t.pending)?(l.next=t.pending=l,ns(t,l)):(l.next=n.next,t.pending=n.next=l)}}function ns(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var l=I.T,s={};I.T=s;try{var i=n(r,a),o=I.S;null!==o&&o(s,i),as(e,t,i)}catch(c){ls(e,t,c)}finally{I.T=l}}else try{as(e,t,l=n(r,a))}catch(u){ls(e,t,u)}}function as(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){rs(e,t,n)},function(n){return ls(e,t,n)}):rs(e,t,n)}function rs(e,t,n){t.status="fulfilled",t.value=n,ss(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ns(e,n)))}function ls(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,ss(t),t=t.next}while(t!==a)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function is(e,t){return t}function os(e,t){if(lr){var n=ac.formState;if(null!==n){e:{var a=yl;if(lr){if(rr){t:{for(var r=rr,l=ir;8!==r.nodeType;){if(!l){r=null;break t}if(null===(r=xd(r.nextSibling))){r=null;break t}}r="F!"===(l=r.data)||"F"===l?r:null}if(r){rr=xd(r.nextSibling),a="F!"===r.data;break e}}cr(a)}a=!1}a&&(t=n[0])}}return(n=Fl()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},n.queue=a,n=Fs.bind(null,yl,a),a.dispatch=n,a=Zl(!1),l=qs.bind(null,yl,!1,a.queue),r={state:t,dispatch:null,action:e,pending:null},(a=Fl()).queue=r,n=ts.bind(null,yl,r,l,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function cs(e){return us(Ol(),vl,e)}function us(e,t,n){if(t=Vl(e,t,is)[0],e=$l(Hl)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var a=ql(t)}catch(s){if(s===Vr)throw Qr;throw s}else a=t;var r=(t=Ol()).queue,l=r.dispatch;return n!==t.memoizedState&&(yl.flags|=2048,ms(9,{destroy:void 0,resource:void 0},ds.bind(null,r,n),null)),[a,l,e]}function ds(e,t){e.action=t}function fs(e){var t=Ol(),n=vl;if(null!==n)return us(t,n,e);Ol(),t=t.memoizedState;var a=(n=Ol()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function ms(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=yl.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},yl.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function hs(){return Ol().memoizedState}function ps(e,t,n,a){var r=Fl();a=void 0===a?null:a,yl.flags|=e,r.memoizedState=ms(1|t,{destroy:void 0,resource:void 0},n,a)}function gs(e,t,n,a){var r=Ol();a=void 0===a?null:a;var l=r.memoizedState.inst;null!==vl&&null!==a&&Dl(a,vl.memoizedState.deps)?r.memoizedState=ms(t,l,n,a):(yl.flags|=e,r.memoizedState=ms(1|t,l,n,a))}function xs(e,t){ps(8390656,8,e,t)}function bs(e,t){gs(2048,8,e,t)}function ys(e,t){return gs(4,2,e,t)}function vs(e,t){return gs(4,4,e,t)}function Ns(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ws(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4,4,Ns.bind(null,t,e),n)}function ks(){}function js(e,t){var n=Ol();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&Dl(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ss(e,t){var n=Ol();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&Dl(t,a[1]))return a[0];if(a=e(),jl){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[a,t],a}function Cs(e,t,n){return void 0===n||0!==(1073741824&bl)?e.memoizedState=t:(e.memoizedState=n,e=Rc(),yl.lanes|=e,mc|=e,n)}function Es(e,t,n,a){return Kn(n,t)?n:null!==ml.current?(e=Cs(e,n,a),Kn(e,t)||(Ci=!0),e):0===(42&bl)?(Ci=!0,e.memoizedState=n):(e=Rc(),yl.lanes|=e,mc|=e,t)}function As(e,t,n,a,r){var l=R.p;R.p=0!==l&&8>l?l:8;var s=I.T,i={};I.T=i,qs(e,!1,t,n);try{var o=r(),c=I.S;if(null!==c&&c(i,o),null!==o&&"object"===typeof o&&"function"===typeof o.then)Os(e,t,function(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(a.status="rejected",a.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),a}(o,a),Ic());else Os(e,t,a,Ic())}catch(u){Os(e,t,{then:function(){},status:"rejected",reason:u},Ic())}finally{R.p=l,I.T=s}}function Ls(){}function Ds(e,t,n,a){if(5!==e.tag)throw Error(s(476));var r=Ts(e).queue;As(e,r,t,_,null===n?Ls:function(){return Ps(e),n(a)})}function Ts(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:_},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ps(e){Os(e,Ts(e).next.queue,{},Ic())}function Ms(){return Cr(Wd)}function Is(){return Ol().memoizedState}function Rs(){return Ol().memoizedState}function _s(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ic(),a=ll(t,e=rl(n),n);return null!==a&&(_c(a,t,n),sl(a,t,n)),t={cache:Mr()},void(e.payload=t)}t=t.return}}function zs(e,t,n){var a=Ic();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bs(e)?Us(t,n):null!==(n=Da(e,t,n,a))&&(_c(n,e,a),Hs(n,t,a))}function Fs(e,t,n){Os(e,t,n,Ic())}function Os(e,t,n,a){var r={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bs(e))Us(t,r);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=l(s,n);if(r.hasEagerState=!0,r.eagerState=i,Kn(i,s))return La(e,t,r,0),null===ac&&Aa(),!1}catch(o){}if(null!==(n=Da(e,t,r,a)))return _c(n,e,a),Hs(n,t,a),!0}return!1}function qs(e,t,n,a){if(a={lane:2,revertLane:Lu(),action:a,hasEagerState:!1,eagerState:null,next:null},Bs(e)){if(t)throw Error(s(479))}else null!==(t=Da(e,n,a,2))&&_c(t,e,2)}function Bs(e){var t=e.alternate;return e===yl||null!==t&&t===yl}function Us(e,t){kl=wl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hs(e,t,n){if(0!==(4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var $s={readContext:Cr,use:Bl,useCallback:Ll,useContext:Ll,useEffect:Ll,useImperativeHandle:Ll,useLayoutEffect:Ll,useInsertionEffect:Ll,useMemo:Ll,useReducer:Ll,useRef:Ll,useState:Ll,useDebugValue:Ll,useDeferredValue:Ll,useTransition:Ll,useSyncExternalStore:Ll,useId:Ll,useHostTransitionStatus:Ll,useFormState:Ll,useActionState:Ll,useOptimistic:Ll,useMemoCache:Ll,useCacheRefresh:Ll},Vs={readContext:Cr,use:Bl,useCallback:function(e,t){return Fl().memoizedState=[e,void 0===t?null:t],e},useContext:Cr,useEffect:xs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ps(4194308,4,Ns.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ps(4194308,4,e,t)},useInsertionEffect:function(e,t){ps(4,2,e,t)},useMemo:function(e,t){var n=Fl();t=void 0===t?null:t;var a=e();if(jl){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Fl();if(void 0!==n){var r=n(t);if(jl){fe(!0);try{n(t)}finally{fe(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=zs.bind(null,yl,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},Fl().memoizedState=e},useState:function(e){var t=(e=Zl(e)).queue,n=Fs.bind(null,yl,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(e,t){return Cs(Fl(),e,t)},useTransition:function(){var e=Zl(!1);return e=As.bind(null,yl,e.queue,!0,!1),Fl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=yl,r=Fl();if(lr){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===ac)throw Error(s(349));0!==(124&lc)||Wl(a,t,n)}r.memoizedState=n;var l={value:n,getSnapshot:t};return r.queue=l,xs(Xl.bind(null,a,l,e),[e]),a.flags|=2048,ms(9,{destroy:void 0,resource:void 0},Kl.bind(null,a,l,n,t),null),n},useId:function(){var e=Fl(),t=ac.identifierPrefix;if(lr){var n=Ja;t="\xab"+t+"R"+(n=(Ya&~(1<<32-me(Ya)-1)).toString(32)+n),0<(n=Sl++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Al++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ms,useFormState:os,useActionState:os,useOptimistic:function(e){var t=Fl();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=qs.bind(null,yl,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ul,useCacheRefresh:function(){return Fl().memoizedState=_s.bind(null,yl)}},Gs={readContext:Cr,use:Bl,useCallback:js,useContext:Cr,useEffect:bs,useImperativeHandle:ws,useInsertionEffect:ys,useLayoutEffect:vs,useMemo:Ss,useReducer:$l,useRef:hs,useState:function(){return $l(Hl)},useDebugValue:ks,useDeferredValue:function(e,t){return Es(Ol(),vl.memoizedState,e,t)},useTransition:function(){var e=$l(Hl)[0],t=Ol().memoizedState;return["boolean"===typeof e?e:ql(e),t]},useSyncExternalStore:Ql,useId:Is,useHostTransitionStatus:Ms,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return es(Ol(),0,e,t)},useMemoCache:Ul,useCacheRefresh:Rs},Qs={readContext:Cr,use:Bl,useCallback:js,useContext:Cr,useEffect:bs,useImperativeHandle:ws,useInsertionEffect:ys,useLayoutEffect:vs,useMemo:Ss,useReducer:Gl,useRef:hs,useState:function(){return Gl(Hl)},useDebugValue:ks,useDeferredValue:function(e,t){var n=Ol();return null===vl?Cs(n,e,t):Es(n,vl.memoizedState,e,t)},useTransition:function(){var e=Gl(Hl)[0],t=Ol().memoizedState;return["boolean"===typeof e?e:ql(e),t]},useSyncExternalStore:Ql,useId:Is,useHostTransitionStatus:Ms,useFormState:fs,useActionState:fs,useOptimistic:function(e,t){var n=Ol();return null!==vl?es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ul,useCacheRefresh:Rs},Ws=null,Ks=0;function Xs(e){var t=Ks;return Ks+=1,null===Ws&&(Ws=[]),Yr(Ws,e,t)}function Ys(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Js(e,t){if(t.$$typeof===m)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zs(e){return(0,e._init)(e._payload)}function ei(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Fa(e,t)).index=0,e.sibling=null,e}function l(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=Ua(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var l=n.type;return l===g?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===C&&Zs(l)===t.type)?(Ys(t=r(t,n.props),n),t.return=e,t):(Ys(t=qa(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ha(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,a,l){return null===t||7!==t.tag?((t=Ba(n,e.mode,a,l)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ua(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case h:return Ys(n=qa(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case p:return(t=Ha(t,e.mode,n)).return=e,t;case C:return f(e,t=(0,t._init)(t._payload),n)}if(M(t)||D(t))return(t=Ba(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return f(e,Xs(t),n);if(t.$$typeof===N)return f(e,Er(e,t),n);Js(e,t)}return null}function m(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:o(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===r?c(e,t,n,a):null;case p:return n.key===r?u(e,t,n,a):null;case C:return m(e,t,n=(r=n._init)(n._payload),a)}if(M(n)||D(n))return null!==r?null:d(e,t,n,a,null);if("function"===typeof n.then)return m(e,t,Xs(n),a);if(n.$$typeof===N)return m(e,t,Er(e,n),a);Js(e,n)}return null}function x(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return o(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case h:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case p:return u(t,e=e.get(null===a.key?n:a.key)||null,a,r);case C:return x(e,t,n,a=(0,a._init)(a._payload),r)}if(M(a)||D(a))return d(t,e=e.get(n)||null,a,r,null);if("function"===typeof a.then)return x(e,t,n,Xs(a),r);if(a.$$typeof===N)return x(e,t,n,Er(t,a),r);Js(t,a)}return null}function b(o,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case h:e:{for(var y=u.key;null!==c;){if(c.key===y){if((y=u.type)===g){if(7===c.tag){n(o,c.sibling),(d=r(c,u.props.children)).return=o,o=d;break e}}else if(c.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===C&&Zs(y)===c.type){n(o,c.sibling),Ys(d=r(c,u.props),u),d.return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}u.type===g?((d=Ba(u.props.children,o.mode,d,u.key)).return=o,o=d):(Ys(d=qa(u.type,u.key,u.props,null,o.mode,d),u),d.return=o,o=d)}return i(o);case p:e:{for(y=u.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(o,c.sibling),(d=r(c,u.children||[])).return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}(d=Ha(u,o.mode,d)).return=o,o=d}return i(o);case C:return b(o,c,u=(y=u._init)(u._payload),d)}if(M(u))return function(r,s,i,o){for(var c=null,u=null,d=s,h=s=0,p=null;null!==d&&h<i.length;h++){d.index>h?(p=d,d=null):p=d.sibling;var g=m(r,d,i[h],o);if(null===g){null===d&&(d=p);break}e&&d&&null===g.alternate&&t(r,d),s=l(g,s,h),null===u?c=g:u.sibling=g,u=g,d=p}if(h===i.length)return n(r,d),lr&&Za(r,h),c;if(null===d){for(;h<i.length;h++)null!==(d=f(r,i[h],o))&&(s=l(d,s,h),null===u?c=d:u.sibling=d,u=d);return lr&&Za(r,h),c}for(d=a(d);h<i.length;h++)null!==(p=x(d,r,h,i[h],o))&&(e&&null!==p.alternate&&d.delete(null===p.key?h:p.key),s=l(p,s,h),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach(function(e){return t(r,e)}),lr&&Za(r,h),c}(o,c,u,d);if(D(u)){if("function"!==typeof(y=D(u)))throw Error(s(150));return function(r,i,o,c){if(null==o)throw Error(s(151));for(var u=null,d=null,h=i,p=i=0,g=null,b=o.next();null!==h&&!b.done;p++,b=o.next()){h.index>p?(g=h,h=null):g=h.sibling;var y=m(r,h,b.value,c);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(r,h),i=l(y,i,p),null===d?u=y:d.sibling=y,d=y,h=g}if(b.done)return n(r,h),lr&&Za(r,p),u;if(null===h){for(;!b.done;p++,b=o.next())null!==(b=f(r,b.value,c))&&(i=l(b,i,p),null===d?u=b:d.sibling=b,d=b);return lr&&Za(r,p),u}for(h=a(h);!b.done;p++,b=o.next())null!==(b=x(h,r,p,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?p:b.key),i=l(b,i,p),null===d?u=b:d.sibling=b,d=b);return e&&h.forEach(function(e){return t(r,e)}),lr&&Za(r,p),u}(o,c,u=y.call(u),d)}if("function"===typeof u.then)return b(o,c,Xs(u),d);if(u.$$typeof===N)return b(o,c,Er(o,u),d);Js(o,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(o,c.sibling),(d=r(c,u)).return=o,o=d):(n(o,c),(d=Ua(u,o.mode,d)).return=o,o=d),i(o)):n(o,c)}return function(e,t,n,a){try{Ks=0;var r=b(e,t,n,a);return Ws=null,r}catch(s){if(s===Vr||s===Qr)throw s;var l=_a(29,s,null,e.mode);return l.lanes=a,l.return=e,l}}}var ti=ei(!0),ni=ei(!1),ai=O(null),ri=null;function li(e){var t=e.alternate;B(ci,1&ci.current),B(ai,e),null===ri&&(null===t||null!==ml.current||null!==t.memoizedState)&&(ri=e)}function si(e){if(22===e.tag){if(B(ci,ci.current),B(ai,e),null===ri){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ri=e)}}else ii()}function ii(){B(ci,ci.current),B(ai,ai.current)}function oi(e){q(ai),ri===e&&(ri=null),q(ci)}var ci=O(0);function ui(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function di(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fi={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Ic(),r=rl(a);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ll(e,r,a))&&(_c(t,e,a),sl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Ic(),r=rl(a);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ll(e,r,a))&&(_c(t,e,a),sl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ic(),a=rl(n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=ll(e,a,n))&&(_c(t,e,n),sl(t,e,n))}};function mi(e,t,n,a,r,l,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,l,s):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,a)||!Xn(r,l))}function hi(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&fi.enqueueReplaceState(t,t.state,null)}function pi(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var r in n===t&&(n=f({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var gi="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function xi(e){gi(e)}function bi(e){console.error(e)}function yi(e){gi(e)}function vi(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ni(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function wi(e,t,n){return(n=rl(n)).tag=3,n.payload={element:null},n.callback=function(){vi(e,t)},n}function ki(e){return(e=rl(e)).tag=3,e}function ji(e,t,n,a){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var l=a.value;e.payload=function(){return r(l)},e.callback=function(){Ni(t,n,a)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Ni(t,n,a),"function"!==typeof r&&(null===jc?jc=new Set([this]):jc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Si=Error(s(461)),Ci=!1;function Ei(e,t,n,a){t.child=null===e?ni(t,null,n,a):ti(t,e.child,n,a)}function Ai(e,t,n,a,r){n=n.render;var l=t.ref;if("ref"in a){var s={};for(var i in a)"ref"!==i&&(s[i]=a[i])}else s=a;return Sr(t),a=Tl(e,t,n,s,l,r),i=Rl(),null===e||Ci?(lr&&i&&tr(t),t.flags|=1,Ei(e,t,a,r),t.child):(_l(e,t,r),Wi(e,t,r))}function Li(e,t,n,a,r){if(null===e){var l=n.type;return"function"!==typeof l||za(l)||void 0!==l.defaultProps||null!==n.compare?((e=qa(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,Di(e,t,l,a,r))}if(l=e.child,!Ki(e,r)){var s=l.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(s,a)&&e.ref===t.ref)return Wi(e,t,r)}return t.flags|=1,(e=Fa(l,a)).ref=t.ref,e.return=t,t.child=e}function Di(e,t,n,a,r){if(null!==e){var l=e.memoizedProps;if(Xn(l,a)&&e.ref===t.ref){if(Ci=!1,t.pendingProps=a=l,!Ki(e,r))return t.lanes=e.lanes,Wi(e,t,r);0!==(131072&e.flags)&&(Ci=!0)}}return Ii(e,t,n,a,r)}function Ti(e,t,n){var a=t.pendingProps,r=a.children,l=null!==e?e.memoizedState:null;if("hidden"===a.mode){if(0!==(128&t.flags)){if(a=null!==l?l.baseLanes|n:n,null!==e){for(r=t.child=e.child,l=0;null!==r;)l=l|r.lanes|r.childLanes,r=r.sibling;t.childLanes=l&~a}else t.childLanes=0,t.child=null;return Pi(e,t,a,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Pi(e,t,null!==l?l.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hr(0,null!==l?l.cachePool:null),null!==l?pl(t,l):gl(),si(t)}else null!==l?(Hr(0,l.cachePool),pl(t,l),ii(),t.memoizedState=null):(null!==e&&Hr(0,null),gl(),ii());return Ei(e,t,r,n),t.child}function Pi(e,t,n,a){var r=Ur();return r=null===r?null:{parent:Pr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Hr(0,null),gl(),si(t),null!==e&&kr(e,t,a,!0),null}function Mi(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ii(e,t,n,a,r){return Sr(t),n=Tl(e,t,n,a,void 0,r),a=Rl(),null===e||Ci?(lr&&a&&tr(t),t.flags|=1,Ei(e,t,n,r),t.child):(_l(e,t,r),Wi(e,t,r))}function Ri(e,t,n,a,r,l){return Sr(t),t.updateQueue=null,n=Ml(t,a,n,r),Pl(e),a=Rl(),null===e||Ci?(lr&&a&&tr(t),t.flags|=1,Ei(e,t,n,l),t.child):(_l(e,t,l),Wi(e,t,l))}function _i(e,t,n,a,r){if(Sr(t),null===t.stateNode){var l=Ia,s=n.contextType;"object"===typeof s&&null!==s&&(l=Cr(s)),l=new n(a,l),t.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=fi,t.stateNode=l,l._reactInternals=t,(l=t.stateNode).props=a,l.state=t.memoizedState,l.refs={},nl(t),s=n.contextType,l.context="object"===typeof s&&null!==s?Cr(s):Ia,l.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(di(t,n,s,a),l.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof l.getSnapshotBeforeUpdate||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||(s=l.state,"function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),s!==l.state&&fi.enqueueReplaceState(l,l.state,null),ul(t,a,l,r),cl(),l.state=t.memoizedState),"function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){l=t.stateNode;var i=t.memoizedProps,o=pi(n,i);l.props=o;var c=l.context,u=n.contextType;s=Ia,"object"===typeof u&&null!==u&&(s=Cr(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate,i=t.pendingProps!==i,u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i||c!==s)&&hi(t,l,a,s),tl=!1;var f=t.memoizedState;l.state=f,ul(t,a,l,r),cl(),c=t.memoizedState,i||f!==c||tl?("function"===typeof d&&(di(t,n,d,a),c=t.memoizedState),(o=tl||mi(t,n,o,a,f,c,s))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),l.props=a,l.state=c,l.context=s,a=o):("function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,al(e,t),u=pi(n,s=t.memoizedProps),l.props=u,d=t.pendingProps,f=l.context,c=n.contextType,o=Ia,"object"===typeof c&&null!==c&&(o=Cr(c)),(c="function"===typeof(i=n.getDerivedStateFromProps)||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(s!==d||f!==o)&&hi(t,l,a,o),tl=!1,f=t.memoizedState,l.state=f,ul(t,a,l,r),cl();var m=t.memoizedState;s!==d||f!==m||tl||null!==e&&null!==e.dependencies&&jr(e.dependencies)?("function"===typeof i&&(di(t,n,i,a),m=t.memoizedState),(u=tl||mi(t,n,u,a,f,m,o)||null!==e&&null!==e.dependencies&&jr(e.dependencies))?(c||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(a,m,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(a,m,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),l.props=a,l.state=m,l.context=o,a=u):("function"!==typeof l.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return l=a,Mi(e,t),a=0!==(128&t.flags),l||a?(l=t.stateNode,n=a&&"function"!==typeof n.getDerivedStateFromError?null:l.render(),t.flags|=1,null!==e&&a?(t.child=ti(t,e.child,null,r),t.child=ti(t,null,n,r)):Ei(e,t,n,r),t.memoizedState=l.state,e=t.child):e=Wi(e,t,r),e}function zi(e,t,n,a){return mr(),t.flags|=256,Ei(e,t,n,a),t.child}var Fi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oi(e){return{baseLanes:e,cachePool:$r()}}function qi(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Bi(e,t,n){var a,r=t.pendingProps,l=!1,i=0!==(128&t.flags);if((a=i)||(a=(null===e||null!==e.memoizedState)&&0!==(2&ci.current)),a&&(l=!0,t.flags&=-129),a=0!==(32&t.flags),t.flags&=-33,null===e){if(lr){if(l?li(t):ii(),lr){var o,c=rr;if(o=c){e:{for(o=c,c=ir;8!==o.nodeType;){if(!c){c=null;break e}if(null===(o=xd(o.nextSibling))){c=null;break e}}c=o}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xa?{id:Ya,overflow:Ja}:null,retryLane:536870912,hydrationErrors:null},(o=_a(18,null,null,0)).stateNode=c,o.return=t,t.child=o,ar=t,rr=null,o=!0):o=!1}o||cr(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;oi(t)}return c=r.children,r=r.fallback,l?(ii(),c=Hi({mode:"hidden",children:c},l=t.mode),r=Ba(r,l,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(l=t.child).memoizedState=Oi(n),l.childLanes=qi(e,a,n),t.memoizedState=Fi,r):(li(t),Ui(t,c))}if(null!==(o=e.memoizedState)&&null!==(c=o.dehydrated)){if(i)256&t.flags?(li(t),t.flags&=-257,t=$i(e,t,n)):null!==t.memoizedState?(ii(),t.child=e.child,t.flags|=128,t=null):(ii(),l=r.fallback,c=t.mode,r=Hi({mode:"visible",children:r.children},c),(l=Ba(l,c,n,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,ti(t,e.child,null,n),(r=t.child).memoizedState=Oi(n),r.childLanes=qi(e,a,n),t.memoizedState=Fi,t=l);else if(li(t),gd(c)){if(a=c.nextSibling&&c.nextSibling.dataset)var u=a.dgst;a=u,(r=Error(s(419))).stack="",r.digest=a,pr({value:r,source:null,stack:null}),t=$i(e,t,n)}else if(Ci||kr(e,t,n,!1),a=0!==(n&e.childLanes),Ci||a){if(null!==(a=ac)&&(0!==(r=0!==((r=0!==(42&(r=n&-n))?1:Ae(r))&(a.suspendedLanes|n))?0:r)&&r!==o.retryLane))throw o.retryLane=r,Ta(e,r),_c(a,e,r),Si;"$?"===c.data||Qc(),t=$i(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,rr=xd(c.nextSibling),ar=t,lr=!0,sr=null,ir=!1,null!==e&&(Wa[Ka++]=Ya,Wa[Ka++]=Ja,Wa[Ka++]=Xa,Ya=e.id,Ja=e.overflow,Xa=t),(t=Ui(t,r.children)).flags|=4096);return t}return l?(ii(),l=r.fallback,c=t.mode,u=(o=e.child).sibling,(r=Fa(o,{mode:"hidden",children:r.children})).subtreeFlags=65011712&o.subtreeFlags,null!==u?l=Fa(u,l):(l=Ba(l,c,n,null)).flags|=2,l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,null===(c=e.child.memoizedState)?c=Oi(n):(null!==(o=c.cachePool)?(u=Pr._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=$r(),c={baseLanes:c.baseLanes|n,cachePool:o}),l.memoizedState=c,l.childLanes=qi(e,a,n),t.memoizedState=Fi,r):(li(t),e=(n=e.child).sibling,(n=Fa(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Ui(e,t){return(t=Hi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Hi(e,t){return(e=_a(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function $i(e,t,n){return ti(t,e.child,null,n),(e=Ui(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vi(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Nr(e.return,t,n)}function Gi(e,t,n,a,r){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=n,l.tailMode=r)}function Qi(e,t,n){var a=t.pendingProps,r=a.revealOrder,l=a.tail;if(Ei(e,t,a.children,n),0!==(2&(a=ci.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vi(e,n,t);else if(19===e.tag)Vi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(B(ci,a),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ui(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Gi(t,!1,r,n,l);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ui(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Gi(t,!0,n,null,l);break;case"together":Gi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),mc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(kr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fa(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fa(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ki(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!jr(e))}function Xi(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ci=!0;else{if(!Ki(e,n)&&0===(128&t.flags))return Ci=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),yr(0,Pr,e.memoizedState.cache),mr();break;case 27:case 5:W(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:yr(0,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(li(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bi(e,t,n):(li(t),null!==(e=Wi(e,t,n))?e.sibling:null);li(t);break;case 19:var r=0!==(128&e.flags);if((a=0!==(n&t.childLanes))||(kr(e,t,n,!1),a=0!==(n&t.childLanes)),r){if(a)return Qi(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),B(ci,ci.current),a)break;return null;case 22:case 23:return t.lanes=0,Ti(e,t,n);case 24:yr(0,Pr,e.memoizedState.cache)}return Wi(e,t,n)}(e,t,n);Ci=0!==(131072&e.flags)}else Ci=!1,lr&&0!==(1048576&t.flags)&&er(t,Qa,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,r=a._init;if(a=r(a._payload),t.type=a,"function"!==typeof a){if(void 0!==a&&null!==a){if((r=a.$$typeof)===w){t.tag=11,t=Ai(null,t,a,e,n);break e}if(r===S){t.tag=14,t=Li(null,t,a,e,n);break e}}throw t=P(a)||a,Error(s(306,t,""))}za(a)?(e=pi(a,e),t.tag=1,t=_i(null,t,a,e,n)):(t.tag=0,t=Ii(null,t,a,e,n))}return t;case 0:return Ii(e,t,t.type,t.pendingProps,n);case 1:return _i(e,t,a=t.type,r=pi(a,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(s(387));a=t.pendingProps;var l=t.memoizedState;r=l.element,al(e,t),ul(t,a,null,n);var i=t.memoizedState;if(a=i.cache,yr(0,Pr,a),a!==l.cache&&wr(t,[Pr],n,!0),cl(),a=i.element,l.isDehydrated){if(l={element:a,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=zi(e,t,a,n);break e}if(a!==r){pr(r=ja(Error(s(424)),t)),t=zi(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(rr=xd(e.firstChild),ar=t,lr=!0,sr=null,ir=!0,n=ni(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mr(),a===r){t=Wi(e,t,n);break e}Ei(e,t,a,n)}t=t.child}return t;case 26:return Mi(e,t),null===e?(n=Ad(t.type,null,t.pendingProps,null))?t.memoizedState=n:lr||(n=t.type,e=t.pendingProps,(a=ad($.current).createElement(n))[Pe]=t,a[Me]=e,ed(a,n,e),Ve(a),t.stateNode=a):t.memoizedState=Ad(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return W(t),null===e&&lr&&(a=t.stateNode=vd(t.type,t.pendingProps,$.current),ar=t,ir=!0,r=rr,md(t.type)?(bd=r,rr=xd(a.firstChild)):rr=r),Ei(e,t,t.pendingProps.children,n),Mi(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&lr&&((r=a=rr)&&(null!==(a=function(e,t,n,a){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Oe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(l=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(l!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((l=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var l=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===l)return e}if(null===(e=xd(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,ir))?(t.stateNode=a,ar=t,rr=xd(a.firstChild),ir=!1,r=!0):r=!1),r||cr(t)),W(t),r=t.type,l=t.pendingProps,i=null!==e?e.memoizedProps:null,a=l.children,sd(r,l)?a=null:null!==i&&sd(r,i)&&(t.flags|=32),null!==t.memoizedState&&(r=Tl(e,t,Il,null,null,n),Wd._currentValue=r),Mi(e,t),Ei(e,t,a,n),t.child;case 6:return null===e&&lr&&((e=n=rr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=xd(e.nextSibling)))return null}return e}(n,t.pendingProps,ir))?(t.stateNode=n,ar=t,rr=null,e=!0):e=!1),e||cr(t)),null;case 13:return Bi(e,t,n);case 4:return G(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ti(t,null,a,n):Ei(e,t,a,n),t.child;case 11:return Ai(e,t,t.type,t.pendingProps,n);case 7:return Ei(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ei(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,yr(0,t.type,a.value),Ei(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Sr(t),a=a(r=Cr(r)),t.flags|=1,Ei(e,t,a,n),t.child;case 14:return Li(e,t,t.type,t.pendingProps,n);case 15:return Di(e,t,t.type,t.pendingProps,n);case 19:return Qi(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},null===e?((n=Hi(a,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fa(e.child,a)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ti(e,t,n);case 24:return Sr(t),a=Cr(Pr),null===e?(null===(r=Ur())&&(r=ac,l=Mr(),r.pooledCache=l,l.refCount++,null!==l&&(r.pooledCacheLanes|=n),r=l),t.memoizedState={parent:a,cache:r},nl(t),yr(0,Pr,r)):(0!==(e.lanes&n)&&(al(e,t),ul(t,null,null,n),cl()),r=e.memoizedState,l=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),yr(0,Pr,a)):(a=l.cache,yr(0,Pr,a),a!==r.cache&&wr(t,[Pr],n,!0))),Ei(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Yi(e){e.flags|=4}function Ji(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=ai.current)&&((4194048&lc)===lc?null!==ri:(62914560&lc)!==lc&&0===(536870912&lc)||t!==ri))throw Jr=Wr,Gr;e.flags|=8192}}function Zi(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,xc|=t)}function eo(e,t){if(!lr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function to(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=65011712&r.subtreeFlags,a|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function no(e,t,n){var a=t.pendingProps;switch(nr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return to(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),vr(Pr),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fr(t)?Yi(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,hr())),to(t),null;case 26:return n=t.memoizedState,null===e?(Yi(t),null!==n?(to(t),Ji(t,n)):(to(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Yi(t),to(t),Ji(t,n)):(to(t),t.flags&=-16777217):(e.memoizedProps!==a&&Yi(t),to(t),t.flags&=-16777217),null;case 27:K(t),n=$.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Yi(t);else{if(!a){if(null===t.stateNode)throw Error(s(166));return to(t),null}e=U.current,fr(t)?ur(t):(e=vd(r,a,n),t.stateNode=e,Yi(t))}return to(t),null;case 5:if(K(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Yi(t);else{if(!a){if(null===t.stateNode)throw Error(s(166));return to(t),null}if(e=U.current,fr(t))ur(t);else{switch(r=ad($.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof a.is?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e="string"===typeof a.is?r.createElement(n,{is:a.is}):r.createElement(n)}}e[Pe]=t,e[Me]=a;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(ed(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Yi(t)}}return to(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&Yi(t);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(e=$.current,fr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(r=ar))switch(r.tag){case 27:case 5:a=r.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||Xu(e.nodeValue,n)))||cr(t)}else(e=ad(e).createTextNode(a))[Pe]=t,t.stateNode=e}return to(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=fr(t),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[Pe]=t}else mr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;to(t),r=!1}else r=hr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(oi(t),t):(oi(t),null)}if(oi(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==a,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(r=a.alternate.memoizedState.cachePool.pool);var l=null;null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(l=a.memoizedState.cachePool.pool),l!==r&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Zi(t,t.updateQueue),to(t),null;case 4:return Q(),null===e&&qu(t.stateNode.containerInfo),to(t),null;case 10:return vr(t.type),to(t),null;case 19:if(q(ci),null===(r=t.memoizedState))return to(t),null;if(a=0!==(128&t.flags),null===(l=r.rendering))if(a)eo(r,!1);else{if(0!==fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ui(e))){for(t.flags|=128,eo(r,!1),e=l.updateQueue,t.updateQueue=e,Zi(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Oa(n,e),n=n.sibling;return B(ci,1&ci.current|2),t.child}e=e.sibling}null!==r.tail&&te()>wc&&(t.flags|=128,a=!0,eo(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ui(l))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Zi(t,e),eo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!lr)return to(t),null}else 2*te()-r.renderingStartTime>wc&&536870912!==n&&(t.flags|=128,a=!0,eo(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=r.last)?e.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,e=ci.current,B(ci,a?1&e|2:1&e),t):(to(t),null);case 22:case 23:return oi(t),xl(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?0!==(536870912&n)&&0===(128&t.flags)&&(to(t),6&t.subtreeFlags&&(t.flags|=8192)):to(t),null!==(n=t.updateQueue)&&Zi(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&q(Br),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),vr(Pr),to(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function ao(e,t){switch(nr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return vr(Pr),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return K(t),null;case 13:if(oi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));mr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return q(ci),null;case 4:return Q(),null;case 10:return vr(t.type),null;case 22:case 23:return oi(t),xl(),null!==e&&q(Br),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return vr(Pr),null;default:return null}}function ro(e,t){switch(nr(t),t.tag){case 3:vr(Pr),Q();break;case 26:case 27:case 5:K(t);break;case 4:Q();break;case 13:oi(t);break;case 19:q(ci);break;case 10:vr(t.type);break;case 22:case 23:oi(t),xl(),null!==e&&q(Br);break;case 24:vr(Pr)}}function lo(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var l=n.create,s=n.inst;a=l(),s.destroy=a}n=n.next}while(n!==r)}}catch(i){uu(t,t.return,i)}}function so(e,t,n){try{var a=t.updateQueue,r=null!==a?a.lastEffect:null;if(null!==r){var l=r.next;a=l;do{if((a.tag&e)===e){var s=a.inst,i=s.destroy;if(void 0!==i){s.destroy=void 0,r=t;var o=n,c=i;try{c()}catch(u){uu(r,o,u)}}}a=a.next}while(a!==l)}}catch(u){uu(t,t.return,u)}}function io(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fl(t,n)}catch(a){uu(e,e.return,a)}}}function oo(e,t,n){n.props=pi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){uu(e,t,a)}}function co(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"===typeof n?e.refCleanup=n(a):n.current=a}}catch(r){uu(e,t,r)}}function uo(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"===typeof a)try{a()}catch(r){uu(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(l){uu(e,t,l)}else n.current=null}function fo(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){uu(e,e.return,r)}}function mo(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,l=null,i=null,o=null,c=null,u=null,d=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&null!=f)switch(h){case"checked":case"value":break;case"defaultValue":c=f;default:a.hasOwnProperty(h)||Ju(e,t,h,null,a,f)}}for(var m in a){var h=a[m];if(f=n[m],a.hasOwnProperty(m)&&(null!=h||null!=f))switch(m){case"type":l=h;break;case"name":r=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":i=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,t));break;default:h!==f&&Ju(e,t,m,h,a,f)}}return void gt(e,i,o,c,u,d,l,r);case"select":for(l in h=i=o=m=null,n)if(c=n[l],n.hasOwnProperty(l)&&null!=c)switch(l){case"value":break;case"multiple":h=c;default:a.hasOwnProperty(l)||Ju(e,t,l,null,a,c)}for(r in a)if(l=a[r],c=n[r],a.hasOwnProperty(r)&&(null!=l||null!=c))switch(r){case"value":m=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:l!==c&&Ju(e,t,r,l,a,c)}return t=o,n=i,a=h,void(null!=m?yt(e,!!n,m,!1):!!a!==!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(o in h=m=null,n)if(r=n[o],n.hasOwnProperty(o)&&null!=r&&!a.hasOwnProperty(o))switch(o){case"value":case"children":break;default:Ju(e,t,o,null,a,r)}for(i in a)if(r=a[i],l=n[i],a.hasOwnProperty(i)&&(null!=r||null!=l))switch(i){case"value":m=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(s(91));break;default:r!==l&&Ju(e,t,i,r,a,l)}return void vt(e,m,h);case"option":for(var p in n)if(m=n[p],n.hasOwnProperty(p)&&null!=m&&!a.hasOwnProperty(p))if("selected"===p)e.selected=!1;else Ju(e,t,p,null,a,m);for(c in a)if(m=a[c],h=n[c],a.hasOwnProperty(c)&&m!==h&&(null!=m||null!=h))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else Ju(e,t,c,m,a,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!a.hasOwnProperty(g)&&Ju(e,t,g,null,a,m);for(u in a)if(m=a[u],h=n[u],a.hasOwnProperty(u)&&m!==h&&(null!=m||null!=h))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(s(137,t));break;default:Ju(e,t,u,m,a,h)}return;default:if(Ct(t)){for(var x in n)m=n[x],n.hasOwnProperty(x)&&void 0!==m&&!a.hasOwnProperty(x)&&Zu(e,t,x,void 0,a,m);for(d in a)m=a[d],h=n[d],!a.hasOwnProperty(d)||m===h||void 0===m&&void 0===h||Zu(e,t,d,m,a,h);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&null!=m&&!a.hasOwnProperty(b)&&Ju(e,t,b,null,a,m);for(f in a)m=a[f],h=n[f],!a.hasOwnProperty(f)||m===h||null==m&&null==h||Ju(e,t,f,m,a,h)}(a,e.type,n,t),a[Me]=t}catch(r){uu(e,e.return,r)}}function ho(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&md(e.type)||4===e.tag}function po(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ho(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&md(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function go(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yu));else if(4!==a&&(27===a&&md(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(go(e,t,n),e=e.sibling;null!==e;)go(e,t,n),e=e.sibling}function xo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&md(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(xo(e,t,n),e=e.sibling;null!==e;)xo(e,t,n),e=e.sibling}function bo(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ed(t,a,n),t[Pe]=e,t[Me]=n}catch(l){uu(e,e.return,l)}}var yo=!1,vo=!1,No=!1,wo="function"===typeof WeakSet?WeakSet:Set,ko=null;function jo(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:zo(e,n),4&a&&lo(5,n);break;case 1:if(zo(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var r=pi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){uu(n,n.return,i)}}64&a&&io(n),512&a&&co(n,n.return);break;case 3:if(zo(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fl(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&a&&bo(n);case 26:case 5:zo(e,n),null===t&&4&a&&fo(n),512&a&&co(n,n.return);break;case 12:zo(e,n);break;case 13:zo(e,n),4&a&&Do(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=hu.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||yo)){t=null!==t&&null!==t.memoizedState||vo,r=yo;var l=vo;yo=a,(vo=t)&&!l?Oo(e,n,0!==(8772&n.subtreeFlags)):zo(e,n),yo=r,vo=l}break;case 30:break;default:zo(e,n)}}function So(e){var t=e.alternate;null!==t&&(e.alternate=null,So(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Co=null,Eo=!1;function Ao(e,t,n){for(n=n.child;null!==n;)Lo(e,t,n),n=n.sibling}function Lo(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(l){}switch(n.tag){case 26:vo||uo(n,t),Ao(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:vo||uo(n,t);var a=Co,r=Eo;md(n.type)&&(Co=n.stateNode,Eo=!1),Ao(e,t,n),Nd(n.stateNode),Co=a,Eo=r;break;case 5:vo||uo(n,t);case 6:if(a=Co,r=Eo,Co=null,Ao(e,t,n),Eo=r,null!==(Co=a))if(Eo)try{(9===Co.nodeType?Co.body:"HTML"===Co.nodeName?Co.ownerDocument.body:Co).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{Co.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==Co&&(Eo?(hd(9===(e=Co).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Af(e)):hd(Co,n.stateNode));break;case 4:a=Co,r=Eo,Co=n.stateNode.containerInfo,Eo=!0,Ao(e,t,n),Co=a,Eo=r;break;case 0:case 11:case 14:case 15:vo||so(2,n,t),vo||so(4,n,t),Ao(e,t,n);break;case 1:vo||(uo(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount&&oo(n,t,a)),Ao(e,t,n);break;case 21:Ao(e,t,n);break;case 22:vo=(a=vo)||null!==n.memoizedState,Ao(e,t,n),vo=a;break;default:Ao(e,t,n)}}function Do(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Af(e)}catch(n){uu(t,t.return,n)}}function To(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new wo),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new wo),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var a=pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}function Po(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a],l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 27:if(md(o.type)){Co=o.stateNode,Eo=!1;break e}break;case 5:Co=o.stateNode,Eo=!1;break e;case 3:case 4:Co=o.stateNode.containerInfo,Eo=!0;break e}o=o.return}if(null===Co)throw Error(s(160));Lo(l,i,r),Co=null,Eo=!1,null!==(l=r.alternate)&&(l.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Io(t,e),t=t.sibling}var Mo=null;function Io(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Po(t,e),Ro(e),4&a&&(so(3,e,e.return),lo(3,e),so(5,e,e.return));break;case 1:Po(t,e),Ro(e),512&a&&(vo||null===n||uo(n,n.return)),64&a&&yo&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var r=Mo;if(Po(t,e),Ro(e),512&a&&(vo||null===n||uo(n,n.return)),4&a){var l=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":(!(l=r.getElementsByTagName("title")[0])||l[Oe]||l[Pe]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=r.createElement(a),r.head.insertBefore(l,r.querySelector("head > title"))),ed(l,a,n),l[Pe]=e,Ve(l),a=l;break e;case"link":var i=Od("link","href",r).get(a+(n.href||""));if(i)for(var o=0;o<i.length;o++)if((l=i[o]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&l.getAttribute("rel")===(null==n.rel?null:n.rel)&&l.getAttribute("title")===(null==n.title?null:n.title)&&l.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(o,1);break t}ed(l=r.createElement(a),a,n),r.head.appendChild(l);break;case"meta":if(i=Od("meta","content",r).get(a+(n.content||"")))for(o=0;o<i.length;o++)if((l=i[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&l.getAttribute("name")===(null==n.name?null:n.name)&&l.getAttribute("property")===(null==n.property?null:n.property)&&l.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&l.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(o,1);break t}ed(l=r.createElement(a),a,n),r.head.appendChild(l);break;default:throw Error(s(468,a))}l[Pe]=e,Ve(l),a=l}e.stateNode=a}else qd(r,e.type,e.stateNode);else e.stateNode=Id(r,a,e.memoizedProps);else l!==a?(null===l?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):l.count--,null===a?qd(r,e.type,e.stateNode):Id(r,a,e.memoizedProps)):null===a&&null!==e.stateNode&&mo(e,e.memoizedProps,n.memoizedProps)}break;case 27:Po(t,e),Ro(e),512&a&&(vo||null===n||uo(n,n.return)),null!==n&&4&a&&mo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Po(t,e),Ro(e),512&a&&(vo||null===n||uo(n,n.return)),32&e.flags){r=e.stateNode;try{wt(r,"")}catch(h){uu(e,e.return,h)}}4&a&&null!=e.stateNode&&mo(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&a&&(No=!0);break;case 6:if(Po(t,e),Ro(e),4&a){if(null===e.stateNode)throw Error(s(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(h){uu(e,e.return,h)}}break;case 3:if(Fd=null,r=Mo,Mo=jd(t.containerInfo),Po(t,e),Mo=r,Ro(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Af(t.containerInfo)}catch(h){uu(e,e.return,h)}No&&(No=!1,_o(e));break;case 4:a=Mo,Mo=jd(e.stateNode.containerInfo),Po(t,e),Ro(e),Mo=a;break;case 12:default:Po(t,e),Ro(e);break;case 13:Po(t,e),Ro(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Nc=te()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,To(e,a)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=yo,d=vo;if(yo=u||r,vo=d||c,Po(t,e),vo=d,yo=u,Ro(e),8192&a)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||yo||vo||Fo(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(l=c.stateNode,r)"function"===typeof(i=l.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var f=c.memoizedProps.style,m=void 0!==f&&null!==f&&f.hasOwnProperty("display")?f.display:null;o.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(h){uu(c,c.return,h)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(h){uu(c,c.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,To(e,n))));break;case 19:Po(t,e),Ro(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,To(e,a)));case 30:case 21:}}function Ro(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(ho(a)){n=a;break}a=a.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var r=n.stateNode;xo(e,po(e),r);break;case 5:var l=n.stateNode;32&n.flags&&(wt(l,""),n.flags&=-33),xo(e,po(e),l);break;case 3:case 4:var i=n.stateNode.containerInfo;go(e,po(e),i);break;default:throw Error(s(161))}}catch(o){uu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _o(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;_o(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function zo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)jo(e,t.alternate,t),t=t.sibling}function Fo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:so(4,t,t.return),Fo(t);break;case 1:uo(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&oo(t,t.return,n),Fo(t);break;case 27:Nd(t.stateNode);case 26:case 5:uo(t,t.return),Fo(t);break;case 22:null===t.memoizedState&&Fo(t);break;default:Fo(t)}e=e.sibling}}function Oo(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,r=e,l=t,s=l.flags;switch(l.tag){case 0:case 11:case 15:Oo(r,l,n),lo(4,l);break;case 1:if(Oo(r,l,n),"function"===typeof(r=(a=l).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){uu(a,a.return,c)}if(null!==(r=(a=l).updateQueue)){var i=a.stateNode;try{var o=r.shared.hiddenCallbacks;if(null!==o)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)dl(o[r],i)}catch(c){uu(a,a.return,c)}}n&&64&s&&io(l),co(l,l.return);break;case 27:bo(l);case 26:case 5:Oo(r,l,n),n&&null===a&&4&s&&fo(l),co(l,l.return);break;case 12:Oo(r,l,n);break;case 13:Oo(r,l,n),n&&4&s&&Do(r,l);break;case 22:null===l.memoizedState&&Oo(r,l,n),co(l,l.return);break;case 30:break;default:Oo(r,l,n)}t=t.sibling}}function qo(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ir(n))}function Bo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ir(e))}function Uo(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Ho(e,t,n,a),t=t.sibling}function Ho(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Uo(e,t,n,a),2048&r&&lo(9,t);break;case 1:case 13:default:Uo(e,t,n,a);break;case 3:Uo(e,t,n,a),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ir(e)));break;case 12:if(2048&r){Uo(e,t,n,a),e=t.stateNode;try{var l=t.memoizedProps,s=l.id,i=l.onPostCommit;"function"===typeof i&&i(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){uu(t,t.return,o)}}else Uo(e,t,n,a);break;case 23:break;case 22:l=t.stateNode,s=t.alternate,null!==t.memoizedState?2&l._visibility?Uo(e,t,n,a):Vo(e,t):2&l._visibility?Uo(e,t,n,a):(l._visibility|=2,$o(e,t,n,a,0!==(10256&t.subtreeFlags))),2048&r&&qo(s,t);break;case 24:Uo(e,t,n,a),2048&r&&Bo(t.alternate,t)}}function $o(e,t,n,a,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var l=e,s=t,i=n,o=a,c=s.flags;switch(s.tag){case 0:case 11:case 15:$o(l,s,i,o,r),lo(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?$o(l,s,i,o,r):Vo(l,s):(u._visibility|=2,$o(l,s,i,o,r)),r&&2048&c&&qo(s.alternate,s);break;case 24:$o(l,s,i,o,r),r&&2048&c&&Bo(s.alternate,s);break;default:$o(l,s,i,o,r)}t=t.sibling}}function Vo(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:Vo(n,a),2048&r&&qo(a.alternate,a);break;case 24:Vo(n,a),2048&r&&Bo(a.alternate,a);break;default:Vo(n,a)}t=t.sibling}}var Go=8192;function Qo(e){if(e.subtreeFlags&Go)for(e=e.child;null!==e;)Wo(e),e=e.sibling}function Wo(e){switch(e.tag){case 26:Qo(e),e.flags&Go&&null!==e.memoizedState&&function(e,t,n){if(null===Ud)throw Error(s(475));var a=Ud;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=Ld(n.href),l=e.querySelector(Dd(r));if(l)return null!==(e=l._p)&&"object"===typeof e&&"function"===typeof e.then&&(a.count++,a=$d.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=l,void Ve(l);l=e.ownerDocument||e,n=Td(n),(r=wd.get(r))&&_d(n,r),Ve(l=l.createElement("link"));var i=l;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),ed(l,"link",n),t.instance=l}null===a.stylesheets&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(a.count++,t=$d.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}(Mo,e.memoizedState,e.memoizedProps);break;case 5:default:Qo(e);break;case 3:case 4:var t=Mo;Mo=jd(e.stateNode.containerInfo),Qo(e),Mo=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Go,Go=16777216,Qo(e),Go=t):Qo(e))}}function Ko(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xo(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];ko=a,Zo(a,e)}Ko(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Yo(e),e=e.sibling}function Yo(e){switch(e.tag){case 0:case 11:case 15:Xo(e),2048&e.flags&&so(9,e,e.return);break;case 3:case 12:default:Xo(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jo(e)):Xo(e)}}function Jo(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];ko=a,Zo(a,e)}Ko(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:so(8,t,t.return),Jo(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jo(t));break;default:Jo(t)}e=e.sibling}}function Zo(e,t){for(;null!==ko;){var n=ko;switch(n.tag){case 0:case 11:case 15:so(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Ir(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,ko=a;else e:for(n=e;null!==ko;){var r=(a=ko).sibling,l=a.return;if(So(a),a===n){ko=null;break e}if(null!==r){r.return=l,ko=r;break e}ko=l}}}var ec={getCacheForType:function(e){var t=Cr(Pr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,ac=null,rc=null,lc=0,sc=0,ic=null,oc=!1,cc=!1,uc=!1,dc=0,fc=0,mc=0,hc=0,pc=0,gc=0,xc=0,bc=null,yc=null,vc=!1,Nc=0,wc=1/0,kc=null,jc=null,Sc=0,Cc=null,Ec=null,Ac=0,Lc=0,Dc=null,Tc=null,Pc=0,Mc=null;function Ic(){if(0!==(2&nc)&&0!==lc)return lc&-lc;if(null!==I.T){return 0!==zr?zr:Lu()}return De()}function Rc(){0===gc&&(gc=0===(536870912&lc)||lr?we():536870912);var e=ai.current;return null!==e&&(e.flags|=32),gc}function _c(e,t,n){(e!==ac||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Hc(e,0),qc(e,lc,gc,!1)),Se(e,n),0!==(2&nc)&&e===ac||(e===ac&&(0===(2&nc)&&(hc|=n),4===fc&&qc(e,lc,gc,!1)),wu(e))}function zc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var a=!n&&0===(124&t)&&0===(t&e.expiredLanes)||ve(e,t),r=a?function(e,t){var n=nc;nc|=2;var a=Vc(),r=Gc();ac!==e||lc!==t?(kc=null,wc=te()+500,Hc(e,t)):cc=ve(e,t);e:for(;;)try{if(0!==sc&&null!==rc){t=rc;var l=ic;t:switch(sc){case 1:sc=0,ic=null,Zc(e,t,l,1);break;case 2:case 9:if(Kr(l)){sc=0,ic=null,Jc(t);break}t=function(){2!==sc&&9!==sc||ac!==e||(sc=7),wu(e)},l.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Kr(l)?(sc=0,ic=null,Jc(t)):(sc=0,ic=null,Zc(e,t,l,7));break;case 5:var i=null;switch(rc.tag){case 26:i=rc.memoizedState;case 5:case 27:var o=rc;if(!i||Bd(i)){sc=0,ic=null;var c=o.sibling;if(null!==c)rc=c;else{var u=o.return;null!==u?(rc=u,eu(u)):rc=null}break t}}sc=0,ic=null,Zc(e,t,l,5);break;case 6:sc=0,ic=null,Zc(e,t,l,6);break;case 8:Uc(),fc=6;break e;default:throw Error(s(462))}}Xc();break}catch(d){$c(e,d)}return br=xr=null,I.H=a,I.A=r,nc=n,null!==rc?0:(ac=null,lc=0,Aa(),fc)}(e,t):Wc(e,t,!0),l=a;;){if(0===r){cc&&!a&&qc(e,t,0,!1);break}if(n=e.current.alternate,!l||Oc(n)){if(2===r){if(l=t,e.errorRecoveryDisabledLanes&l)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var o=e;r=bc;var c=o.current.memoizedState.isDehydrated;if(c&&(Hc(o,i).flags|=256),2!==(i=Wc(o,i,!1))){if(uc&&!c){o.errorRecoveryDisabledLanes|=l,hc|=l,r=4;break e}l=yc,yc=r,null!==l&&(null===yc?yc=l:yc.push.apply(yc,l))}r=i}if(l=!1,2!==r)continue}}if(1===r){Hc(e,0),qc(e,t,0,!0);break}e:{switch(a=e,l=r){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:qc(a,t,gc,!oc);break e;case 2:yc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(r=Nc+300-te())){if(qc(a,t,gc,!oc),0!==ye(a,0,!0))break e;a.timeoutHandle=od(Fc.bind(null,a,n,yc,kc,vc,t,gc,hc,xc,oc,l,2,-0,0),r)}else Fc(a,n,yc,kc,vc,t,gc,hc,xc,oc,l,0,-0,0)}break}r=Wc(e,t,!1),l=!1}wu(e)}function Fc(e,t,n,a,r,l,i,o,c,u,d,f,m,h){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||16785408===(16785408&f))&&(Ud={stylesheets:null,count:0,unsuspend:Hd},Wo(t),null!==(f=function(){if(null===Ud)throw Error(s(475));var e=Ud;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=f(nu.bind(null,e,t,l,n,a,r,i,o,c,d,1,m,h)),void qc(e,l,i,!u);nu(e,t,l,n,a,r,i,o,c)}function Oc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var r=n[a],l=r.getSnapshot;r=r.value;try{if(!Kn(l(),r))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qc(e,t,n,a){t&=~pc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var l=31-me(r),s=1<<l;a[l]=-1,r&=~s}0!==n&&Ce(e,n,t)}function Bc(){return 0!==(6&nc)||(ku(0,!1),!1)}function Uc(){if(null!==rc){if(0===sc)var e=rc.return;else br=xr=null,zl(e=rc),Ws=null,Ks=0,e=rc;for(;null!==e;)ro(e.alternate,e),e=e.return;rc=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),ac=e,rc=n=Fa(e.current,null),lc=t,sc=0,ic=null,oc=!1,cc=ve(e,t),uc=!1,xc=gc=pc=hc=mc=fc=0,yc=bc=null,vc=!1,0!==(8&t)&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var r=31-me(a),l=1<<r;t|=e[r],a&=~l}return dc=t,Aa(),n}function $c(e,t){yl=null,I.H=$s,t===Vr||t===Qr?(t=Zr(),sc=3):t===Gr?(t=Zr(),sc=4):sc=t===Si?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ic=t,null===rc&&(fc=1,vi(e,ja(t,e.current)))}function Vc(){var e=I.H;return I.H=$s,null===e?$s:e}function Gc(){var e=I.A;return I.A=ec,e}function Qc(){fc=4,oc||(4194048&lc)!==lc&&null!==ai.current||(cc=!0),0===(134217727&mc)&&0===(134217727&hc)||null===ac||qc(ac,lc,gc,!1)}function Wc(e,t,n){var a=nc;nc|=2;var r=Vc(),l=Gc();ac===e&&lc===t||(kc=null,Hc(e,t)),t=!1;var s=fc;e:for(;;)try{if(0!==sc&&null!==rc){var i=rc,o=ic;switch(sc){case 8:Uc(),s=6;break e;case 3:case 2:case 9:case 6:null===ai.current&&(t=!0);var c=sc;if(sc=0,ic=null,Zc(e,i,o,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,ic=null,Zc(e,i,o,c)}}Kc(),s=fc;break}catch(u){$c(e,u)}return t&&e.shellSuspendCounter++,br=xr=null,nc=a,I.H=r,I.A=l,null===rc&&(ac=null,lc=0,Aa()),s}function Kc(){for(;null!==rc;)Yc(rc)}function Xc(){for(;null!==rc&&!Z();)Yc(rc)}function Yc(e){var t=Xi(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):rc=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ri(n,t,t.pendingProps,t.type,void 0,lc);break;case 11:t=Ri(n,t,t.pendingProps,t.type.render,t.ref,lc);break;case 5:zl(t);default:ro(n,t),t=Xi(n,t=rc=Oa(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):rc=t}function Zc(e,t,n,a){br=xr=null,zl(t),Ws=null,Ks=0;var r=t.return;try{if(function(e,t,n,a,r){if(n.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(t=n.alternate)&&kr(t,n,r,!0),null!==(n=ai.current)){switch(n.tag){case 13:return null===ri?Qc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===Wr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),du(e,a,r)),!1;case 22:return n.flags|=65536,a===Wr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),du(e,a,r)),!1}throw Error(s(435,n.tag))}return du(e,a,r),Qc(),!1}if(lr)return null!==(t=ai.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==or&&pr(ja(e=Error(s(422),{cause:a}),n))):(a!==or&&pr(ja(t=Error(s(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,a=ja(a,n),il(e,r=wi(e.stateNode,a,r)),4!==fc&&(fc=2)),!1;var l=Error(s(520),{cause:a});if(l=ja(l,n),null===bc?bc=[l]:bc.push(l),4!==fc&&(fc=2),null===t)return!0;a=ja(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,il(n,e=wi(n.stateNode,a,e)),!1;case 1:if(t=n.type,l=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==l&&"function"===typeof l.componentDidCatch&&(null===jc||!jc.has(l))))return n.flags|=65536,r&=-r,n.lanes|=r,ji(r=ki(r),e,n,a),il(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,lc))return fc=1,vi(e,ja(n,e.current)),void(rc=null)}catch(l){if(null!==r)throw rc=r,l;return fc=1,vi(e,ja(n,e.current)),void(rc=null)}32768&t.flags?(lr||1===a?e=!0:cc||0!==(536870912&lc)?e=!1:(oc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=ai.current)&&13===a.tag&&(a.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,oc);e=t.return;var n=no(t.alternate,t,dc);if(null!==n)return void(rc=n);if(null!==(t=t.sibling))return void(rc=t);rc=t=e}while(null!==t);0===fc&&(fc=5)}function tu(e,t){do{var n=ao(e.alternate,e);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(rc=e);rc=e=n}while(null!==e);fc=6,rc=null}function nu(e,t,n,a,r,l,i,o,c){e.cancelPendingCommit=null;do{iu()}while(0!==Sc);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(l=t.lanes|t.childLanes,function(e,t,n,a,r,l){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-me(n),d=1<<u;i[u]=0,o[u]=-1;var f=c[u];if(null!==f)for(c[u]=null,u=0;u<f.length;u++){var m=f[u];null!==m&&(m.lane&=-536870913)}n&=~d}0!==a&&Ce(e,a,0),0!==l&&0===r&&0!==e.tag&&(e.suspendedLanes|=l&~(s&~t))}(e,n,l|=Ea,i,o,c),e===ac&&(rc=ac=null,lc=0),Ec=t,Cc=e,Ac=n,Lc=l,Dc=r,Tc=a,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Y(le,function(){return ou(),null})):(e.callbackNode=null,e.callbackPriority=0),a=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||a){a=I.T,I.T=null,r=R.p,R.p=2,i=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nf,ta(e=ea(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch(g){n=null;break e}var i=0,o=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==n||0!==r&&3!==f.nodeType||(o=i+r),f!==l||0!==a&&3!==f.nodeType||(c=i+a),3===f.nodeType&&(i+=f.nodeValue.length),null!==(h=f.firstChild);)m=f,f=h;for(;;){if(f===e)break t;if(m===n&&++u===r&&(o=i),m===l&&++d===a&&(c=i),null!==(h=f.nextSibling))break;m=(f=m).parentNode}f=h}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nf=!1,ko=t;null!==ko;)if(e=(t=ko).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,ko=e;else for(;null!==ko;){switch(l=(t=ko).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==l){e=void 0,n=t,r=l.memoizedProps,l=l.memoizedState,a=n.stateNode;try{var p=pi(n.type,r,(n.elementType,n.type));e=a.getSnapshotBeforeUpdate(p,l),a.__reactInternalSnapshotBeforeUpdate=e}catch(x){uu(n,n.return,x)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,ko=e;break}ko=t.return}}(e,t)}finally{nc=i,R.p=r,I.T=a}}Sc=1,au(),ru(),lu()}}function au(){if(1===Sc){Sc=0;var e=Cc,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=I.T,I.T=null;var a=R.p;R.p=2;var r=nc;nc|=4;try{Io(t,e);var l=nd,s=ea(e.containerInfo),i=l.focusedElem,o=l.selectionRange;if(s!==i&&i&&i.ownerDocument&&Zn(i.ownerDocument.documentElement,i)){if(null!==o&&ta(i)){var c=o.start,u=o.end;if(void 0===u&&(u=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(u,i.value.length);else{var d=i.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var m=f.getSelection(),h=i.textContent.length,p=Math.min(o.start,h),g=void 0===o.end?p:Math.min(o.end,h);!m.extend&&p>g&&(s=g,g=p,p=s);var x=Jn(i,p),b=Jn(i,g);if(x&&b&&(1!==m.rangeCount||m.anchorNode!==x.node||m.anchorOffset!==x.offset||m.focusNode!==b.node||m.focusOffset!==b.offset)){var y=d.createRange();y.setStart(x.node,x.offset),m.removeAllRanges(),p>g?(m.addRange(y),m.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),m.addRange(y))}}}}for(d=[],m=i;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<d.length;i++){var v=d[i];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}nf=!!td,nd=td=null}finally{nc=r,R.p=a,I.T=n}}e.current=t,Sc=2}}function ru(){if(2===Sc){Sc=0;var e=Cc,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=I.T,I.T=null;var a=R.p;R.p=2;var r=nc;nc|=4;try{jo(e,t.alternate,t)}finally{nc=r,R.p=a,I.T=n}}Sc=3}}function lu(){if(4===Sc||3===Sc){Sc=0,ee();var e=Cc,t=Ec,n=Ac,a=Tc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Ec=Cc=null,su(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(jc=null),Le(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(o){}if(null!==a){t=I.T,r=R.p,R.p=2,I.T=null;try{for(var l=e.onRecoverableError,s=0;s<a.length;s++){var i=a[s];l(i.value,{componentStack:i.stack})}}finally{I.T=t,R.p=r}}0!==(3&Ac)&&iu(),wu(e),r=e.pendingLanes,0!==(4194090&n)&&0!==(42&r)?e===Mc?Pc++:(Pc=0,Mc=e):Pc=0,ku(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ir(t)))}function iu(e){return au(),ru(),lu(),ou()}function ou(){if(5!==Sc)return!1;var e=Cc,t=Lc;Lc=0;var n=Le(Ac),a=I.T,r=R.p;try{R.p=32>n?32:n,I.T=null,n=Dc,Dc=null;var l=Cc,i=Ac;if(Sc=0,Ec=Cc=null,Ac=0,0!==(6&nc))throw Error(s(331));var o=nc;if(nc|=4,Yo(l.current),Ho(l,l.current,i,n),nc=o,ku(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,l)}catch(c){}return!0}finally{R.p=r,I.T=a,su(e,t)}}function cu(e,t,n){t=ja(n,t),null!==(e=ll(e,t=wi(e.stateNode,t,2),2))&&(Se(e,2),wu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===jc||!jc.has(a))){e=ja(n,e),null!==(a=ll(t,n=ki(2),2))&&(ji(n,a,t,e),Se(a,2),wu(a));break}}t=t.return}}function du(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new tc;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(uc=!0,r.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ac===e&&(lc&n)===n&&(4===fc||3===fc&&(62914560&lc)===lc&&300>te()-Nc?0===(2&nc)&&Hc(e,0):pc|=n,xc===lc&&(xc=0)),wu(e)}function mu(e,t){0===t&&(t=ke()),null!==(e=Ta(e,t))&&(Se(e,t),wu(e))}function hu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),mu(e,n)}function pu(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==a&&a.delete(t),mu(e,n)}var gu=null,xu=null,bu=!1,yu=!1,vu=!1,Nu=0;function wu(e){e!==xu&&null===e.next&&(null===xu?gu=xu=e:xu=xu.next=e),yu=!0,bu||(bu=!0,dd(function(){0!==(6&nc)?Y(ae,ju):Su()}))}function ku(e,t){if(!vu&&yu){vu=!0;do{for(var n=!1,a=gu;null!==a;){if(!t)if(0!==e){var r=a.pendingLanes;if(0===r)var l=0;else{var s=a.suspendedLanes,i=a.pingedLanes;l=(1<<31-me(42|e)+1)-1,l=201326741&(l&=r&~(s&~i))?201326741&l|1:l?2|l:0}0!==l&&(n=!0,Au(a,l))}else l=lc,0===(3&(l=ye(a,a===ac?l:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||ve(a,l)||(n=!0,Au(a,l));a=a.next}}while(n);vu=!1}}function ju(){Su()}function Su(){yu=bu=!1;var e=0;0!==Nu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==id&&(id=e,!0);return id=null,!1}()&&(e=Nu),Nu=0);for(var t=te(),n=null,a=gu;null!==a;){var r=a.next,l=Cu(a,t);0===l?(a.next=null,null===n?gu=r:n.next=r,null===r&&(xu=n)):(n=a,(0!==e||0!==(3&l))&&(yu=!0)),a=r}ku(e,!1)}function Cu(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,l=-62914561&e.pendingLanes;0<l;){var s=31-me(l),i=1<<s,o=r[s];-1===o?0!==(i&n)&&0===(i&a)||(r[s]=Ne(i,t)):o<=t&&(e.expiredLanes|=i),l&=~i}if(n=lc,n=ye(e,e===(t=ac)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&J(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ve(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&J(a),Le(n)){case 2:case 8:n=re;break;case 32:default:n=le;break;case 268435456:n=ie}return a=Eu.bind(null,e),n=Y(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&J(a),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(iu()&&e.callbackNode!==n)return null;var a=lc;return 0===(a=ye(e,e===ac?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(zc(e,a,t),Cu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function Au(e,t){if(iu())return null;zc(e,t,!0)}function Lu(){return 0===Nu&&(Nu=we()),Nu}function Du(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Lt(""+e)}function Tu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<Na.length;Pu++){var Mu=Na[Pu];wa(Mu.toLowerCase(),"on"+(Mu[0].toUpperCase()+Mu.slice(1)))}wa(ma,"onAnimationEnd"),wa(ha,"onAnimationIteration"),wa(pa,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(ga,"onTransitionRun"),wa(xa,"onTransitionStart"),wa(ba,"onTransitionCancel"),wa(ya,"onTransitionEnd"),Ke("onMouseEnter",["mouseout","mouseover"]),Ke("onMouseLeave",["mouseout","mouseover"]),Ke("onPointerEnter",["pointerout","pointerover"]),Ke("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ru=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function _u(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var s=a.length-1;0<=s;s--){var i=a[s],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==l&&r.isPropagationStopped())break e;l=i,r.currentTarget=c;try{l(r)}catch(u){gi(u)}r.currentTarget=null,l=o}else for(s=0;s<a.length;s++){if(o=(i=a[s]).instance,c=i.currentTarget,i=i.listener,o!==l&&r.isPropagationStopped())break e;l=i,r.currentTarget=c;try{l(r)}catch(u){gi(u)}r.currentTarget=null,l=o}}}}function zu(e,t){var n=t[Re];void 0===n&&(n=t[Re]=new Set);var a=e+"__bubble";n.has(a)||(Bu(t,e,2,!1),n.add(a))}function Fu(e,t,n){var a=0;t&&(a|=4),Bu(n,e,a,t)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function qu(e){if(!e[Ou]){e[Ou]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Ru.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ou]||(t[Ou]=!0,Fu("selectionchange",!1,t))}}function Bu(e,t,n,a){switch(uf(t)){case 2:var r=af;break;case 8:r=rf;break;default:r=lf}n=r.bind(null,t,n,e),r=void 0,!Ot||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Uu(e,t,n,a,r){var l=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var s=a.tag;if(3===s||4===s){var i=a.stateNode.containerInfo;if(i===r)break;if(4===s)for(s=a.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===r)return;s=s.return}for(;null!==i;){if(null===(s=Be(i)))return;if(5===(c=s.tag)||6===c||26===c||27===c){a=l=s;continue e}i=i.parentNode}}a=a.return}_t(function(){var a=l,r=Tt(n),s=[];e:{var i=va.get(e);if(void 0!==i){var c=Zt,u=e;switch(e){case"keypress":if(0===Vt(n))break e;case"keydown":case"keyup":c=pn;break;case"focusin":u="focus",c=ln;break;case"focusout":u="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case ma:case ha:case pa:c=sn;break;case ya:c=bn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=yn;break;case"copy":case"cut":case"paste":c=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=vn}var d=0!==(4&t),f=!d&&("scroll"===e||"scrollend"===e),m=d?null!==i?i+"Capture":null:i;d=[];for(var h,p=a;null!==p;){var g=p;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===m||null!=(g=zt(p,m))&&d.push(Hu(p,g,h)),f)break;p=p.return}0<d.length&&(i=new c(i,u,null,n,r),s.push({event:i,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===Dt||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Ie])&&(c||i)&&(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=a,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(f=o(u),d=u.tag,u!==f||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=a),c!==u)){if(d=an,g="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",m="onPointerEnter",p="pointer"),f=null==c?i:He(c),h=null==u?i:He(u),(i=new d(g,p+"leave",c,n,r)).target=f,i.relatedTarget=h,g=null,Be(r)===a&&((d=new d(m,p+"enter",u,n,r)).target=h,d.relatedTarget=f,g=d),f=g,c&&u)e:{for(m=u,p=0,h=d=c;h;h=Vu(h))p++;for(h=0,g=m;g;g=Vu(g))h++;for(;0<p-h;)d=Vu(d),p--;for(;0<h-p;)m=Vu(m),h--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Vu(d),m=Vu(m)}d=null}else d=null;null!==c&&Gu(s,i,c,d,!1),null!==u&&null!==f&&Gu(s,f,u,d,!0)}if("select"===(c=(i=a?He(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var x=Fn;else if(Pn(i))if(On)x=Wn;else{x=Gn;var b=Vn}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?a&&Ct(a.elementType)&&(x=Fn):x=Qn;switch(x&&(x=x(e,a))?Mn(s,x,n,r):(b&&b(e,i,a),"focusout"===e&&a&&"number"===i.type&&null!=a.memoizedProps.value&&bt(i,"number",i.value)),b=a?He(a):window,e){case"focusin":(Pn(b)||"true"===b.contentEditable)&&(aa=b,ra=a,la=null);break;case"focusout":la=ra=aa=null;break;case"mousedown":sa=!0;break;case"contextmenu":case"mouseup":case"dragend":sa=!1,ia(s,n,r);break;case"selectionchange":if(na)break;case"keydown":case"keyup":ia(s,n,r)}var y;if(wn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Dn?An(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Sn&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Dn&&(y=$t()):(Ut="value"in(Bt=r)?Bt.value:Bt.textContent,Dn=!0)),0<(b=$u(a,v)).length&&(v=new cn(v,e,null,n,r),s.push({event:v,listeners:b}),y?v.data=y:null!==(y=Ln(n))&&(v.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(En=!0,Cn);case"textInput":return(e=t.data)===Cn&&En?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!wn&&An(e,t)?(e=$t(),Ht=Ut=Bt=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=$u(a,"onBeforeInput")).length&&(b=new cn("onBeforeInput","beforeinput",null,n,r),s.push({event:b,listeners:v}),b.data=y)),function(e,t,n,a,r){if("submit"===t&&n&&n.stateNode===r){var l=Du((r[Me]||null).action),s=a.submitter;s&&null!==(t=(t=s[Me]||null)?Du(t.formAction):s.getAttribute("formAction"))&&(l=t,s=null);var i=new Zt("action","action",null,a,r);e.push({event:i,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==Nu){var e=s?Tu(r,s):new FormData(r);Ds(n,{pending:!0,data:e,method:r.method,action:l},null,e)}}else"function"===typeof l&&(i.preventDefault(),e=s?Tu(r,s):new FormData(r),Ds(n,{pending:!0,data:e,method:r.method,action:l},l,e))},currentTarget:r}]})}}(s,e,a,n,r)}_u(s,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $u(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,l=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===l||(null!=(r=zt(e,n))&&a.unshift(Hu(e,r,l)),null!=(r=zt(e,t))&&a.push(Hu(e,r,l))),3===e.tag)return a;e=e.return}return[]}function Vu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,a,r){for(var l=t._reactName,s=[];null!==n&&n!==a;){var i=n,o=i.alternate,c=i.stateNode;if(i=i.tag,null!==o&&o===a)break;5!==i&&26!==i&&27!==i||null===c||(o=c,r?null!=(c=zt(n,l))&&s.unshift(Hu(n,c,o)):r||null!=(c=zt(n,l))&&s.push(Hu(n,c,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qu=/\r\n?/g,Wu=/\u0000|\uFFFD/g;function Ku(e){return("string"===typeof e?e:""+e).replace(Qu,"\n").replace(Wu,"")}function Xu(e,t){return t=Ku(t),Ku(e)===t}function Yu(){}function Ju(e,t,n,a,r,l){switch(n){case"children":"string"===typeof a?"body"===t||"textarea"===t&&""===a||wt(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==t&&wt(e,""+a);break;case"className":nt(e,"class",a);break;case"tabIndex":nt(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,a);break;case"style":St(e,a,l);break;case"data":if("object"!==t){nt(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Lt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof l&&("formAction"===n?("input"!==t&&Ju(e,t,"name",r.name,r,null),Ju(e,t,"formEncType",r.formEncType,r,null),Ju(e,t,"formMethod",r.formMethod,r,null),Ju(e,t,"formTarget",r.formTarget,r,null)):(Ju(e,t,"encType",r.encType,r,null),Ju(e,t,"method",r.method,r,null),Ju(e,t,"target",r.target,r,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Lt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Yu);break;case"onScroll":null!=a&&zu("scroll",e);break;case"onScrollEnd":null!=a&&zu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(s(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}n=Lt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":zu("beforetoggle",e),zu("toggle",e),tt(e,"popover",a);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":tt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Et.get(n)||n,a)}}function Zu(e,t,n,a,r,l){switch(n){case"style":St(e,a,l);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(s(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof a?wt(e,a):("number"===typeof a||"bigint"===typeof a)&&wt(e,""+a);break;case"onScroll":null!=a&&zu("scroll",e);break;case"onScrollEnd":null!=a&&zu("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(l=null!=(l=e[Me]||null)?l[n]:null)&&e.removeEventListener(t,l,r),"function"!==typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):tt(e,n,a):("function"!==typeof l&&null!==l&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zu("error",e),zu("load",e);var a,r=!1,l=!1;for(a in n)if(n.hasOwnProperty(a)){var i=n[a];if(null!=i)switch(a){case"src":r=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,a,i,n,null)}}return l&&Ju(e,t,"srcSet",n.srcSet,n,null),void(r&&Ju(e,t,"src",n.src,n,null));case"input":zu("invalid",e);var o=a=i=l=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":l=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Ju(e,t,r,d,n,null)}}return xt(e,a,o,c,u,i,l,!1),void dt(e);case"select":for(l in zu("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(l)&&null!=(o=n[l]))switch(l){case"value":a=o;break;case"defaultValue":i=o;break;case"multiple":r=o;default:Ju(e,t,l,o,n,null)}return t=a,n=i,e.multiple=!!r,void(null!=t?yt(e,!!r,t,!1):null!=n&&yt(e,!!r,n,!0));case"textarea":for(i in zu("invalid",e),a=l=r=null,n)if(n.hasOwnProperty(i)&&null!=(o=n[i]))switch(i){case"value":r=o;break;case"defaultValue":l=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(s(91));break;default:Ju(e,t,i,o,n,null)}return Nt(e,r,l,a),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Ju(e,t,c,r,n,null);return;case"dialog":zu("beforetoggle",e),zu("toggle",e),zu("cancel",e),zu("close",e);break;case"iframe":case"object":zu("load",e);break;case"video":case"audio":for(r=0;r<Iu.length;r++)zu(Iu[r],e);break;case"image":zu("error",e),zu("load",e);break;case"details":zu("toggle",e);break;case"embed":case"source":case"link":zu("error",e),zu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,u,r,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&Zu(e,t,d,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(r=n[o])&&Ju(e,t,o,r,n,null))}var td=null,nd=null;function ad(e){return 9===e.nodeType?e:e.ownerDocument}function rd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ld(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var id=null;var od="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(fd)}:od;function fd(e){setTimeout(function(){throw e})}function md(e){return"head"===e}function hd(e,t){var n=t,a=0,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&8===l.nodeType)if("/$"===(n=l.data)){if(0<a&&8>a){n=a;var s=e.ownerDocument;if(1&n&&Nd(s.documentElement),2&n&&Nd(s.body),4&n)for(Nd(n=s.head),s=n.firstChild;s;){var i=s.nextSibling,o=s.nodeName;s[Oe]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=i}}if(0===r)return e.removeChild(l),void Af(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:a=n.charCodeAt(0)-48;else a=0;n=l}while(n);Af(t)}function pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":pd(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function xd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bd=null;function yd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function vd(e,t,n){switch(t=ad(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Nd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qe(e)}var wd=new Map,kd=new Set;function jd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Sd=R.d;R.d={f:function(){var e=Sd.f(),t=Bc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Ps(t):Sd.r(e)},D:function(e){Sd.D(e),Ed("dns-prefetch",e,null)},C:function(e,t){Sd.C(e,t),Ed("preconnect",e,t)},L:function(e,t,n){Sd.L(e,t,n);var a=Cd;if(a&&e&&t){var r='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+pt(n.imageSizes)+'"]')):r+='[href="'+pt(e)+'"]';var l=r;switch(t){case"style":l=Ld(e);break;case"script":l=Pd(e)}wd.has(l)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),wd.set(l,e),null!==a.querySelector(r)||"style"===t&&a.querySelector(Dd(l))||"script"===t&&a.querySelector(Md(l))||(ed(t=a.createElement("link"),"link",e),Ve(t),a.head.appendChild(t)))}},m:function(e,t){Sd.m(e,t);var n=Cd;if(n&&e){var a=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+pt(a)+'"][href="'+pt(e)+'"]',l=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Pd(e)}if(!wd.has(l)&&(e=f({rel:"modulepreload",href:e},t),wd.set(l,e),null===n.querySelector(r))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Md(l)))return}ed(a=n.createElement("link"),"link",e),Ve(a),n.head.appendChild(a)}}},X:function(e,t){Sd.X(e,t);var n=Cd;if(n&&e){var a=$e(n).hoistableScripts,r=Pd(e),l=a.get(r);l||((l=n.querySelector(Md(r)))||(e=f({src:e,async:!0},t),(t=wd.get(r))&&zd(e,t),Ve(l=n.createElement("script")),ed(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(r,l))}},S:function(e,t,n){Sd.S(e,t,n);var a=Cd;if(a&&e){var r=$e(a).hoistableStyles,l=Ld(e);t=t||"default";var s=r.get(l);if(!s){var i={loading:0,preload:null};if(s=a.querySelector(Dd(l)))i.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=wd.get(l))&&_d(e,n);var o=s=a.createElement("link");Ve(o),ed(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){i.loading|=1}),o.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Rd(s,t,a)}s={type:"stylesheet",instance:s,count:1,state:i},r.set(l,s)}}},M:function(e,t){Sd.M(e,t);var n=Cd;if(n&&e){var a=$e(n).hoistableScripts,r=Pd(e),l=a.get(r);l||((l=n.querySelector(Md(r)))||(e=f({src:e,async:!0,type:"module"},t),(t=wd.get(r))&&zd(e,t),Ve(l=n.createElement("script")),ed(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(r,l))}}};var Cd="undefined"===typeof document?null:document;function Ed(e,t,n){var a=Cd;if(a&&"string"===typeof t&&t){var r=pt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),kd.has(r)||(kd.add(r),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(r)&&(ed(t=a.createElement("link"),"link",e),Ve(t),a.head.appendChild(t)))}}function Ad(e,t,n,a){var r,l,i,o,c=(c=$.current)?jd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ld(n.href),(a=(n=$e(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ld(n.href);var u=$e(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Dd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),wd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wd.set(e,n),u||(r=c,l=e,i=n,o=d.state,r.querySelector('link[rel="preload"][as="style"]['+l+"]")?o.loading=1:(l=r.createElement("link"),o.preload=l,l.addEventListener("load",function(){return o.loading|=1}),l.addEventListener("error",function(){return o.loading|=2}),ed(l,"link",i),Ve(l),r.head.appendChild(l))))),t&&null===a)throw Error(s(528,""));return d}if(t&&null!==a)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(a=(n=$e(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ld(e){return'href="'+pt(e)+'"'}function Dd(e){return'link[rel="stylesheet"]['+e+"]"}function Td(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+pt(e)+'"]'}function Md(e){return"script[async]"+e}function Id(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(a)return t.instance=a,Ve(a),a;var r=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ve(a=(e.ownerDocument||e).createElement("style")),ed(a,"style",r),Rd(a,n.precedence,e),t.instance=a;case"stylesheet":r=Ld(n.href);var l=e.querySelector(Dd(r));if(l)return t.state.loading|=4,t.instance=l,Ve(l),l;a=Td(n),(r=wd.get(r))&&_d(a,r),Ve(l=(e.ownerDocument||e).createElement("link"));var i=l;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),ed(l,"link",a),t.state.loading|=4,Rd(l,n.precedence,e),t.instance=l;case"script":return l=Pd(n.src),(r=e.querySelector(Md(l)))?(t.instance=r,Ve(r),r):(a=n,(r=wd.get(l))&&zd(a=f({},n),r),Ve(r=(e=e.ownerDocument||e).createElement("script")),ed(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,Rd(a,n.precedence,e));return t.instance}function Rd(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,l=r,s=0;s<a.length;s++){var i=a[s];if(i.dataset.precedence===t)l=i;else if(l!==r)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function _d(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Od(e,t,n){if(null===Fd){var a=new Map,r=Fd=new Map;r.set(n,a)}else(a=(r=Fd).get(n))||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var l=n[r];if(!(l[Oe]||l[Pe]||"link"===e&&"stylesheet"===l.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==l.namespaceURI){var s=l.getAttribute(t)||"";s=e+s;var i=a.get(s);i?i.push(l):a.set(s,[l])}}return a}function qd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ud=null;function Hd(){}function $d(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Vd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Vd=new Map,t.forEach(Qd,e),Vd=null,$d.call(e))}function Qd(e,t){if(!(4&t.state.loading)){var n=Vd.get(e);if(n)var a=n.get(null);else{n=new Map,Vd.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<r.length;l++){var s=r[l];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),a=s)}a&&n.set(null,a)}s=(r=t.instance).getAttribute("data-precedence"),(l=n.get(s)||a)===a&&n.set(null,r),n.set(s,r),this.count++,a=$d.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),l?l.parentNode.insertBefore(r,l.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Wd={$$typeof:N,Provider:null,Consumer:null,_currentValue:_,_currentValue2:_,_threadCount:0};function Kd(e,t,n,a,r,l,s,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=je(0),this.hiddenUpdates=je(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=l,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Xd(e,t,n,a,r,l,s,i,o,c,u,d){return e=new Kd(e,t,n,s,i,o,c,d),t=1,!0===l&&(t|=24),l=_a(3,null,null,t),e.current=l,l.stateNode=e,(t=Mr()).refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:a,isDehydrated:n,cache:t},nl(l),e}function Yd(e){return e?e=Ia:Ia}function Jd(e,t,n,a,r,l){r=Yd(r),null===a.context?a.context=r:a.pendingContext=r,(a=rl(t)).payload={element:n},null!==(l=void 0===l?null:l)&&(a.callback=l),null!==(n=ll(e,a,t))&&(_c(n,0,t),sl(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ef(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function tf(e){if(13===e.tag){var t=Ta(e,67108864);null!==t&&_c(t,0,67108864),ef(e,67108864)}}var nf=!0;function af(e,t,n,a){var r=I.T;I.T=null;var l=R.p;try{R.p=2,lf(e,t,n,a)}finally{R.p=l,I.T=r}}function rf(e,t,n,a){var r=I.T;I.T=null;var l=R.p;try{R.p=8,lf(e,t,n,a)}finally{R.p=l,I.T=r}}function lf(e,t,n,a){if(nf){var r=sf(a);if(null===r)Uu(e,t,a,of,n),yf(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return ff=vf(ff,e,t,n,a,r),!0;case"dragenter":return mf=vf(mf,e,t,n,a,r),!0;case"mouseover":return hf=vf(hf,e,t,n,a,r),!0;case"pointerover":var l=r.pointerId;return pf.set(l,vf(pf.get(l)||null,e,t,n,a,r)),!0;case"gotpointercapture":return l=r.pointerId,gf.set(l,vf(gf.get(l)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(yf(e,a),4&t&&-1<bf.indexOf(e)){for(;null!==r;){var l=Ue(r);if(null!==l)switch(l.tag){case 3:if((l=l.stateNode).current.memoizedState.isDehydrated){var s=be(l.pendingLanes);if(0!==s){var i=l;for(i.pendingLanes|=2,i.entangledLanes|=2;s;){var o=1<<31-me(s);i.entanglements[1]|=o,s&=~o}wu(l),0===(6&nc)&&(wc=te()+500,ku(0,!1))}}break;case 13:null!==(i=Ta(l,2))&&_c(i,0,2),Bc(),ef(l,2)}if(null===(l=sf(a))&&Uu(e,t,a,of,n),l===r)break;r=l}null!==r&&a.stopPropagation()}else Uu(e,t,a,null,n)}}function sf(e){return cf(e=Tt(e))}var of=null;function cf(e){if(of=null,null!==(e=Be(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return of=e,null}function uf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ae:return 2;case re:return 8;case le:case se:return 32;case ie:return 268435456;default:return 32}default:return 32}}var df=!1,ff=null,mf=null,hf=null,pf=new Map,gf=new Map,xf=[],bf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yf(e,t){switch(e){case"focusin":case"focusout":ff=null;break;case"dragenter":case"dragleave":mf=null;break;case"mouseover":case"mouseout":hf=null;break;case"pointerover":case"pointerout":pf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(t.pointerId)}}function vf(e,t,n,a,r,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:l,targetContainers:[r]},null!==t&&(null!==(t=Ue(t))&&tf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Nf(e){var t=Be(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=R.p;try{return R.p=e,t()}finally{R.p=n}}(e.priority,function(){if(13===n.tag){var e=Ic();e=Ae(e);var t=Ta(n,e);null!==t&&_c(t,0,e),ef(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sf(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&tf(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);Dt=a,n.target.dispatchEvent(a),Dt=null,t.shift()}return!0}function kf(e,t,n){wf(e)&&n.delete(t)}function jf(){df=!1,null!==ff&&wf(ff)&&(ff=null),null!==mf&&wf(mf)&&(mf=null),null!==hf&&wf(hf)&&(hf=null),pf.forEach(kf),gf.forEach(kf)}function Sf(e,t){e.blockedOn===t&&(e.blockedOn=null,df||(df=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,jf)))}var Cf=null;function Ef(e){Cf!==e&&(Cf=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Cf===e&&(Cf=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],r=e[t+2];if("function"!==typeof a){if(null===cf(a||n))continue;break}var l=Ue(n);null!==l&&(e.splice(t,3),t-=3,Ds(l,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function Af(e){function t(t){return Sf(t,e)}null!==ff&&Sf(ff,e),null!==mf&&Sf(mf,e),null!==hf&&Sf(hf,e),pf.forEach(t),gf.forEach(t);for(var n=0;n<xf.length;n++){var a=xf[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<xf.length&&null===(n=xf[0]).blockedOn;)Nf(n),null===n.blockedOn&&xf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var r=n[a],l=n[a+1],s=r[Me]||null;if("function"===typeof l)s||Ef(n);else if(s){var i=null;if(l&&l.hasAttribute("formAction")){if(r=l,s=l[Me]||null)i=s.formAction;else if(null!==cf(r))continue}else i=s.action;"function"===typeof i?n[a+1]=i:(n.splice(a,3),a-=3),Ef(n)}}}function Lf(e){this._internalRoot=e}function Df(e){this._internalRoot=e}Df.prototype.render=Lf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jd(t.current,Ic(),e,t,null,null)},Df.prototype.unmount=Lf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Bc(),t[Ie]=null}},Df.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xf.length&&0!==t&&t<xf[n].priority;n++);xf.splice(n,0,e),0===n&&Nf(e)}};var Tf=r.version;if("19.1.0"!==Tf)throw Error(s(527,Tf,"19.1.0"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(a=r.return)){n=a;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===n)return u(r),e;if(l===a)return u(r),t;l=l.sibling}throw Error(s(188))}if(n.return!==a.return)n=r,a=l;else{for(var i=!1,c=r.child;c;){if(c===n){i=!0,n=r,a=l;break}if(c===a){i=!0,a=r,n=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===n){i=!0,n=l,a=r;break}if(c===a){i=!0,a=l,n=r;break}c=c.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Pf={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mf.isDisabled&&Mf.supportsFiber)try{ue=Mf.inject(Pf),de=Mf}catch(Rf){}}t.createRoot=function(e,t){if(!i(e))throw Error(s(299));var n=!1,a="",r=xi,l=bi,o=yi;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,a,r,l,o,0,null),e[Ie]=t.current,qu(e),new Lf(t)},t.hydrateRoot=function(e,t,n){if(!i(e))throw Error(s(299));var a=!1,r="",l=xi,o=bi,c=yi,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,a,r,l,o,c,0,u)).context=Yd(null),n=t.current,(r=rl(a=Ae(a=Ic()))).callback=null,ll(n,r,a),n=a,t.current.lanes=n,Se(t,n),wu(t),e[Ie]=t.current,qu(e),new Df(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var v=y.prototype=new b;v.constructor=y,p(v,x.prototype),v.isPureReactComponent=!0;var N=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function j(e,t,a,r,l,s){return a=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:s}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(){}function L(e,t,r,l,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o,c,u=!1;if(null===e)u=!0;else switch(i){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case a:u=!0;break;case f:return L((u=e._init)(e._payload),t,r,l,s)}}if(u)return s=s(e),u=""===l?"."+E(e,0):l,N(s)?(r="",null!=u&&(r=u.replace(C,"$&/")+"/"),L(s,t,r,"",function(e){return e})):null!=s&&(S(s)&&(o=s,c=r+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+u,s=j(o.type,c,void 0,0,0,o.props)),t.push(s)),1;u=0;var d,h=""===l?".":l+":";if(N(e))for(var p=0;p<e.length;p++)u+=L(l=e[p],t,r,i=h+E(l,p),s);else if("function"===typeof(p=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=m&&d[m]||d["@@iterator"])?d:null))for(e=p.call(e),p=0;!(l=e.next()).done;)u+=L(l=l.value,t,r,i=h+E(l,p++),s);else if("object"===i){if("function"===typeof e.then)return L(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,l,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function D(e,t,n){if(null==e)return e;var a=[],r=0;return L(e,a,"","",function(e){return t.call(n,e,r++)}),a}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function M(){}t.Children={map:D,forEach:function(e,t,n){D(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=r,t.Profiler=s,t.PureComponent=y,t.StrictMode=l,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=p({},e.props),r=e.key;if(null!=t)for(l in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!k.call(t,l)||"key"===l||"__self"===l||"__source"===l||"ref"===l&&void 0===t.ref||(a[l]=t[l]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var s=Array(l),i=0;i<l;i++)s[i]=arguments[i+2];a.children=s}return j(e.type,r,void 0,0,0,a)},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,n){var a,r={},l=null;if(null!=t)for(a in void 0!==t.key&&(l=""+t.key),t)k.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(r[a]=t[a]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];r.children=i}if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===r[a]&&(r[a]=s[a]);return j(e,l,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,n={};w.T=n;try{var a=e(),r=w.S;null!==r&&r(n,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(M,P)}catch(l){P(l)}finally{w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var a=w.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return a.useEffect(e,t)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return w.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var a=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(r(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},i=Symbol.for("react.portal");var o=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=o.T,n=s.p;try{if(o.T=null,s.p=2,e)return e()}finally{o.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,l="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:r,fetchPriority:l}):"script"===n&&s.d.X(e,{crossOrigin:a,integrity:r,fetchPriority:l,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return o.H.useFormState(e,t,n)},t.useFormStatus=function(){return o.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(e,t,a){var r=null;if(void 0!==a&&(r=""+a),void 0!==t.key&&(r=""+t.key),"key"in t)for(var l in a={},t)"key"!==l&&(a[l]=t[l]);else a=t;return t=a.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:a}}t.Fragment=a,t.jsx=r,t.jsxs=r},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<l(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,s=r>>>1;a<s;){var i=2*(a+1)-1,o=e[i],c=i+1,u=e[c];if(0>l(o,n))c<r&&0>l(u,o)?(e[a]=u,e[c]=n,a=c):(e[a]=o,e[i]=n,a=i);else{if(!(c<r&&0>l(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function l(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,f=null,m=3,h=!1,p=!1,g=!1,x=!1,b="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function N(e){for(var t=a(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=a(u)}}function w(e){if(g=!1,N(e),!p)if(null!==a(c))p=!0,j||(j=!0,k());else{var t=a(u);null!==t&&P(w,t.startTime-e)}}var k,j=!1,S=-1,C=5,E=-1;function A(){return!!x||!(t.unstable_now()-E<C)}function L(){if(x=!1,j){var e=t.unstable_now();E=e;var n=!0;try{e:{p=!1,g&&(g=!1,y(S),S=-1),h=!0;var l=m;try{t:{for(N(e),f=a(c);null!==f&&!(f.expirationTime>e&&A());){var s=f.callback;if("function"===typeof s){f.callback=null,m=f.priorityLevel;var i=s(f.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){f.callback=i,N(e),n=!0;break t}f===a(c)&&r(c),N(e)}else r(c);f=a(c)}if(null!==f)n=!0;else{var o=a(u);null!==o&&P(w,o.startTime-e),n=!1}}break e}finally{f=null,m=l,h=!1}n=void 0}}finally{n?k():j=!1}}}if("function"===typeof v)k=function(){v(L)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,T=D.port2;D.port1.onmessage=L,k=function(){T.postMessage(null)}}else k=function(){b(L,0)};function P(e,n){S=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,r,l){var s=t.unstable_now();switch("object"===typeof l&&null!==l?l="number"===typeof(l=l.delay)&&0<l?s+l:s:l=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:l,expirationTime:i=l+i,sortIndex:-1},l>s?(e.sortIndex=l,n(u,e),null===a(c)&&e===a(u)&&(g?(y(S),S=-1):g=!0,P(w,l-s))):(e.sortIndex=i,n(c,e),p||h||(p=!0,j||(j=!0,k()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,n),l.exports}n.m=e,n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,a)=>(n.f[a](e,t),t),[])),n.u=e=>"static/js/"+e+".236f244f.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="grim-hand-app:";n.l=(a,r,l,s)=>{if(e[a])e[a].push(r);else{var i,o;if(void 0!==l)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+l){i=d;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+l),i.src=a),e[a]=[r];var f=(t,n)=>{i.onerror=i.onload=null,clearTimeout(m);var r=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach(e=>e(n)),t)return t(n)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),o&&document.head.appendChild(i)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Grim-Hand-Character-Sheet/",(()=>{var e={792:0};n.f.j=(t,a)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var l=new Promise((n,a)=>r=e[t]=[n,a]);a.push(r[2]=l);var s=n.p+n.u(t),i=new Error;n.l(s,a=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var l=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+l+": "+s+")",i.name="ChunkLoadError",i.type=l,i.request=s,r[1](i)}},"chunk-"+t,t)}};var t=(t,a)=>{var r,l,s=a[0],i=a[1],o=a[2],c=0;if(s.some(t=>0!==e[t])){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(o)o(n)}for(t&&t(a);c<s.length;c++)l=s[c],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0},a=self.webpackChunkgrim_hand_app=self.webpackChunkgrim_hand_app||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n(43),r=n(391),l=n(579);const s=(0,a.createContext)(),i=()=>(0,a.useContext)(s);function o(e){let{children:t}=e;const n=(()=>{try{const e=localStorage.getItem("grimHandGameState");return e?JSON.parse(e):null}catch(e){return console.error("Error loading game state from localStorage:",e),null}})(),[r,i]=(0,a.useState)({status:"setup",exploreLevel:1,currentPhase:"setup",activePlayerId:null}),[o,c]=(0,a.useState)((null===n||void 0===n?void 0:n.characters)||[]),[u,d]=(0,a.useState)((null===n||void 0===n?void 0:n.exploreCards)||[]),[f,m]=(0,a.useState)((null===n||void 0===n?void 0:n.eventCards)||[]),[h,p]=(0,a.useState)((null===n||void 0===n?void 0:n.equipmentCards)||[]),[g,x]=(0,a.useState)((null===n||void 0===n?void 0:n.lootCards)||[]),[b,y]=(0,a.useState)((null===n||void 0===n?void 0:n.exploreDiscard)||[]),[v,N]=(0,a.useState)((null===n||void 0===n?void 0:n.eventDiscard)||[]),[w,k]=(0,a.useState)((null===n||void 0===n?void 0:n.equipmentDiscard)||[]),[j,S]=(0,a.useState)((null===n||void 0===n?void 0:n.lootDiscard)||[]);(0,a.useEffect)(()=>{(e=>{try{localStorage.setItem("grimHandGameState",JSON.stringify(e))}catch(t){console.error("Error saving game state to localStorage:",t)}})({gameState:r,characters:o,exploreCards:u,eventCards:f,equipmentCards:h,lootCards:g,exploreDiscard:b,eventDiscard:v,equipmentDiscard:w,lootDiscard:j})},[r,o,u,f,h,g,b,v,w,j]),(0,a.useEffect)(()=>{(async()=>{try{d([{id:"e1",Name:"Dark Forest",Rank:"3",Affinity:"Nature",Description:"A dense forest shrouded in mist.",Effect:"Roll Agility check or gain 1 Doubt."},{id:"e2",Name:"Abandoned Mine",Rank:"2",Affinity:"Iron",Description:"A crumbling mine shaft with rusted tools.",Effect:"Gain 2 Gold."},{id:"e3",Name:"Cursed Graveyard",Rank:"4",Affinity:"Bone",Description:"Tombstones covered in strange symbols.",Effect:"Draw a Threat card."},{id:"e4",Name:"Blood Altar",Rank:"3",Affinity:"Blood",Description:"An ancient altar stained with dried blood.",Effect:"Lose 1 LE or gain 1 Corruption."},{id:"e5",Name:"Shadow Realm",Rank:"5",Affinity:"Shadow",Description:"A tear in reality leading to a realm of darkness.",Effect:"Draw 2 Threat cards."}]),m([{id:"t1",Type:"Threat",Name:"Feral Wolf",Rank:"2",Affinity:"Nature",Description:"A hungry wolf with matted fur.",LF:"4",AT:"2"},{id:"t2",Type:"Threat",Name:"Skeletal Warrior",Rank:"3",Affinity:"Bone",Description:"A reanimated skeleton wielding a rusty sword.",LF:"5",AT:"3"},{id:"t3",Type:"Event",Name:"Cave In",Description:"The ceiling collapses!",Effect:"All players lose 2 LE unless they pass an Agility check."},{id:"t4",Type:"NPC",Name:"Wandering Merchant",Description:"A mysterious trader offers rare goods.",Effect:"May purchase one equipment card at half cost."},{id:"t5",Type:"Threat",Name:"Shadow Wraith",Rank:"4",Affinity:"Shadow",Description:"A malevolent spirit of pure darkness.",LF:"6",AT:"4"}]),p([{id:"eq1",ItemName:"Iron Sword",Rank:"3",Affinity:"Iron",PrimaryEffect:"+1 Attack when used in combat.",Cost:10},{id:"eq2",ItemName:"Bone Shield",Rank:"2",Affinity:"Bone",PrimaryEffect:"Reduce damage taken by 1.",Cost:8},{id:"eq3",ItemName:"Blood Amulet",Rank:"4",Affinity:"Blood",PrimaryEffect:"Recover 1 LE after defeating a threat.",Cost:15},{id:"eq4",ItemName:"Shadow Cloak",Rank:"3",Affinity:"Shadow",PrimaryEffect:"+1 AP during combat.",Cost:12},{id:"eq5",ItemName:"Nature Staff",Rank:"5",Affinity:"Nature",PrimaryEffect:"Add 1 to any Affinity dice roll.",Cost:20}]),x([{id:"l1",ItemName:"Minor Health Potion",Effect:"Recover 2 LE.",Value:5},{id:"l2",ItemName:"Stamina Elixir",Effect:"Recover 2 AP.",Value:5},{id:"l3",ItemName:"Gold Nugget",Effect:"Worth 10 Gold.",Value:10},{id:"l4",ItemName:"Cleansing Crystal",Effect:"Remove 1 Corruption.",Value:15},{id:"l5",ItemName:"Calming Incense",Effect:"Remove 1 Doubt.",Value:15}])}catch(e){console.error("Error loading card data:",e)}})()},[]);const C=(0,a.useCallback)(e=>{c(e.map(e=>({...e,anteAmount:0,activeCards:[],inactiveCards:[]})))},[]),E=(0,a.useCallback)((e,t)=>{c(n=>n.map(n=>n.id===e?{...n,...t}:n))},[]),A=(0,a.useCallback)(e=>{const t=e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t};switch(e){case"explore":d(t(u));break;case"event":m(t(f));break;case"equipment":p(t(h));break;case"loot":x(t(g));break;default:console.warn(`Unknown deck type: ${e}`)}},[u,f,h,g]),L=(0,a.useCallback)((e,t)=>{let n,a,r,l;switch(e){case"explore":n=u,a=d,r=b,l=y;break;case"event":n=f,a=m,r=v,l=N;break;case"equipment":n=h,a=p,r=w,l=k;break;case"loot":n=g,a=x,r=j,l=S;break;default:return console.warn(`Unknown deck type: ${e}`),[]}if(n.length<t&&r.length>0){const e=[...n,...r];a(e),l([]);const s=[...e];for(let t=s.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[s[t],s[e]]=[s[e],s[t]]}a(s);const i=s.slice(0,t);return a(s.slice(t)),i}const s=n.slice(0,t);return a(n.slice(t)),s},[u,f,h,g,b,v,w,j]),D=(0,a.useCallback)((e,t)=>{switch(e){case"explore":y(e=>[...e,...t]);break;case"event":N(e=>[...e,...t]);break;case"equipment":k(e=>[...e,...t]);break;case"loot":S(e=>[...e,...t]);break;default:console.warn(`Unknown deck type: ${e}`)}},[]),T=(0,a.useCallback)(()=>{A("explore"),A("event"),A("equipment"),A("loot"),i({status:"exploration_start",exploreLevel:1,currentPhase:"market",activePlayerId:null}),y([]),N([]),k([]),S([])},[A]),P={gameState:r,setGameState:i,characters:o,initializeCharacters:C,updateCharacter:E,exploreCards:u,eventCards:f,equipmentCards:h,lootCards:g,shuffleDeck:A,drawCards:L,discardCards:D,startNewGame:T};return(0,l.jsx)(s.Provider,{value:P,children:t})}const c={"High Card":{level:0,attackBonus:0,xpMultiplier:1},Pair:{level:1,attackBonus:1,xpMultiplier:1},"Two Pair":{level:2,attackBonus:2,xpMultiplier:2},"Three of a Kind":{level:3,attackBonus:3,xpMultiplier:3},Straight:{level:4,attackBonus:4,xpMultiplier:4},Flush:{level:5,attackBonus:5,xpMultiplier:5},"Full House":{level:6,attackBonus:6,xpMultiplier:6},"Four of a Kind":{level:7,attackBonus:7,xpMultiplier:7},"Straight Flush":{level:8,attackBonus:8,xpMultiplier:8},"Five of a Kind":{level:9,attackBonus:9,xpMultiplier:9}},u=["Desperate Scramble","Unified Effort","Dual Grip","Triad Impact","Unfettered Path","Pure Affinity","Anchored Power","Resonant Force","Primal Current","Monolithic Quintessence"];const d=function(e){let{threats:t,onCombatComplete:n}=e;const{characters:r,updateCharacter:s,drawCards:o}=i(),[d,f]=(0,a.useState)("deal"),[m,h]=(0,a.useState)([]),[p,g]=(0,a.useState)({}),[x,b]=(0,a.useState)({}),[y,v]=(0,a.useState)({}),[N,w]=(0,a.useState)({}),[k,j]=(0,a.useState)(null),[S,C]=(0,a.useState)({}),[E,A]=(0,a.useState)({});(0,a.useEffect)(()=>{"deal"===d&&L()},[d]);const L=(0,a.useCallback)(()=>{h([]),g({}),b({}),v({}),w({}),j(null),C({}),A({});const e={};r.forEach(t=>{e[t.id]={active:[{rank:Math.floor(10*Math.random())+1,affinity:t.affinity},{rank:Math.floor(10*Math.random())+1,affinity:t.affinity}],inactive:[{rank:Math.floor(10*Math.random())+1,affinity:t.affinity},{rank:Math.floor(10*Math.random())+1,affinity:t.affinity}]}}),g(e);const n={};t.forEach(e=>{n[e.id]={active:[{rank:Math.floor(10*Math.random())+1,affinity:e.Affinity||"Blood"},{rank:Math.floor(10*Math.random())+1,affinity:e.Affinity||"Blood"}]}}),b(n),f("flop")},[r,t]),D=(0,a.useCallback)(()=>{const e=[{rank:Math.floor(10*Math.random())+1,affinity:R()},{rank:Math.floor(10*Math.random())+1,affinity:R()},{rank:Math.floor(10*Math.random())+1,affinity:R()}];h(e),_(e),z(e)},[]),T=(0,a.useCallback)(()=>{const e={rank:Math.floor(10*Math.random())+1,affinity:R()},t=[...m,e];h(t),_(t),F(t,"turn"),f("turn_action")},[m]),P=(0,a.useCallback)(()=>{const e={rank:Math.floor(10*Math.random())+1,affinity:R()},t=[...m,e];h(t),_(t),F(t,"river"),f("river_action")},[m]),M=(0,a.useCallback)(()=>{const e={playerDamage:{},threatDamage:{},defeatedThreats:[],defeatedPlayers:[]};r.forEach(n=>{const a=y[n.id],r=O(n,a);t.forEach(t=>{const a=N[t.id],l=q(t,a),s=Math.max(0,r-l);e.threatDamage[t.id]||(e.threatDamage[t.id]=0),e.threatDamage[t.id]+=s;const i=Math.max(0,l-r);e.playerDamage[n.id]||(e.playerDamage[n.id]=0),e.playerDamage[n.id]+=i})}),t.forEach(t=>{(e.threatDamage[t.id]||0)>=t.currentLife&&e.defeatedThreats.push(t.id)}),r.forEach(t=>{(e.playerDamage[t.id]||0)>=t.life.current&&e.defeatedPlayers.push(t.id)}),j(e),f("resolution")},[r,t,y,N]),I=(0,a.useCallback)(()=>{if(!k)return;t.forEach(e=>{k.threatDamage[e.id]}),r.forEach(e=>{const t=k.playerDamage[e.id]||0;t>0&&s(e.id,{life:{...e.life,current:Math.max(0,e.life.current-t)}})});const e=B(k.defeatedThreats);n({results:k,rewards:e})},[k,r,t,s,n]),R=()=>{const e=["Blood","Bone","Shadow","Iron","Nature"];return e[Math.floor(Math.random()*e.length)]},_=(0,a.useCallback)(e=>{const t={};Object.entries(p).forEach(n=>{let[a,r]=n;const l=H([...r.active,...e]);t[a]=l}),v(t);const n={};Object.entries(x).forEach(t=>{let[a,r]=t;const l=H([...r.active,...e]);n[a]=l}),w(n)},[p,x]),z=(0,a.useCallback)(e=>{const t={};Object.entries(p).forEach(n=>{let[a,r]=n;const l=H([...r.active,...e]);("Three of a Kind"===l.name||l.level>3)&&(t[a]=!0)}),Object.entries(x).forEach(n=>{let[a,r]=n;const l=H([...r.active,...e]);("Three of a Kind"===l.name||l.level>3)&&(t[a]=!0)}),C(t)},[p,x]),F=(0,a.useCallback)((e,t)=>{const n={...E};Object.entries(p).forEach(a=>{let[r,l]=a;const s=y[r],i=H([...l.active,...e]);s&&i.level>s.level&&("turn"===t?n[r]=(n[r]||0)+2:"river"===t&&(n[r]=(n[r]||0)+3))}),Object.entries(x).forEach(a=>{let[r,l]=a;const s=N[r],i=H([...l.active,...e]);s&&i.level>s.level&&("turn"===t?n[r]=(n[r]||0)+2:"river"===t&&(n[r]=(n[r]||0)+3))}),A(n)},[p,x,y,N,E]),O=(0,a.useCallback)((e,t)=>{if(!t)return 0;let n=e.attack||0;n+=c[t.name].attackBonus,S[e.id]&&(n+=1),E[e.id]&&(n+=E[e.id]);return n+=[...p[e.id].active,...m].filter(t=>t.affinity===e.affinity).length,n},[S,E,p,m]),q=(0,a.useCallback)((e,t)=>{if(!t)return 0;let n=parseInt(e.atScore,10)||0;n+=c[t.name].attackBonus,S[e.id]&&(n+=1),E[e.id]&&(n+=E[e.id]);const a=e.Affinity||"Blood";return n+=[...x[e.id].active,...m].filter(e=>e.affinity===a).length,n},[S,E,x,m]),B=(0,a.useCallback)(e=>{const n={gold:0,xp:0,loot:[]};return e.forEach(e=>{const a=t.find(t=>t.id===e);if(!a)return;n.gold+=parseInt(a.Rank,10)||0;const l=parseInt(a.Rank,10)||0;r.forEach(e=>{var t,a;const r=e.anteAmount||0,s=(null===(t=y[e.id])||void 0===t||t.level,c[(null===(a=y[e.id])||void 0===a?void 0:a.name)||"High Card"].xpMultiplier);n.xp+=l*r*s});const s=Array(5).fill(0).map(()=>Math.floor(6*Math.random())+1),i=a.Affinity||"Blood",o=s.filter(e=>1===e&&"Blood"===i||2===e&&"Bone"===i||3===e&&"Shadow"===i||4===e&&"Iron"===i||5===e&&"Nature"===i||6===e).length,u=Math.max(1,o);for(let t=0;t<u;t++)n.loot.push({id:`loot-${Date.now()}-${t}`,name:`Loot from ${a.name}`,value:5*parseInt(a.Rank,10)||5})}),n},[t,r,y]),U=(0,a.useCallback)((e,t,n)=>{g(a=>{const r=a[e];if(!r)return a;const l=[...r.active],s=[...r.inactive],i=l[t];return l[t]=s[n],s[n]=i,{...a,[e]:{active:l,inactive:s}}}),_(m)},[m,_]),H=e=>{const t=Object.keys(c),n=t[Math.floor(Math.random()*t.length)];return{name:n,level:c[n].level,cards:e.slice(0,5)}};return(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-red-400 mb-4",children:"Combat"}),(()=>{switch(d){case"deal":return(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-gray-300 mb-4",children:"Dealing cards..."}),(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-red-500 mx-auto"})]});case"flop":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-4",children:"The Flop"}),(0,l.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg",onClick:D,children:"Deal the Flop"})]});case"flop_action":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-4",children:"Player Actions"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h4",{className:"text-md font-semibold text-red-300 mb-2",children:"Community Cards:"}),(0,l.jsx)("div",{className:"flex space-x-2",children:m.map((e,t)=>(0,l.jsxs)("div",{className:"w-16 h-24 bg-gray-700 rounded-lg border border-gray-600 flex flex-col items-center justify-center",children:[(0,l.jsx)("div",{className:"text-lg font-bold",children:e.rank}),(0,l.jsx)("div",{className:"text-xs",children:e.affinity})]},t))})]}),r.map(e=>{var t,n;return(0,l.jsxs)("div",{className:"mb-6 p-3 bg-gray-700 rounded-lg",children:[(0,l.jsx)("h4",{className:"text-md font-semibold text-red-300 mb-2",children:e.name}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"text-sm text-gray-400 mb-1",children:"Active Cards:"}),(0,l.jsx)("div",{className:"flex space-x-2",children:null===(t=p[e.id])||void 0===t?void 0:t.active.map((e,t)=>(0,l.jsxs)("div",{className:"w-16 h-24 bg-gray-600 rounded-lg border border-gray-500 flex flex-col items-center justify-center",children:[(0,l.jsx)("div",{className:"text-lg font-bold",children:e.rank}),(0,l.jsx)("div",{className:"text-xs",children:e.affinity})]},t))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"text-sm text-gray-400 mb-1",children:"Inactive Cards:"}),(0,l.jsx)("div",{className:"flex space-x-2",children:null===(n=p[e.id])||void 0===n?void 0:n.inactive.map((e,t)=>(0,l.jsxs)("div",{className:"w-16 h-24 bg-gray-800 rounded-lg border border-gray-700 flex flex-col items-center justify-center",children:[(0,l.jsx)("div",{className:"text-lg font-bold",children:e.rank}),(0,l.jsx)("div",{className:"text-xs",children:e.affinity})]},t))})]})]}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("h5",{className:"text-sm text-gray-400 mb-1",children:"Current Hand:"}),(0,l.jsxs)("p",{className:"text-white",children:[y[e.id]?`${u[y[e.id].level]} (${y[e.id].name})`:"No hand yet",S[e.id]&&(0,l.jsx)("span",{className:"text-red-400 ml-2",children:"CRITICAL HIT!"}),E[e.id]&&(0,l.jsxs)("span",{className:"text-yellow-400 ml-2",children:["CHAIN +",E[e.id],"!"]})]})]}),(0,l.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[(0,l.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-sm",onClick:()=>U(e.id,0,0),children:"Swap Card 1"}),(0,l.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-sm",onClick:()=>U(e.id,1,1),children:"Swap Card 2"})]})]},e.id)}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h4",{className:"text-md font-semibold text-red-300 mb-2",children:"Threats:"}),t.map(e=>{var t;return(0,l.jsxs)("div",{className:"mb-3 p-2 bg-gray-700 rounded-lg",children:[(0,l.jsx)("h5",{className:"text-sm font-semibold text-red-300",children:e.name}),(0,l.jsx)("div",{className:"flex space-x-2 mt-1",children:null===(t=x[e.id])||void 0===t?void 0:t.active.map((e,t)=>(0,l.jsxs)("div",{className:"w-12 h-18 bg-gray-600 rounded-lg border border-red-900 flex flex-col items-center justify-center",children:[(0,l.jsx)("div",{className:"text-md font-bold",children:e.rank}),(0,l.jsx)("div",{className:"text-xs",children:e.affinity})]},t))}),(0,l.jsx)("div",{className:"mt-1",children:(0,l.jsxs)("p",{className:"text-sm text-white",children:[N[e.id]?`${N[e.id].name}`:"No hand yet",S[e.id]&&(0,l.jsx)("span",{className:"text-red-400 ml-2",children:"CRITICAL HIT!"}),E[e.id]&&(0,l.jsxs)("span",{className:"text-yellow-400 ml-2",children:["CHAIN +",E[e.id],"!"]})]})})]},e.id)})]}),(0,l.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg",onClick:()=>f("turn"),children:"Continue to Turn"})]});case"turn":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-4",children:"The Turn"}),(0,l.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg",onClick:T,children:"Deal the Turn"})]});case"turn_action":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-4",children:"Player Actions"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h4",{className:"text-md font-semibold text-red-300 mb-2",children:"Community Cards:"}),(0,l.jsx)("div",{className:"flex space-x-2",children:m.map((e,t)=>(0,l.jsxs)("div",{className:"w-16 h-24 bg-gray-700 rounded-lg border border-gray-600 flex flex-col items-center justify-center",children:[(0,l.jsx)("div",{className:"text-lg font-bold",children:e.rank}),(0,l.jsx)("div",{className:"text-xs",children:e.affinity})]},t))})]}),r.map(e=>{var t,n;return(0,l.jsxs)("div",{className:"mb-6 p-3 bg-gray-700 rounded-lg",children:[(0,l.jsx)("h4",{className:"text-md font-semibold text-red-300 mb-2",children:e.name}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"text-sm text-gray-400 mb-1",children:"Active Cards:"}),(0,l.jsx)("div",{className:"flex space-x-2",children:null===(t=p[e.id])||void 0===t?void 0:t.active.map((e,t)=>(0,l.jsxs)("div",{className:"w-16 h-24 bg-gray-600 rounded-lg border border-gray-500 flex flex-col items-center justify-center",children:[(0,l.jsx)("div",{className:"text-lg font-bold",children:e.rank}),(0,l.jsx)("div",{className:"text-xs",children:e.affinity})]},t))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"text-sm text-gray-400 mb-1",children:"Inactive Cards:"}),(0,l.jsx)("div",{className:"flex space-x-2",children:null===(n=p[e.id])||void 0===n?void 0:n.inactive.map((e,t)=>(0,l.jsxs)("div",{className:"w-16 h-24 bg-gray-800 rounded-lg border border-gray-700 flex flex-col items-center justify-center",children:[(0,l.jsx)("div",{className:"text-lg font-bold",children:e.rank}),(0,l.jsx)("div",{className:"text-xs",children:e.affinity})]},t))})]})]}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("h5",{className:"text-sm text-gray-400 mb-1",children:"Current Hand:"}),(0,l.jsxs)("p",{className:"text-white",children:[y[e.id]?`${u[y[e.id].level]} (${y[e.id].name})`:"No hand yet",S[e.id]&&(0,l.jsx)("span",{className:"text-red-400 ml-2",children:"CRITICAL HIT!"}),E[e.id]&&(0,l.jsxs)("span",{className:"text-yellow-400 ml-2",children:["CHAIN +",E[e.id],"!"]})]})]}),(0,l.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[(0,l.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-sm",onClick:()=>U(e.id,0,0),children:"Swap Card 1"}),(0,l.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-sm",onClick:()=>U(e.id,1,1),children:"Swap Card 2"})]})]},e.id)}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h4",{className:"text-md font-semibold text-red-300 mb-2",children:"Threats:"}),t.map(e=>{var t;return(0,l.jsxs)("div",{className:"mb-3 p-2 bg-gray-700 rounded-lg",children:[(0,l.jsx)("h5",{className:"text-sm font-semibold text-red-300",children:e.name}),(0,l.jsx)("div",{className:"flex space-x-2 mt-1",children:null===(t=x[e.id])||void 0===t?void 0:t.active.map((e,t)=>(0,l.jsxs)("div",{className:"w-12 h-18 bg-gray-600 rounded-lg border border-red-900 flex flex-col items-center justify-center",children:[(0,l.jsx)("div",{className:"text-md font-bold",children:e.rank}),(0,l.jsx)("div",{className:"text-xs",children:e.affinity})]},t))}),(0,l.jsx)("div",{className:"mt-1",children:(0,l.jsxs)("p",{className:"text-sm text-white",children:[N[e.id]?`${N[e.id].name}`:"No hand yet",S[e.id]&&(0,l.jsx)("span",{className:"text-red-400 ml-2",children:"CRITICAL HIT!"}),E[e.id]&&(0,l.jsxs)("span",{className:"text-yellow-400 ml-2",children:["CHAIN +",E[e.id],"!"]})]})})]},e.id)})]}),(0,l.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg",onClick:()=>f("river"),children:"Continue to River"})]});case"river":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-4",children:"The River"}),(0,l.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg",onClick:P,children:"Deal the River"})]});case"river_action":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-4",children:"Final Hands"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h4",{className:"text-md font-semibold text-red-300 mb-2",children:"Community Cards:"}),(0,l.jsx)("div",{className:"flex space-x-2",children:m.map((e,t)=>(0,l.jsxs)("div",{className:"w-16 h-24 bg-gray-700 rounded-lg border border-gray-600 flex flex-col items-center justify-center",children:[(0,l.jsx)("div",{className:"text-lg font-bold",children:e.rank}),(0,l.jsx)("div",{className:"text-xs",children:e.affinity})]},t))})]}),r.map(e=>{var t;return(0,l.jsxs)("div",{className:"mb-6 p-3 bg-gray-700 rounded-lg",children:[(0,l.jsx)("h4",{className:"text-md font-semibold text-red-300 mb-2",children:e.name}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"text-sm text-gray-400 mb-1",children:"Active Cards:"}),(0,l.jsx)("div",{className:"flex space-x-2",children:null===(t=p[e.id])||void 0===t?void 0:t.active.map((e,t)=>(0,l.jsxs)("div",{className:"w-16 h-24 bg-gray-600 rounded-lg border border-gray-500 flex flex-col items-center justify-center",children:[(0,l.jsx)("div",{className:"text-lg font-bold",children:e.rank}),(0,l.jsx)("div",{className:"text-xs",children:e.affinity})]},t))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"text-sm text-gray-400 mb-1",children:"Final Hand:"}),(0,l.jsx)("p",{className:"text-white font-bold",children:y[e.id]?`${u[y[e.id].level]} (${y[e.id].name})`:"No hand"}),(0,l.jsxs)("p",{className:"text-gray-300",children:["Attack Score: ",O(e,y[e.id]),S[e.id]&&(0,l.jsx)("span",{className:"text-red-400 ml-2",children:"+1 (CRIT)"}),E[e.id]>0&&(0,l.jsxs)("span",{className:"text-yellow-400 ml-2",children:["+",E[e.id]," (CHAIN)"]})]})]})]})]},e.id)}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h4",{className:"text-md font-semibold text-red-300 mb-2",children:"Threats:"}),t.map(e=>{var t;return(0,l.jsxs)("div",{className:"mb-3 p-2 bg-gray-700 rounded-lg",children:[(0,l.jsx)("h5",{className:"text-sm font-semibold text-red-300",children:e.name}),(0,l.jsx)("div",{className:"flex space-x-2 mt-1",children:null===(t=x[e.id])||void 0===t?void 0:t.active.map((e,t)=>(0,l.jsxs)("div",{className:"w-12 h-18 bg-gray-600 rounded-lg border border-red-900 flex flex-col items-center justify-center",children:[(0,l.jsx)("div",{className:"text-md font-bold",children:e.rank}),(0,l.jsx)("div",{className:"text-xs",children:e.affinity})]},t))}),(0,l.jsxs)("div",{className:"mt-1",children:[(0,l.jsx)("p",{className:"text-sm font-bold text-white",children:N[e.id]?`${N[e.id].name}`:"No hand"}),(0,l.jsxs)("p",{className:"text-sm text-gray-300",children:["Attack Score: ",q(e,N[e.id]),S[e.id]&&(0,l.jsx)("span",{className:"text-red-400 ml-2",children:"+1 (CRIT)"}),E[e.id]>0&&(0,l.jsxs)("span",{className:"text-yellow-400 ml-2",children:["+",E[e.id]," (CHAIN)"]})]})]})]},e.id)})]}),(0,l.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg",onClick:M,children:"Resolve Combat"})]});case"resolution":return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-4",children:"Combat Results"}),k&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h4",{className:"text-md font-semibold text-red-300 mb-2",children:"Player Damage:"}),r.map(e=>(0,l.jsxs)("div",{className:"mb-2 p-2 bg-gray-700 rounded-lg",children:[(0,l.jsx)("h5",{className:"text-sm font-semibold text-red-300",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-white",children:["Damage Taken: ",k.playerDamage[e.id]||0,k.defeatedPlayers.includes(e.id)&&(0,l.jsx)("span",{className:"text-red-500 ml-2 font-bold",children:"DEFEATED!"})]}),(0,l.jsxs)("p",{className:"text-sm text-white",children:["Remaining Life: ",Math.max(0,e.life.current-(k.playerDamage[e.id]||0)),"/",e.life.max]})]},e.id))]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h4",{className:"text-md font-semibold text-red-300 mb-2",children:"Threat Damage:"}),t.map(e=>(0,l.jsxs)("div",{className:"mb-2 p-2 bg-gray-700 rounded-lg",children:[(0,l.jsx)("h5",{className:"text-sm font-semibold text-red-300",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-white",children:["Damage Taken: ",k.threatDamage[e.id]||0,k.defeatedThreats.includes(e.id)&&(0,l.jsx)("span",{className:"text-green-500 ml-2 font-bold",children:"DEFEATED!"})]}),(0,l.jsxs)("p",{className:"text-sm text-white",children:["Remaining Life: ",Math.max(0,e.currentLife-(k.threatDamage[e.id]||0)),"/",e.maxLife]})]},e.id))]}),k.defeatedThreats.length>0&&(0,l.jsxs)("div",{className:"mb-4 p-3 bg-gray-700 rounded-lg",children:[(0,l.jsx)("h4",{className:"text-md font-semibold text-green-400 mb-2",children:"Rewards:"}),(0,l.jsx)("p",{className:"text-sm text-white",children:"Gold: Calculating..."}),(0,l.jsx)("p",{className:"text-sm text-white",children:"XP: Calculating..."}),(0,l.jsx)("p",{className:"text-sm text-white",children:"Loot: Calculating..."})]})]}),(0,l.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg",onClick:I,children:"Complete Combat"})]});default:return(0,l.jsxs)("p",{className:"text-red-400",children:["Unknown phase: ",d]})}})()]})},f={1:"Blood",2:"Bone",3:"Shadow",4:"Iron",5:"Nature",6:"Wild"};const m=function(){const{gameState:e,setGameState:t,characters:n,updateCharacter:r,drawCards:s,exploreCards:o,eventCards:c}=i(),u=(0,a.useCallback)(()=>{C(e=>e+1),A(null),D([]),P([]),I(null)},[]),[m,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)([]),[x,b]=(0,a.useState)([]),[y,v]=(0,a.useState)(()=>"market"===e.currentPhase?"market":"ante"===e.currentPhase?"ante":"explore"===e.currentPhase?"explore":"market"),[N,w]=(0,a.useState)({}),[k,j]=(0,a.useState)([]),[S,C]=(0,a.useState)(0),[E,A]=(0,a.useState)(null),[L,D]=(0,a.useState)([]),[T,P]=(0,a.useState)([]),[M,I]=(0,a.useState)(null),[R,_]=(0,a.useState)(null),z=(0,a.useCallback)(()=>{const e=s("equipment",5);b(e)},[s]),F=(0,a.useCallback)(()=>{v("ante"),t(e=>({...e,currentPhase:"ante"}))},[t]),O=(0,a.useCallback)((e,t)=>{const a=x[t],l=n.find(t=>t.id===e);if(!l||l.gold<(a.Cost||0))return void alert("You don't have enough gold for this item!");const s=l.equippedItems.filter(e=>e&&e.ItemName).length;s>=5?alert("You already have the maximum number of items equipped!"):(w(n=>({...n,[e]:[...n[e]||[],t]})),r(e,{gold:l.gold-(a.Cost||0),equippedItems:[...l.equippedItems.filter(e=>e&&e.ItemName),{id:`slot${s+1}`,ItemName:a.ItemName,Rank:a.Rank,Affinity:a.Affinity,PrimaryEffect:a.PrimaryEffect||"",Cost:a.Cost||0}]}))},[x,n,r]),q=(0,a.useCallback)(e=>Object.values(N).some(t=>t.includes(e)),[N]),B=(0,a.useCallback)((a,l)=>{const s=n.find(e=>e.id===a);if(!s)return;const i=e.exploreLevel,o=Math.max(l,i);r(a,{life:{...s.life,current:s.life.current-o},anteAmount:o}),v("explore"),t(e=>({...e,currentPhase:"explore"})),U()},[e.exploreLevel,n,r,t]),U=(0,a.useCallback)(()=>{const e=s("explore",5);if(j(e),C(0),A(null),n.length>0){const e=Math.floor(Math.random()*n.length);_(n[e].id)}},[s,n]),H=(0,a.useCallback)(()=>{S<k.length?A(k[S]):(v("market"),t(e=>({...e,currentPhase:"market",exploreLevel:e.exploreLevel+1})),z())},[S,k,t,z]),$=(0,a.useCallback)(()=>{if(!E)return;const e=parseInt(E.Rank,10)||1,t=Array(e).fill(0).map(()=>Math.floor(6*Math.random())+1);D(t);const n=E.Affinity,a=t.filter(e=>f[e]===n||6===e).length;if(a>0){const e=s("event",a);P(e),e.length>0&&I(e[0])}else u()},[E,s]),V=(0,a.useCallback)(()=>{M&&"Threat"===M.Type?(h(!0),g([M])):(P(e=>e.slice(1)),T.length>1?I(T[1]):(I(null),u()))},[M,T]),G=(0,a.useCallback)(e=>{e.rewards&&(n.forEach(t=>{r(t.id,{gold:t.gold+Math.floor(e.rewards.gold/n.length)})}),n.forEach(t=>{r(t.id,{xp:t.xp+Math.floor(e.rewards.xp/n.length)})}),console.log("Loot acquired:",e.rewards.loot)),h(!1),g([]),P(e=>e.slice(1)),T.length>1?I(T[1]):(I(null),u())},[n,r,T,u]);return(0,a.useEffect)(()=>{"market"===y&&0===x.length&&z()},[y,x.length,z]),(0,l.jsx)("div",{className:"exploration-manager",children:(()=>{switch(y){case"market":return(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold text-red-400 mb-4",children:["Market Phase - Level ",e.exploreLevel]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:x.map((e,t)=>(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg border "+(q(t)?"border-green-500 opacity-50":"border-gray-600"),children:[(0,l.jsx)("h3",{className:"text-red-300 font-semibold mb-2",children:e.ItemName||"Unknown Item"}),(0,l.jsxs)("div",{className:"text-sm text-gray-400 mb-1",children:["Rank: ",e.Rank]}),(0,l.jsxs)("div",{className:"text-sm text-gray-400 mb-1",children:["Affinity: ",e.Affinity]}),(0,l.jsxs)("div",{className:"text-sm text-gray-400 mb-2",children:["Cost: ",e.Cost||0," Gold"]}),(0,l.jsx)("div",{className:"text-xs text-gray-300 mb-3",children:e.PrimaryEffect||"No effect"})]},t))}),(0,l.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-2",children:e.name}),(0,l.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,l.jsxs)("span",{className:"text-gray-300",children:["Gold: ",e.gold]}),(0,l.jsxs)("span",{className:"text-gray-300",children:["Items: ",e.equippedItems.filter(e=>e&&e.ItemName).length,"/5"]})]}),(0,l.jsx)("div",{className:"grid grid-cols-5 gap-2 mb-3",children:x.map((t,n)=>(0,l.jsx)("button",{disabled:q(n)||e.gold<(t.Cost||0)||e.equippedItems.filter(e=>e&&e.ItemName).length>=5,onClick:()=>O(e.id,n),className:"p-2 text-xs rounded "+(q(n)?"bg-gray-600 text-gray-400 cursor-not-allowed":e.gold<(t.Cost||0)?"bg-red-900 text-gray-400 cursor-not-allowed":e.equippedItems.filter(e=>e&&e.ItemName).length>=5?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-green-700 hover:bg-green-600 text-white"),children:q(n)?"Purchased":e.gold<(t.Cost||0)?"Cannot Afford":e.equippedItems.filter(e=>e&&e.ItemName).length>=5?"Max Items":`Buy (${t.Cost||0}g)`},n))})]},e.id))}),(0,l.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg mt-6",onClick:F,children:"Continue to Ante Phase"})]});case"ante":return(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold text-red-400 mb-4",children:["Ante Phase - Level ",e.exploreLevel]}),(0,l.jsxs)("p",{className:"text-gray-300 mb-4",children:["Each player must pay a minimum ante of ",e.exploreLevel," Life Essence to proceed."]}),n.map(t=>(0,l.jsxs)("div",{className:"mb-4 p-3 bg-gray-700 rounded-lg",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300",children:t.name}),(0,l.jsxs)("p",{className:"text-gray-400",children:["Current Life: ",t.life.current,"/",t.life.max]}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("label",{className:"block text-gray-300 mb-1",children:"Select Ante Amount:"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"number",min:e.exploreLevel,max:t.life.current-1,defaultValue:e.exploreLevel,className:"bg-gray-600 text-white px-3 py-1 rounded-lg w-20 mr-3",id:`ante-input-${t.id}`}),(0,l.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-1 rounded-lg",onClick:()=>{const e=document.getElementById(`ante-input-${t.id}`);B(t.id,parseInt(e.value,10))},children:"Confirm"})]})]})]},t.id))]});case"explore":return m?(0,l.jsx)(d,{threats:p,onCombatComplete:G}):E?0===L.length?(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold text-red-400 mb-4",children:["Exploration - Level ",e.exploreLevel,", Card ",S+1,"/5"]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-2",children:E.Name}),(0,l.jsxs)("p",{className:"text-gray-300 mb-2",children:["Rank: ",E.Rank," | Affinity: ",E.Affinity]}),(0,l.jsx)("p",{className:"text-gray-300",children:E.Description}),E.Effect&&(0,l.jsxs)("p",{className:"text-yellow-300 mt-2",children:["Effect: ",E.Effect]})]}),(0,l.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg",onClick:$,children:"Roll Affinity Dice"})]}):M?(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold text-red-400 mb-4",children:["Event Resolution - Level ",e.exploreLevel,", Card ",S+1,"/5"]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-2",children:M.Name}),(0,l.jsxs)("p",{className:"text-gray-300 mb-2",children:["Type: ",M.Type]}),M.Rank&&(0,l.jsxs)("p",{className:"text-gray-300 mb-2",children:["Rank: ",M.Rank," | Affinity: ",M.Affinity]}),(0,l.jsx)("p",{className:"text-gray-300",children:M.Description}),M.Effect&&(0,l.jsxs)("p",{className:"text-yellow-300 mt-2",children:["Effect: ",M.Effect]}),"Threat"===M.Type&&(0,l.jsxs)("div",{className:"mt-3 p-2 bg-gray-800 rounded-lg",children:[(0,l.jsxs)("p",{className:"text-gray-300",children:["Life: ",M.LF||"?"]}),(0,l.jsxs)("p",{className:"text-gray-300",children:["Attack: ",M.AT||"?"]})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-2",children:"Dice Results:"}),(0,l.jsx)("div",{className:"flex space-x-2",children:L.map((e,t)=>(0,l.jsx)("div",{className:"w-10 h-10 flex items-center justify-center rounded-lg text-white font-bold "+(f[e]===E.Affinity||6===e?"bg-red-600":"bg-gray-600"),children:6===e?"\u2605":e},t))}),(0,l.jsxs)("p",{className:"text-gray-300 mt-2",children:["Events: ",T.length," (Current: ",T.indexOf(M)+1,"/",T.length,")"]})]}),(0,l.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg",onClick:V,children:"Threat"===M.Type?"Engage in Combat":"Resolve Event"})]}):(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold text-red-400 mb-4",children:["Exploration - Level ",e.exploreLevel,", Card ",S+1,"/5"]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-2",children:E.Name}),(0,l.jsxs)("p",{className:"text-gray-300 mb-2",children:["Rank: ",E.Rank," | Affinity: ",E.Affinity]}),(0,l.jsx)("p",{className:"text-gray-300",children:E.Description}),E.Effect&&(0,l.jsxs)("p",{className:"text-yellow-300 mt-2",children:["Effect: ",E.Effect]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-2",children:"Dice Results:"}),(0,l.jsx)("div",{className:"flex space-x-2",children:L.map((e,t)=>(0,l.jsx)("div",{className:"w-10 h-10 flex items-center justify-center rounded-lg text-white font-bold "+(f[e]===E.Affinity||6===e?"bg-red-600":"bg-gray-600"),children:6===e?"\u2605":e},t))}),(0,l.jsx)("p",{className:"text-gray-300 mt-2",children:"No events triggered or all events resolved."})]}),(0,l.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg",onClick:u,children:"Continue to Next Card"})]}):(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold text-red-400 mb-4",children:["Exploration - Level ",e.exploreLevel,", Card ",S+1,"/5"]}),(0,l.jsxs)("p",{className:"text-gray-300 mb-4",children:["Initiative: ",(null===(t=n.find(e=>e.id===R))||void 0===t?void 0:t.name)||"Unknown"]}),(0,l.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg",onClick:H,children:"Reveal Explore Card"})]});var t;default:return(0,l.jsxs)("p",{className:"text-red-400",children:["Unknown phase: ",y]})}})()})};const h=function(e){let{character:t}=e;const{initializeCharacters:n,startNewGame:r,gameState:s,characters:o,updateCharacter:c}=i(),[u,d]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(0===o.length&&t&&!u){const e={...t,id:t.id||Date.now().toString(),equippedItems:t.equippedItems||[],anteAmount:0,activeCards:[],inactiveCards:[]};n([e]),d(!0)}else o.length>0&&d(!0)},[t,o,n,u]),(0,a.useEffect)(()=>{if(u&&o.length>0&&t){const e=o.find(e=>e.id===t.id||e.name===t.name);e&&c(e.id,{gold:t.gold,life:t.life,ap:t.ap,strength:t.strength,agility:t.agility,doubt:t.doubt,corruption:t.corruption,equippedItems:t.equippedItems})}},[t,o,u,c]),(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,l.jsxs)("h3",{className:"text-xl font-bold text-red-400 mb-4",children:["Game Status: ",s.status]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("p",{className:"text-gray-300",children:["Level: ",s.exploreLevel]}),(0,l.jsxs)("p",{className:"text-gray-300",children:["Phase: ",s.currentPhase]})]}),"setup"===s.status?(0,l.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg",onClick:r,children:"Begin Your Journey"}):(0,l.jsx)(m,{})]})};const p=function(e){let{character:t}=e;return console.log("GameTab rendering with character:",t),(0,l.jsxs)("div",{className:"p-4 bg-gray-800 rounded-lg shadow-inner",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-red-400 mb-4",children:"Game"}),(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg mb-4",children:[(0,l.jsx)("h3",{className:"text-lg text-red-300 mb-2",children:"Character Summary:"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-white",children:[(0,l.jsx)("span",{className:"text-red-300",children:"Name:"})," ",t.name]}),(0,l.jsxs)("p",{className:"text-white",children:[(0,l.jsx)("span",{className:"text-red-300",children:"Race:"})," ",t.race]}),(0,l.jsxs)("p",{className:"text-white",children:[(0,l.jsx)("span",{className:"text-red-300",children:"Class:"})," ",t.class]}),(0,l.jsxs)("p",{className:"text-white",children:[(0,l.jsx)("span",{className:"text-red-300",children:"Affinity:"})," ",t.affinity]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-white",children:[(0,l.jsx)("span",{className:"text-red-300",children:"Life:"})," ",t.life.current,"/",t.life.max]}),(0,l.jsxs)("p",{className:"text-white",children:[(0,l.jsx)("span",{className:"text-red-300",children:"AP:"})," ",t.ap.current,"/",t.ap.max]}),(0,l.jsxs)("p",{className:"text-white",children:[(0,l.jsx)("span",{className:"text-red-300",children:"Strength:"})," ",t.strength]}),(0,l.jsxs)("p",{className:"text-white",children:[(0,l.jsx)("span",{className:"text-red-300",children:"Agility:"})," ",t.agility]})]})]})]}),(0,l.jsx)(h,{character:t})]})};const g=function(e){let{masterCsvLink:t,isLoadingMasterCsv:n,loadMasterData:a,masterCsvLoadError:r,masterData:s,isLoadingCharacterCsv:i,characterCsvLoadError:o,characterImageData:c,isLoadingEquipmentCsv:u,equipmentCsvLoadError:d,equipmentData:f,isLoadingAffinityCsv:m,affinityCsvLoadError:h,affinityImageData:p,isLoadingQuestCsv:g,questCsvLoadError:x,questData:b,isLoadingThreatsCsv:y,threatsCsvLoadError:v,threatsSourceData:N,isLoadingRaceCsv:w,raceCsvLoadError:k,raceSourceData:j,isLoadingClassCsv:S,classCsvLoadError:C,classSourceData:E,isLoadingStatureCsv:A,statureCsvLoadError:L,statureSourceData:D,backgroundImageUrl:T,setBackgroundImageUrl:P}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-red-400 mb-4",children:"Master Data Source Link"}),(0,l.jsx)("p",{className:"text-red-300 text-sm mb-3",children:"The Master Data Source CSV published link is hardcoded for this application."}),(0,l.jsx)("button",{onClick:a,disabled:n,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed w-full",children:n?(0,l.jsxs)("span",{className:"flex items-center justify-center",children:[(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading All Data..."]}):"Load All Data from Master CSV"}),r&&(0,l.jsx)("p",{className:"text-red-400 text-sm mt-2",children:r}),!n&&t&&!r&&0===s.length&&(0,l.jsx)("p",{className:"text-yellow-400 text-sm mt-2",children:"Master CSV loaded, but no entries found. Ensure 'Type' and 'Link' columns are present and populated."}),s.length>0&&!r&&!n&&(0,l.jsxs)("p",{className:"text-green-400 text-sm mt-2",children:["Successfully loaded ",s.length," entries."]})]}),(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-red-400 mb-4",children:"Individual Data Load Status"}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg shadow border border-gray-600 mb-2",children:[(0,l.jsx)("p",{className:"text-red-300 font-medium",children:"Character Images:"}),i?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:"Loading..."}):o?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:o}):c.length>0?(0,l.jsxs)("p",{className:"text-green-400 text-sm",children:["Loaded ",c.length," entries."]}):(0,l.jsx)("p",{className:"text-yellow-400 text-sm",children:"No data loaded or link not found."})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg shadow border border-gray-600 mb-2",children:[(0,l.jsx)("p",{className:"text-red-300 font-medium",children:"Equipment Data:"}),u?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:"Loading..."}):d?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:d}):f.length>0?(0,l.jsxs)("p",{className:"text-green-400 text-sm",children:["Loaded ",f.length," entries."]}):(0,l.jsx)("p",{className:"text-yellow-400 text-sm",children:"No data loaded or link not found."})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg shadow border border-gray-600 mb-2",children:[(0,l.jsx)("p",{className:"text-red-300 font-medium",children:"Affinity Data:"}),m?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:"Loading..."}):h?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:h}):p.length>0?(0,l.jsxs)("p",{className:"text-green-400 text-sm",children:["Loaded ",p.length," entries."]}):(0,l.jsx)("p",{className:"text-yellow-400 text-sm",children:"No data loaded or link not found."})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg shadow border border-gray-600 mb-2",children:[(0,l.jsx)("p",{className:"text-red-300 font-medium",children:"Quest Data:"}),g?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:"Loading..."}):x?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:x}):b.length>0?(0,l.jsxs)("p",{className:"text-green-400 text-sm",children:["Loaded ",b.length," entries."]}):(0,l.jsx)("p",{className:"text-yellow-400 text-sm",children:"No data loaded or link not found. Please check your Master CSV and the Quest Data CSV link."})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg shadow border border-gray-600 mb-2",children:[(0,l.jsx)("p",{className:"text-red-300 font-medium",children:"Threat Data:"}),y?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:"Loading..."}):v?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:v}):N.length>0?(0,l.jsxs)("p",{className:"text-green-400 text-sm",children:["Loaded ",N.length," entries."]}):(0,l.jsx)("p",{className:"text-yellow-400 text-sm",children:"No data loaded or link not found. Please check your Master CSV and the Threat Data CSV link."})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg shadow border border-gray-600 mb-2",children:[(0,l.jsx)("p",{className:"text-red-300 font-medium",children:"Race Data:"}),w?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:"Loading..."}):k?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:k}):j.length>0?(0,l.jsxs)("p",{className:"text-green-400 text-sm",children:["Loaded ",j.length," entries."]}):(0,l.jsx)("p",{className:"text-yellow-400 text-sm",children:"No data loaded or link not found. Please check your Master CSV and the Race Data CSV link."})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg shadow border border-gray-600 mb-2",children:[(0,l.jsx)("p",{className:"text-red-300 font-medium",children:"Class Data:"}),S?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:"Loading..."}):C?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:C}):E.length>0?(0,l.jsxs)("p",{className:"text-green-400 text-sm",children:["Loaded ",E.length," entries."]}):(0,l.jsx)("p",{className:"text-yellow-400 text-sm",children:"No data loaded or link not found. Please check your Master CSV and the Class Data CSV link."})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg shadow border border-gray-600 mb-2",children:[(0,l.jsx)("p",{className:"text-red-300 font-medium",children:"Stature Data:"}),A?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:"Loading..."}):L?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:L}):D.length>0?(0,l.jsxs)("p",{className:"text-green-400 text-sm",children:["Loaded ",D.length," entries."]}):(0,l.jsx)("p",{className:"text-yellow-400 text-sm",children:"No data loaded or link not found. Please check your Master CSV and the Stature Data CSV link."})]})]}),(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h2",{className:"2xl font-semibold text-red-400 mb-4",children:"Background Image URL"}),(0,l.jsx)("p",{className:"text-red-300 text-sm mb-3",children:"Paste a direct image URL here to use it as the application background."}),(0,l.jsx)("input",{type:"text",value:T,onChange:e=>P(e.target.value),className:"shadow appearance-none border border-gray-600 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-100 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500 mb-3",placeholder:"e.g., https://example.com/your-background.jpg"}),T&&(0,l.jsx)("p",{className:"text-green-400 text-sm mt-2",children:"Background image set. Reload the preview if it doesn't appear immediately."})]})]})};const x=function(e){let{activeGuideSection:t,setActiveGuideSection:n,POKER_HAND_NAMES:a,EQUIPMENT_HAND_BONUSES:r,isLoadingRaceCsv:s,raceCsvLoadError:i,raceSourceData:o,isLoadingClassCsv:c,classCsvLoadError:u,classSourceData:d,isLoadingAffinityCsv:f,affinityCsvLoadError:m,affinityImageData:h,isLoadingStatureCsv:p,statureCsvLoadError:g,statureSourceData:x}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-red-400 mb-4",children:"Grim Hand Game Guide"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[(0,l.jsx)("button",{className:"book-button "+("overview"===t?"active":""),onClick:()=>n("overview"),children:"Game Overview"}),(0,l.jsx)("button",{className:"book-button "+("pokerHands"===t?"active":""),onClick:()=>n("pokerHands"),children:"Poker Hand Rankings"}),(0,l.jsx)("button",{className:"book-button "+("equipmentBonuses"===t?"active":""),onClick:()=>n("equipmentBonuses"),children:"Equipment Hand Bonuses"}),(0,l.jsx)("button",{className:"book-button "+("baseStats"===t?"active":""),onClick:()=>n("baseStats"),children:"Base Stats Reference"}),(0,l.jsx)("button",{className:"book-button "+("affinityAlignment"===t?"active":""),onClick:()=>n("affinityAlignment"),children:"Affinity Alignment"}),(0,l.jsx)("button",{className:"book-button "+("fullInstructions"===t?"active":""),onClick:()=>n("fullInstructions"),children:"Full Game Instructions"}),(0,l.jsx)("button",{className:"book-button "+("abilitiesQuests"===t?"active":""),onClick:()=>n("abilitiesQuests"),children:"Abilities & Quests"})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg shadow border border-gray-600 text-red-300",children:["overview"===t&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-400 mb-2",children:"Game Overview & Core Concepts"}),(0,l.jsx)("p",{className:"mb-2",children:"Grim Hand combines strategic character building, exploration, and high-stakes poker-driven combat. Players embody characters forged by their Race, Class, and Affinity, seeking to complete Quests and gain Stature in a desolate world."}),(0,l.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"The Grim Hand Deck:"})," A standard 52-card poker deck forms the core of all card-based mechanics."]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Life Essence:"})," Your character's health. Dropping to 0 leads to defeat."]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Primary Stats:"})," Strength, Agility, Action Points (AP)."]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Resources:"})," Gold (for items), XP (for abilities)."]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Negative Statuses:"})," Doubt (mental strain), Corruption (insidious influence)."]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Affinity:"})," (Blood, Bone, Shadow, Iron, Nature) grants bonuses, influences Quests, and provides benefits with matching cards."]})]}),(0,l.jsx)("p",{className:"mt-4 text-sm text-gray-400",children:'For a more detailed overview, refer to the "Grim Hand: Comprehensive Game Summary" document.'})]}),"pokerHands"===t&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-400 mb-2",children:"Poker Hand Rankings (Grim Hand Variant)"}),(0,l.jsx)("p",{className:"mb-2",children:"The strength of your poker hand determines various outcomes in Grim Hand, particularly in combat and for Equipment Hand Bonuses. Hands are ranked from lowest to highest:"}),(0,l.jsx)("ol",{className:"list-decimal list-inside space-y-1",children:a.map((e,t)=>(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:e})," (Traditional Poker Equivalent: ",0===t?"High Card":1===t?"Pair":2===t?"Two Pair":3===t?"Three of a Kind":4===t?"Straight":5===t?"Flush":6===t?"Full House":7===t?"Four of a Kind":8===t?"Straight Flush":"Five of a Kind",")"]},t))}),(0,l.jsx)("p",{className:"mt-4 text-sm text-gray-400",children:"In combat, your poker hand strength (level 0-9) can influence XP gain or other effects based on specific abilities."})]}),"equipmentBonuses"===t&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-400 mb-2",children:"Equipment Hand Bonuses"}),(0,l.jsx)("p",{className:"mb-2",children:"Forming specific poker hands with the Ranks of your **5 Equipped Item/Equipment Cards** grants powerful passive bonuses. Only the bonus for the **highest-ranking hand** applies."}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-600",children:[(0,l.jsx)("thead",{className:"bg-gray-600",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase tracking-wider",children:"Hand Type"}),(0,l.jsx)("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase tracking-wider",children:"Bonus"})]})}),(0,l.jsx)("tbody",{className:"bg-gray-700 divide-y divide-gray-600",children:Object.entries(r).map(e=>{let[t,n]=e;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-yellow-300",children:a[a.findIndex(e=>e.includes(t.replace(/ /g,"")))]||t}),(0,l.jsx)("td",{className:"px-4 py-2 text-sm text-red-300",children:n.text})]},t)})})]})}),(0,l.jsx)("p",{className:"mt-4 text-sm text-gray-400",children:'These bonuses are automatically applied to your "Current Stats" on the character sheet.'})]}),"baseStats"===t&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-400 mb-2",children:"Base Stats Reference"}),(0,l.jsx)("p",{className:"mb-2",children:"Your foundational stats are determined by the combination of your chosen Race, Class, Affinity, and current Stature."}),(0,l.jsx)("h4",{className:"text-lg font-semibold text-red-300 mt-4 mb-2",children:"Races:"}),s?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:"Loading Race Data..."}):i?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:i}):0===o.length?(0,l.jsx)("p",{className:"text-yellow-400 text-sm",children:"No Race data loaded. Check Systems tab."}):(0,l.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-600",children:[(0,l.jsx)("thead",{className:"bg-gray-600",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Race"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Life"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Str"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Agi"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"AP"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Gold"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Attack Contrib."}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Ability"})]})}),(0,l.jsx)("tbody",{className:"bg-gray-700 divide-y divide-gray-600",children:o.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-yellow-300",children:e.Name}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.life}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.strength}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.agility}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.ap}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.gold}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.attackContribution}),(0,l.jsx)("td",{className:"px-4 py-2 text-sm text-red-300",children:e.Ability})]},e.Name))})]})}),(0,l.jsx)("h4",{className:"text-lg font-semibold text-red-300 mt-4 mb-2",children:"Classes:"}),c?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:"Loading Class Data..."}):u?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:u}):0===d.length?(0,l.jsx)("p",{className:"text-yellow-400 text-sm",children:"No Class data loaded. Check Systems tab."}):(0,l.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-600",children:[(0,l.jsx)("thead",{className:"bg-gray-600",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Class"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Life"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Str"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Agi"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"AP"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Gold"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Attack Contrib."}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Ability"})]})}),(0,l.jsx)("tbody",{className:"bg-gray-700 divide-y divide-gray-600",children:d.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-yellow-300",children:e.Name}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.life}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.strength}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.agility}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.ap}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.gold}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.attackContribution}),(0,l.jsx)("td",{className:"px-4 py-2 text-sm text-red-300",children:e.Ability})]},e.Name))})]})}),(0,l.jsx)("h4",{className:"text-lg font-semibold text-red-300 mt-4 mb-2",children:"Affinities:"}),f?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:"Loading Affinity Data..."}):m?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:m}):0===h.length?(0,l.jsx)("p",{className:"text-yellow-400 text-sm",children:"No Affinity data loaded. Check Systems tab."}):(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-600",children:[(0,l.jsx)("thead",{className:"bg-gray-600",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Affinity"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Life"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Str"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Agi"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"AP"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Gold"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Attack Contrib."}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Ability"})]})}),(0,l.jsx)("tbody",{className:"bg-gray-700 divide-y divide-gray-600",children:h.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-yellow-300",children:e.Name}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.life}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.strength}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.agility}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.ap}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.gold}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.attackContribution}),(0,l.jsx)("td",{className:"px-4 py-2 text-sm text-red-300",children:e.Ability})]},e.Name))})]})}),(0,l.jsx)("h4",{className:"text-lg font-semibold text-red-300 mt-4 mb-2",children:"Stature Bonuses:"}),p?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:"Loading Stature Data..."}):g?(0,l.jsx)("p",{className:"text-red-400 text-sm",children:g}):0===x.length?(0,l.jsx)("p",{className:"text-yellow-400 text-sm",children:"No Stature data loaded. Check Systems tab."}):(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-600",children:[(0,l.jsx)("thead",{className:"bg-gray-600",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Stature"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Life"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Attack"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-200 uppercase",children:"Ability"})]})}),(0,l.jsx)("tbody",{className:"bg-gray-700 divide-y divide-gray-600",children:x.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-yellow-300",children:e.Stature}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.life}),(0,l.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-300",children:e.at}),(0,l.jsx)("td",{className:"px-4 py-2 text-sm text-red-300",children:e.Ability})]},e.Stature))})]})}),(0,l.jsx)("p",{className:"mt-4 text-sm text-gray-400",children:'These values are automatically summed and displayed under "Base Stats from Selections" in the Stats & XP tab.'})]}),"affinityAlignment"===t&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-400 mb-2",children:"Affinity Alignment"}),(0,l.jsx)("p",{className:"mb-2",children:"Your character's **Affinity** (Blood, Bone, Shadow, Iron, Nature) represents a fundamental connection to a primal force of the Grim Hand world. It significantly influences your character's capabilities and journey."}),(0,l.jsxs)("ul",{className:"list-disc list-inside space-y-2",children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Base Stat Contribution:"}),' Your chosen Affinity contributes directly to your character\'s base Life Essence, Strength, Agility, and Action Points. This is a foundational bonus reflected in your "Base Stats from Selections."']}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Equipped Item Alignment:"})," When you equip an item whose **Affinity matches your character's chosen Affinity**, you gain an additional +1 bonus to a specific stat.",(0,l.jsxs)("ul",{className:"list-disc list-inside ml-4 mt-1",children:[(0,l.jsx)("li",{children:"Blood / Nature Affinity Match: +1 Life Essence (Max)"}),(0,l.jsx)("li",{children:"Bone Affinity Match: +1 Agility"}),(0,l.jsx)("li",{children:"Shadow Affinity Match: +1 Action Point (Max)"}),(0,l.jsx)("li",{children:"Iron Affinity Match: +1 Strength"})]}),'This bonus is applied to your "Current Stats" and contributes to your "Aligned Card Attack Bonus".']}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Quest Influence:"})," Many Quests in Grim Hand are tied to specific Affinities. Undertaking Quests aligned with your character's Affinity may offer unique advantages, narrative opportunities, or more significant rewards."]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Strategic Choice:"})," Choosing an Affinity is a crucial strategic decision, as it shapes your character's natural strengths and how they interact with the world and its challenges."]})]}),(0,l.jsx)("p",{className:"mt-4 text-sm text-gray-400",children:"Ensure your equipped items and chosen quests align with your Affinity to maximize your character's potential."})]}),"fullInstructions"===t&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-400 mb-2",children:"Full Game Instructions"}),(0,l.jsx)("p",{className:"mb-2",children:"The complete game instructions are extensive and are best viewed in their dedicated document."}),(0,l.jsx)("p",{className:"text-sm text-gray-400",children:'Please refer to the "Grim Hand: Complete Game Instructions" document for full details on game setup, phases, and core mechanics.'})]}),"abilitiesQuests"===t&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-400 mb-2",children:"Abilities & Quests"}),(0,l.jsx)("p",{className:"mb-2",children:"Grim Hand features a wide array of unique abilities and quests that define your character's journey."}),(0,l.jsx)("p",{className:"text-sm text-gray-400",children:"For detailed information on Stature Abilities (Novice, Adept, Veteran, Master, Legendary) and Quest Cards, please refer to the following separate documents:"}),(0,l.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1 text-sm text-gray-400",children:[(0,l.jsx)("li",{children:'"Blood Affinity Ability Reference Sheet" (and similar for other affinities)'}),(0,l.jsx)("li",{children:'"Grim Hand Ability Names by Stature"'}),(0,l.jsx)("li",{children:'"Grim Hand Abilities with Novice Effects Defined"'}),(0,l.jsx)("li",{children:'"Grim Hand Quest Cards" (for both "quest_cards_table" and "quest_cards_full_table")'})]})]})]})]})};new class{constructor(){this.sounds={},this.backgroundMusic=null,this.isMuted=!1,this.volume=.5,this.musicVolume=.3}loadSounds(){this.loadSound("damage","/sounds/character/damage.mp3"),this.loadSound("death","/sounds/character/death.mp3"),this.loadSound("heal","/sounds/character/heal.mp3"),this.loadSound("equipItem","/sounds/equipment/equip.mp3"),this.loadSound("unequipItem","/sounds/equipment/unequip.mp3"),this.loadSound("questAccept","/sounds/quests/accept.mp3"),this.loadSound("questComplete","/sounds/quests/complete.mp3"),this.loadSound("questChallenge","/sounds/quests/challenge.mp3"),this.loadSound("threatAppear","/sounds/threats/appear.mp3"),this.loadSound("threatAttack","/sounds/threats/attack.mp3"),this.loadSound("threatDefeat","/sounds/threats/defeat.mp3"),this.loadSound("buttonClick","/sounds/ui/click.mp3"),this.loadSound("tabChange","/sounds/ui/tab.mp3"),this.loadSound("diceRoll","/sounds/ui/dice.mp3"),this.loadSound("musicMain","/sounds/music/main_theme.mp3",!0),this.loadSound("musicCombat","/sounds/music/combat.mp3",!0),this.loadSound("musicQuest","/sounds/music/quest.mp3",!0)}loadSound(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=new Audio(t);return a.preload="auto",n?(a.loop=!0,a.volume=this.musicVolume):a.volume=this.volume,this.sounds[e]=a,a.addEventListener("error",()=>{console.error(`Error loading sound: ${e} from ${t}`)}),a}playSound(e){if(this.isMuted)return;const t=this.sounds[e];t?(t.currentTime=0,t.play().catch(t=>{console.warn(`Error playing sound ${e}:`,t)})):console.warn(`Sound not found: ${e}`)}playMusic(e){if(this.isMuted)return;this.stopMusic();const t=this.sounds[e];t?(t.play().catch(t=>{console.warn(`Error playing music ${e}:`,t)}),this.backgroundMusic=t):console.warn(`Music not found: ${e}`)}stopMusic(){this.backgroundMusic&&(this.backgroundMusic.pause(),this.backgroundMusic.currentTime=0)}toggleMute(){return this.isMuted=!this.isMuted,Object.values(this.sounds).forEach(e=>{e.muted=this.isMuted}),this.isMuted}setVolume(e){this.volume=Math.max(0,Math.min(1,e)),Object.values(this.sounds).forEach(e=>{e!==this.backgroundMusic&&(e.volume=this.volume)})}setMusicVolume(e){this.musicVolume=Math.max(0,Math.min(1,e)),this.backgroundMusic&&(this.backgroundMusic.volume=this.musicVolume)}};const b=function(e){let{character:t,handleCharacterChange:n,handleStatInputChange:a,handleIncrementDecrement:r,calculatedStats:s,raceSourceData:i,classSourceData:o,affinityImageData:c,isLoadingRaceCsv:u,isLoadingClassCsv:d,isLoadingAffinityCsv:f,raceCsvLoadError:m,classCsvLoadError:h,affinityCsvLoadError:p,portraitLoadError:g,handlePortraitUrlChange:x,corruptionOverlayUrl:b,affinityOverlayUrl:y,affinityOverlayLoadError:v,selectedRaceAbility:N,selectedClassAbility:w,selectedAffinityAbility:k,handleRandomizeCharacter:j}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-red-400 mb-6",children:"Character Overview"}),(0,l.jsxs)("div",{className:"flex flex-col xl:flex-row gap-6",children:[(0,l.jsxs)("div",{className:"xl:w-1/3 space-y-4",children:[(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-4",children:"Character Details"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-red-400 text-sm font-bold mb-1",children:"Name:"}),(0,l.jsx)("input",{type:"text",name:"name",value:t.name,onChange:n,className:"shadow appearance-none border border-gray-600 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-100 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-red-400 text-sm font-bold mb-1",children:"Race:"}),(0,l.jsx)("select",{name:"race",value:t.race,onChange:n,className:"shadow border border-gray-600 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-100 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500",children:u?(0,l.jsx)("option",{value:"",disabled:!0,children:"Loading Races..."}):m?(0,l.jsx)("option",{value:"",disabled:!0,children:m}):0===i.length?(0,l.jsx)("option",{value:"",disabled:!0,children:"No Race Data"}):i.map(e=>(0,l.jsx)("option",{value:e.Name,children:e.Name},e.Name))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-red-400 text-sm font-bold mb-1",children:"Class:"}),(0,l.jsx)("select",{name:"class",value:t.class,onChange:n,className:"shadow border border-gray-600 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-100 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500",children:d?(0,l.jsx)("option",{value:"",disabled:!0,children:"Loading Classes..."}):h?(0,l.jsx)("option",{value:"",disabled:!0,children:h}):0===o.length?(0,l.jsx)("option",{value:"",disabled:!0,children:"No Class Data"}):o.map(e=>(0,l.jsx)("option",{value:e.Name,children:e.Name},e.Name))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-red-400 text-sm font-bold mb-1",children:"Affinity:"}),(0,l.jsx)("select",{name:"affinity",value:t.affinity,onChange:n,className:"shadow border border-gray-600 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-100 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500",children:f?(0,l.jsx)("option",{value:"",disabled:!0,children:"Loading Affinities..."}):p?(0,l.jsx)("option",{value:"",disabled:!0,children:p}):0===c.length?(0,l.jsx)("option",{value:"",disabled:!0,children:"No Affinity Data"}):c.map(e=>(0,l.jsx)("option",{value:e.Name,children:e.Name},e.Name))})]})]})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-4",children:"Special Abilities"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-red-400 text-sm font-bold mb-1",children:"Race Ability:"}),(0,l.jsx)("p",{className:"text-gray-200 bg-gray-700 p-2 rounded-lg border border-gray-600 text-sm",children:N})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-red-400 text-sm font-bold mb-1",children:"Class Ability:"}),(0,l.jsx)("p",{className:"text-gray-200 bg-gray-700 p-2 rounded-lg border border-gray-600 text-sm",children:w})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-red-400 text-sm font-bold mb-1",children:"Affinity Ability:"}),(0,l.jsx)("p",{className:"text-gray-200 bg-gray-700 p-2 rounded-lg border border-gray-600 text-sm",children:k})]})]})]})]}),(0,l.jsx)("div",{className:"xl:w-1/3",children:(0,l.jsxs)("div",{className:"bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-700 h-fit",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-300 mb-6 text-center",children:"Current Stats"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg border border-gray-600",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("span",{className:"text-red-300 font-medium",children:"Life Essence:"}),(0,l.jsxs)("span",{className:"text-lg font-bold text-red-300",children:[t.life.current," / ",s.totalLifeMax]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>r("lifeCurrent",-5),className:"bg-red-700 hover:bg-red-800 text-white font-bold py-1 px-2 rounded text-sm",children:"-5"}),(0,l.jsx)("button",{onClick:()=>r("lifeCurrent",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-sm",children:"-1"}),(0,l.jsx)("input",{type:"number",value:t.life.current,onChange:e=>a("lifeCurrent",e.target.value),className:"w-20 text-center bg-gray-600 text-red-300 font-bold rounded py-1 px-2 focus:outline-none focus:ring-1 focus:ring-red-500",min:"0",max:s.totalLifeMax}),(0,l.jsx)("button",{onClick:()=>r("lifeCurrent",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded text-sm",children:"+1"}),(0,l.jsx)("button",{onClick:()=>r("lifeCurrent",5),className:"bg-green-700 hover:bg-green-800 text-white font-bold py-1 px-2 rounded text-sm",children:"+5"})]})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg border border-gray-600",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("span",{className:"text-red-300 font-medium",children:"Action Points:"}),(0,l.jsxs)("span",{className:"text-lg font-bold text-red-300",children:[t.ap.current," / ",s.totalApMax]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>r("apCurrent",-5),className:"bg-red-700 hover:bg-red-800 text-white font-bold py-1 px-2 rounded text-sm",children:"-5"}),(0,l.jsx)("button",{onClick:()=>r("apCurrent",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-sm",children:"-1"}),(0,l.jsx)("input",{type:"number",value:t.ap.current,onChange:e=>a("apCurrent",e.target.value),className:"w-20 text-center bg-gray-600 text-red-300 font-bold rounded py-1 px-2 focus:outline-none focus:ring-1 focus:ring-red-500",min:"0",max:s.totalApMax}),(0,l.jsx)("button",{onClick:()=>r("apCurrent",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded text-sm",children:"+1"}),(0,l.jsx)("button",{onClick:()=>r("apCurrent",5),className:"bg-green-700 hover:bg-green-800 text-white font-bold py-1 px-2 rounded text-sm",children:"+5"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg border border-gray-600",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,l.jsx)("span",{className:"text-red-300 text-sm font-medium",children:"Strength"}),(0,l.jsx)("span",{className:"text-xl font-bold text-red-300",children:s.totalStrength})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,l.jsx)("button",{onClick:()=>r("strength",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-sm",children:"-1"}),(0,l.jsx)("input",{type:"number",value:t.strength,onChange:e=>a("strength",e.target.value),className:"w-16 text-center bg-gray-600 text-red-300 font-bold rounded py-1 px-2 focus:outline-none focus:ring-1 focus:ring-red-500",min:"0"}),(0,l.jsx)("button",{onClick:()=>r("strength",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded text-sm",children:"+1"})]})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg border border-gray-600",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,l.jsx)("span",{className:"text-red-300 text-sm font-medium",children:"Agility"}),(0,l.jsx)("span",{className:"text-xl font-bold text-red-300",children:s.totalAgility})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,l.jsx)("button",{onClick:()=>r("agility",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-sm",children:"-1"}),(0,l.jsx)("input",{type:"number",value:t.agility,onChange:e=>a("agility",e.target.value),className:"w-16 text-center bg-gray-600 text-red-300 font-bold rounded py-1 px-2 focus:outline-none focus:ring-1 focus:ring-red-500",min:"0"}),(0,l.jsx)("button",{onClick:()=>r("agility",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded text-sm",children:"+1"})]})]})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg border border-gray-600 text-center",children:[(0,l.jsx)("div",{className:"text-orange-300 text-sm font-medium mb-1",children:"Total Attack Score"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:s.totalAttack}),(0,l.jsxs)("div",{className:"text-xs text-orange-200 mt-1",children:["(Base: ",s.baseAttack," + Cards: +",s.alignedCardsAttackBonus,")"]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg border border-gray-600",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,l.jsx)("span",{className:"text-yellow-300 text-sm font-medium",children:"Gold:"})}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,l.jsx)("button",{onClick:()=>r("gold",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-1 rounded text-xs",children:"-"}),(0,l.jsx)("input",{type:"number",value:t.gold,onChange:e=>a("gold",e.target.value),className:"w-16 text-center bg-gray-600 text-yellow-300 font-bold rounded py-1 px-1 focus:outline-none focus:ring-1 focus:ring-yellow-500 text-sm",min:"0"}),(0,l.jsx)("button",{onClick:()=>r("gold",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-1 rounded text-xs",children:"+"})]})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg border border-gray-600 text-center",children:[(0,l.jsx)("div",{className:"text-yellow-300 text-sm font-medium",children:"Mastery"}),(0,l.jsx)("div",{className:"text-lg font-bold text-yellow-300",children:s.mostFavouredMastery})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-white mb-1",children:"Quest Points (QP):"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("button",{onClick:()=>r("qp",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-sm",children:"\u2212"}),(0,l.jsx)("input",{type:"number",value:t.qp,onChange:e=>a("qp",e.target.value),className:"w-20 text-center bg-gray-600 text-yellow-300 font-bold rounded py-1 px-2 focus:outline-none focus:ring-1 focus:ring-yellow-500",min:"0"}),(0,l.jsx)("button",{onClick:()=>r("qp",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded text-sm",children:"+"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg border border-gray-600",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,l.jsx)("span",{className:"text-red-500 text-sm font-medium",children:"Corruption:"})}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,l.jsx)("button",{onClick:()=>r("corruption",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-1 rounded text-xs",children:"-"}),(0,l.jsx)("input",{type:"number",value:t.corruption,onChange:e=>a("corruption",e.target.value),className:"w-16 text-center bg-gray-600 text-red-500 font-bold rounded py-1 px-1 focus:outline-none focus:ring-1 focus:ring-red-500 text-sm",min:"0"}),(0,l.jsx)("button",{onClick:()=>r("corruption",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-1 rounded text-xs",children:"+"})]})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg border border-gray-600",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,l.jsx)("span",{className:"text-purple-300 text-sm font-medium",children:"Doubt:"})}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,l.jsx)("button",{onClick:()=>r("doubt",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-1 rounded text-xs",children:"-"}),(0,l.jsx)("input",{type:"number",value:t.doubt,onChange:e=>a("doubt",e.target.value),className:"w-16 text-center bg-gray-600 text-purple-300 font-bold rounded py-1 px-1 focus:outline-none focus:ring-1 focus:ring-purple-500 text-sm",min:"0"}),(0,l.jsx)("button",{onClick:()=>r("doubt",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-1 rounded text-xs",children:"+"})]})]})]})]})]})}),(0,l.jsxs)("div",{className:"xl:w-1/3 flex flex-col items-center",children:[(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700 w-full mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-4 text-center",children:"Character Tools"}),(0,l.jsx)("div",{className:"flex gap-3 items-center",children:(0,l.jsx)("button",{onClick:j,disabled:0===i.length||0===o.length||0===c.length,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out w-full disabled:opacity-50 disabled:cursor-not-allowed",children:"\ud83c\udfb2 Randomize Character"})})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700 w-fit",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-4 text-center",children:"Character Portrait"}),(0,l.jsxs)("div",{className:"w-61 h-61 bg-gray-700 rounded-lg overflow-hidden border-2 border-red-500 flex items-center justify-center shadow-lg relative",children:[(0,l.jsx)("img",{src:t.portraitUrl,alt:"Character Portrait",className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/256x256/333/eee?text=Character"}}),g&&(0,l.jsx)("p",{className:"absolute bottom-0 right-0 text-red-400 text-xs bg-gray-900 bg-opacity-75 p-1 rounded-bl-lg",children:"Load Error"}),b&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:(0,l.jsx)("img",{src:b,alt:"Corruption Overlay",className:"w-full h-full object-cover opacity-70"})}),(0,l.jsxs)("div",{className:"absolute top-2 right-2 w-12 h-12 bg-white rounded-full overflow-hidden border-2 border-gray-300 flex items-center justify-center shadow-md z-10",children:[y?(0,l.jsx)("img",{src:y,alt:"Affinity Icon",className:"w-full h-full object-cover",onError:e=>{console.error("DEBUG: Affinity image failed to load:",e),e.target.onerror=null,e.target.src="https://placehold.co/48x48/FFFFFF/333?text=AFF"}}):(0,l.jsx)("div",{className:"w-full h-full bg-white rounded-full flex items-center justify-center text-xs text-gray-700 text-center p-1",children:"No Symbol"}),v&&(0,l.jsx)("p",{className:"absolute bottom-0 right-0 text-red-400 text-xs bg-gray-900 bg-opacity-75 p-1 rounded-bl-lg",children:"Load Error"})]})]})]})]})]})]})};const y=function(e){let{character:t,xpProgressData:n,handleStatInputChange:a,handleIncrementDecrement:r,xpFormula:s,setXpFormula:i,calculatedXpFromFormula:o,xpFormulaError:c,masteredHands:u,handleMasteryStarClick:d,POKER_HAND_NAMES:f,currentStatureAbility:m,statureSourceData:h}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-red-400 mb-4",children:"Stature Progression"}),(0,l.jsxs)("div",{className:"flex flex-col gap-4 bg-gray-800 p-4 rounded-lg shadow border border-gray-700",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-lg shadow border border-gray-600",children:[(0,l.jsx)("span",{className:"text-red-300 font-medium",children:"Current XP:"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("button",{onClick:()=>r("xp",-10),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded-full mr-2",children:"-10"}),(0,l.jsx)("button",{onClick:()=>r("xp",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded-full mr-2",children:"-1"}),(0,l.jsx)("input",{type:"number",value:t.xp,onChange:e=>a("xp",e.target.value),className:"w-24 text-center bg-gray-600 text-blue-300 font-bold rounded-lg py-1 px-2 focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0"}),(0,l.jsx)("button",{onClick:()=>r("xp",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded-full ml-2",children:"+1"}),(0,l.jsx)("button",{onClick:()=>r("xp",10),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded-full ml-2",children:"+10"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-lg shadow border border-gray-600",children:[(0,l.jsx)("span",{className:"text-red-300 font-medium",children:"Current Stature:"}),(0,l.jsx)("span",{className:"font-bold text-yellow-300",children:n.currentStature})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-lg shadow border border-gray-600 col-span-full sm:col-span-1",children:[(0,l.jsx)("span",{className:"text-red-300 font-medium",children:"Stature Ability:"}),(0,l.jsx)("p",{className:"text-gray-200 text-sm",children:m})]}),"Max Level"!==n.nextStature?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-lg shadow border border-gray-600",children:[(0,l.jsx)("span",{className:"text-red-300 font-medium",children:"Next Stature:"}),(0,l.jsx)("span",{className:"font-bold text-green-300",children:n.nextStature})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-lg shadow border border-gray-600",children:[(0,l.jsx)("span",{className:"text-red-300 font-medium",children:"XP to Next Level:"}),(0,l.jsx)("span",{className:"font-bold text-blue-300",children:n.xpToNext})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-lg shadow border border-gray-600",children:[(0,l.jsx)("span",{className:"text-red-300 font-medium",children:"Current XP in Segment:"}),(0,l.jsxs)("span",{className:"font-bold text-blue-300",children:[n.currentLevelXP," / ",n.segmentTotalXP]})]})]}):(0,l.jsx)("div",{className:"flex items-center justify-center bg-gray-700 p-3 rounded-lg shadow border border-gray-600 col-span-full",children:(0,l.jsx)("p",{className:"text-red-300 text-lg font-bold text-green-400",children:"You have reached Max Stature!"})})]}),(0,l.jsx)("div",{className:"relative w-full h-8 bg-gray-700 rounded-full border-2 border-red-500 overflow-hidden mt-4",children:(0,l.jsx)("div",{className:"absolute top-0 left-0 h-full bg-green-500 transition-all duration-500 ease-out flex items-center justify-center",style:{width:`${n.progressPercentage}%`},children:(0,l.jsxs)("span",{className:"text-xs font-bold text-white text-shadow-sm px-2",children:[n.progressPercentage.toFixed(0),"%"]})})}),(0,l.jsxs)("div",{className:"p-3 bg-gray-700 rounded-lg shadow border border-gray-600 mt-6",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-400 mb-2",children:"Stature Bonus Details"}),(0,l.jsx)("p",{className:"text-red-300 mb-2",children:"At each new Stature level, your character unlocks powerful new abilities."}),(0,l.jsxs)("p",{className:"text-red-300 text-sm",children:['Refer to the "',(0,l.jsx)("span",{className:"font-bold text-yellow-300",children:"Game Guide"}),'" tab, then select the "',(0,l.jsx)("span",{className:"font-bold text-yellow-300",children:"Abilities & Quests"}),'" section for a full breakdown of abilities available at each Stature.']})]})]})]}),(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h2",{className:"2xl font-semibold text-red-400 mb-4",children:"XP Formula Calculator"}),(0,l.jsx)("p",{className:"text-red-300 text-sm mb-2",children:"Enter a formula using variables: `lifeCurrent`, `lifeMax`, `strength`, `agility`, `apCurrent`, `apMax`, `gold`, `xp`, `doubt`, `corruption`, `attack`."}),(0,l.jsx)("input",{type:"text",value:s,onChange:e=>i(e.target.value),className:"shadow appearance-none border border-gray-600 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-100 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500 mb-3",placeholder:"e.g., gold / 2 + strength"}),(0,l.jsxs)("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-lg shadow border border-gray-600",children:[(0,l.jsx)("span",{className:"text-red-300 font-medium",children:"Calculated XP:"}),c?(0,l.jsx)("span",{className:"text-red-500 font-bold",children:c}):(0,l.jsx)("span",{className:"text-lg font-bold text-blue-300",children:o})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-red-400 mb-4",children:"Card Mastery"}),(0,l.jsx)("p",{className:"text-red-300 mb-4",children:"Click the stars to mark when you've achieved a specific poker hand during gameplay. Each star represents a mastery milestone for that hand."}),(0,l.jsx)("div",{className:"space-y-4",children:f.slice(1).map(e=>(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg shadow border border-gray-600 flex flex-col sm:flex-row sm:items-center justify-between",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-yellow-300 mb-2 sm:mb-0 sm:w-1/3",children:e}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2 sm:w-2/3 justify-end",children:u[e]&&u[e].map((t,n)=>(0,l.jsx)("button",{onClick:()=>d(e,n),className:"p-1 rounded-full hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-yellow-500 transition-colors duration-150","aria-label":`Mark mastery ${n+1} for ${e}`,children:(0,l.jsx)("svg",{className:"w-6 h-6 "+(t?"text-yellow-400":"text-gray-500"),fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.683-1.539 1.118l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.784.565-1.839-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.929 8.72c-.783-.57-.381-1.81.588-1-81h3.462a1 1 0 00.95-.69l1.07-3.292z"})})},n))})]},e))})]})]})},v=a.memo(e=>{let{filteredEquipmentData:t}=e;return(0,l.jsx)("div",{className:"max-h-96 overflow-y-auto border border-gray-600 rounded-lg p-2 bg-gray-700",children:t.length>0?(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-600",children:[(0,l.jsx)("thead",{className:"bg-gray-700 sticky top-0",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Item Name"}),(0,l.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Rank"}),(0,l.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Affinity"}),(0,l.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Primary Effect"})]})}),(0,l.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:t.map((e,t)=>(0,l.jsxs)("tr",{className:"hover:bg-gray-600 transition-colors duration-150",children:[(0,l.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-red-300",children:e.ItemName}),(0,l.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-red-300",children:e.Rank}),(0,l.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-red-300",children:e.Affinity}),(0,l.jsx)("td",{className:"px-3 py-2 text-sm text-red-300",children:e.PrimaryEffect})]},e.ItemName||t))})]}):(0,l.jsx)("p",{className:"text-yellow-400 text-center py-4",children:"No equipment found matching your search criteria."})})});const N=function(e){let{character:t,handleEquippedItemChange:n,equipmentData:a,filteredEquipmentData:r,equipmentSearchTerm:s,handleEquipmentSearch:i,calculatedStats:o,isLoadingEquipmentCsv:c,equipmentCsvLoadError:u,rarityBorderColours:d}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-red-400 mb-4",children:"Equipped Items (Max 5)"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:t.equippedItems.map(e=>(0,l.jsxs)("div",{className:`bg-gray-700 p-3 rounded-lg shadow border-8 ${d[e.Rarity]||"border-gray-600"}`,children:[(0,l.jsxs)("h3",{className:"text-red-300 font-semibold mb-2",children:["Slot ",e.id.replace("slot","")]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("label",{className:"block text-red-400 text-xs font-bold mb-1",children:"Select Item:"}),(0,l.jsxs)("select",{value:e.ItemName||"",onChange:t=>n(e.id,t.target.value),className:"shadow border border-gray-600 rounded-lg w-full py-1 px-2 bg-gray-600 text-gray-100 leading-tight focus:outline-none focus:ring-1 focus:ring-red-500 text-sm",children:[(0,l.jsx)("option",{value:"",children:"-- Clear Slot --"}),a.map(e=>(0,l.jsxs)("option",{value:e.ItemName,children:[e.ItemName," (Rank: ",e.Rank,", Affinity: ",e.Affinity,")"]},e.ItemName))]})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("label",{className:"block text-red-400 text-xs font-bold mb-1",children:"Rank:"}),(0,l.jsx)("input",{type:"text",value:e.Rank||"",readOnly:!0,className:"shadow appearance-none border border-gray-600 rounded-lg w-full py-1 px-2 bg-gray-600 text-gray-100 leading-tight focus:outline-none focus:ring-1 focus:ring-red-500 text-sm"})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("label",{className:"block text-red-400 text-xs font-bold mb-1",children:"Affinity:"}),(0,l.jsx)("input",{type:"text",value:e.Affinity||"",readOnly:!0,className:"shadow appearance-none border border-gray-600 rounded-lg w-full py-1 px-2 bg-gray-600 text-gray-100 leading-tight focus:outline-none focus:ring-1 focus:ring-red-500 text-sm"})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("label",{className:"block text-red-400 text-xs font-bold mb-1",children:"Primary Effect:"}),(0,l.jsx)("textarea",{value:e.PrimaryEffect||"",readOnly:!0,className:"shadow appearance-none border border-gray-600 rounded-lg w-full py-1 px-2 bg-gray-600 text-gray-100 leading-tight focus:outline-none focus:ring-1 focus:ring-red-500 text-sm h-16"}),e.DiceRolls&&(0,l.jsxs)("div",{className:"text-sm text-gray-300 mt-1",children:[(0,l.jsx)("strong",{children:"Rarity Dice Roll:"})," ",e.DiceRolls.map((e,t)=>(0,l.jsx)("span",{className:"inline-block mx-1",children:6===e?"\u2605":e},t))]})]}),e.Rank&&e.Affinity&&e.Affinity.trim()===t.affinity.trim()&&(0,l.jsxs)("p",{className:"text-green-400 text-xs mt-2",children:["+1 ","Blood"===e.Affinity.trim()||"Nature"===e.Affinity.trim()?"Life Essence":"Bone"===e.Affinity.trim()?"Agility":"Shadow"===e.Affinity.trim()?"Action Point":"Strength"," (Affinity Match)"]})]},e.id))}),(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg shadow border border-gray-600 mt-6",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-300 mb-2",children:"Equipment Hand Bonus:"}),(0,l.jsx)("p",{className:"text-lg text-yellow-300",children:o.equipmentHandBonusText}),"None"!==o.currentEquipmentHandBonus&&"Invalid or Incomplete Card Data"!==o.currentEquipmentHandBonus&&(0,l.jsxs)("p",{className:"text-red-400 text-sm mt-1",children:["Current Hand: ",o.currentEquipmentHandBonus]})]})]}),(0,l.jsxs)("div",{className:"mt-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-red-400 mb-4",children:"Available Equipment"}),(0,l.jsx)("input",{type:"text",value:s,onChange:i,className:"shadow appearance-none border border-gray-600 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-100 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500 mb-4",placeholder:"Search equipment by name, affinity, or effect..."}),c?(0,l.jsx)("p",{className:"text-red-400",children:"Loading equipment data..."}):u?(0,l.jsx)("p",{className:"text-red-400",children:u}):0===a.length?(0,l.jsx)("p",{className:"text-yellow-400",children:"No equipment data loaded. Please provide a valid CSV link in the Systems tab."}):(0,l.jsx)(v,{filteredEquipmentData:r})]})]})};const w=function(e){let{character:t,handleQuestChange:n,questData:a,selectedQuestDetails:r,showFullQuestDescription:s,setShowFullQuestDescription:i,xpProgressData:o,isLoadingQuestCsv:c,questCsvLoadError:u,questText:d,isLoadingQuest:f,suggestPersonalQuest:m,currentQuestChallenge:h,questChallengeDice:p,questChallengeTotal:g,generateQuestChallenge:x}=e;return(0,l.jsxs)("div",{className:"p-4 bg-gray-800 rounded-lg shadow-inner",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-red-400 mb-4",children:"Active Quest"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-red-400 text-sm font-bold mb-2",children:"Select Quest:"}),(0,l.jsxs)("select",{value:t.activeQuestName||"",onChange:n,className:"shadow border border-gray-600 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-100 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,l.jsx)("option",{value:"",children:"-- No Active Quest --"}),c?(0,l.jsx)("option",{value:"",disabled:!0,children:"Loading quests..."}):u?(0,l.jsx)("option",{value:"",disabled:!0,children:u}):0===a.length?(0,l.jsx)("option",{value:"",disabled:!0,children:"No quest data loaded. Check Systems tab."}):((e,n)=>{const r=["recruit","novice","adept","veteran","master","legend"],s=r.indexOf(null===(e=o.currentStature)||void 0===e?void 0:e.trim().toLowerCase()),i="legend"===(null===(n=o.currentStature)||void 0===n?void 0:n.trim().toLowerCase())?r:r.slice(0,s+1);return a.filter(e=>{var n,a,r;const l=null===(n=e.Stature)||void 0===n?void 0:n.toString().trim().toLowerCase().replace(/\u00A0/g,""),s=null===(a=e.Affinity)||void 0===a?void 0:a.toString().trim().toLowerCase().replace(/\u00A0/g,""),o=null===(r=t.affinity)||void 0===r?void 0:r.toString().trim().toLowerCase();return l&&i.includes(l)&&s&&s===o}).map(e=>(0,l.jsxs)("option",{value:e.Quest_Name,children:[e.Quest_Name," (",e.Affinity,")"]},e.Quest_Name))})()]})]}),r&&(0,l.jsx)("div",{className:"bg-gray-700 p-4 rounded-lg shadow border border-gray-600",children:(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-300 mb-2",children:r.Quest_Name}),(0,l.jsxs)("p",{className:"text-sm text-gray-400 mb-3",children:["Affinity: ",r.Affinity]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,l.jsx)("div",{className:"md:w-1/3",children:r.AppImage?(0,l.jsx)("img",{src:r.AppImage,alt:`${r.Quest_Name} quest illustration`,className:"w-full rounded-lg border border-gray-600 shadow-md object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/200x150/333/eee?text=Quest+Image",console.error(`Error loading quest image for ${r.Quest_Name}: ${r.AppImage}`)}}):(0,l.jsx)("div",{className:"w-full h-32 bg-gray-600 rounded-lg flex items-center justify-center text-gray-400 text-sm border border-gray-500",children:"No Quest Image Available"})}),(0,l.jsxs)("div",{className:"md:w-2/3",children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-red-300 mb-1",children:"Description:"}),(0,l.jsx)("p",{className:"text-red-300 "+(s?"":"line-clamp-3"),children:r.Quest}),r.Quest&&r.Quest.length>150&&(0,l.jsx)("button",{onClick:()=>i(!s),className:"text-blue-400 hover:text-blue-300 text-sm mt-1",children:s?"Show Less":"Show More"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-red-300 mb-1",children:"Quest Requirements:"}),r.Stature&&(0,l.jsxs)("p",{className:"text-red-300 text-sm",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Stature:"})," ",r.Stature]}),r.QP&&(0,l.jsxs)("p",{className:"text-red-300 text-sm",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Quest Points Required:"})," ",r.QP]}),r.Bonuses&&(0,l.jsxs)("p",{className:"text-red-300 text-sm",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Additional Notes:"})," ",r.Bonuses]}),!r.Stature&&!r.Equip&&!r.Threat&&!r.Bonuses&&(0,l.jsx)("p",{className:"text-gray-400 text-sm",children:"No specific requirements listed."})]})]})]})]}),h&&(0,l.jsxs)("div",{className:"p-4 bg-gray-800 rounded-lg border-2 border-red-500 mt-4",children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-red-400 mb-3",children:"QUEST CHALLENGE"}),(0,l.jsxs)("div",{className:"flex items-center mb-4",children:[(0,l.jsx)("span",{className:"text-gray-300 mr-2",children:"Dice Roll:"}),(0,l.jsx)("div",{className:"flex space-x-1",children:p.map((e,t)=>(0,l.jsx)("div",{className:"w-8 h-8 bg-gray-700 border border-gray-600 rounded flex items-center justify-center text-white font-bold",children:e},t))}),(0,l.jsx)("span",{className:"text-gray-300 mx-2",children:"="}),(0,l.jsx)("span",{className:"text-xl font-bold text-white",children:g})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("span",{className:"text-gray-300",children:"Challenge Type:"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:h.name})]}),(0,l.jsx)("div",{className:"p-3 bg-gray-700 rounded border border-gray-600 mb-3",children:(0,l.jsx)("p",{className:"text-red-300 text-lg",children:h.description})}),(0,l.jsx)("button",{onClick:x,className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded font-bold flex items-center justify-center w-full",children:"\ud83c\udfb2 Re-roll Challenge"})]})]})}),!r&&t.activeQuestName&&(0,l.jsx)("p",{className:"text-yellow-400 mt-4",children:"Selected quest details not found. Please ensure the quest data is loaded correctly."}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-300 mb-3",children:"Personal Quest Ideas"}),(0,l.jsx)("button",{onClick:m,disabled:f,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed mb-4",children:f?(0,l.jsxs)("span",{className:"flex items-center justify-center",children:[(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating Quest..."]}):"\u2728 Generate Personal Quest Idea"}),d&&(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg shadow border border-gray-600",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-purple-300 mb-2",children:"AI-Generated Quest Idea:"}),(0,l.jsx)("p",{className:"text-red-300 whitespace-pre-wrap",children:d})]})]})]})};const k=function(e){let{threats:t,setThreats:n,numberOfThreats:a,setNumberOfThreats:r,generateThreatTokens:s,clearThreats:i,updateThreatLife:o,updateThreatName:c,updateThreatMaxLife:u,updateThreatAtScore:d,updateThreatAttackBonus:f,threatsSourceData:m,selectedThreatToAdd:h,setSelectedThreatToAdd:p,previewThreatData:g,addThreat:x,removeThreat:b,isLoadingThreatsCsv:y,threatsCsvLoadError:v}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-red-400 mb-6 text-center",children:"Threats"}),(0,l.jsxs)("div",{className:"flex justify-center items-center space-x-4 mb-6",children:[(0,l.jsx)("input",{type:"number",inputMode:"numeric",min:"1",max:"10",value:a,onChange:e=>r(parseInt(e.target.value,10)||0),className:"bg-gray-700 text-white px-4 py-3 rounded-lg border border-gray-600 text-lg w-32 text-center",placeholder:"Threats"}),(0,l.jsx)("button",{onClick:s,disabled:a<=0,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg text-lg",children:"Add Threats"}),(0,l.jsx)("button",{onClick:i,disabled:0===t.length,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg text-lg",children:"Clear All"})]}),(0,l.jsxs)("div",{className:"mb-8 bg-gray-800 p-4 rounded-lg shadow border border-gray-700",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-300 mb-4",children:"Add Specific Threat"}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,l.jsxs)("div",{className:"flex-grow",children:[(0,l.jsx)("label",{className:"block text-red-400 text-sm font-bold mb-2",children:"Select Threat:"}),(0,l.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"shadow border border-gray-600 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-100 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,l.jsx)("option",{value:"",children:"-- Select a Threat --"}),y?(0,l.jsx)("option",{value:"",disabled:!0,children:"Loading threats..."}):v?(0,l.jsx)("option",{value:"",disabled:!0,children:v}):0===m.length?(0,l.jsx)("option",{value:"",disabled:!0,children:"No threat data loaded. Check Systems tab."}):m.map(e=>(0,l.jsxs)("option",{value:e.Name,children:[e.Name," (Rank: ",e.Rank,")"]},e.Name))]})]}),(0,l.jsx)("button",{onClick:x,disabled:!h,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg md:self-end",children:"Add Selected Threat"})]}),g&&(0,l.jsxs)("div",{className:"mt-4 p-3 bg-gray-700 rounded-lg border border-gray-600",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-red-300 mb-2",children:g.Name}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-400",children:"Life:"})," ",(0,l.jsx)("span",{className:"text-red-300",children:g.LF})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-400",children:"Rank:"})," ",(0,l.jsx)("span",{className:"text-red-300",children:g.Rank})]}),g.Description&&(0,l.jsxs)("div",{className:"col-span-2",children:[(0,l.jsx)("span",{className:"text-gray-400",children:"Description:"})," ",(0,l.jsx)("span",{className:"text-red-300",children:g.Description})]})]})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,l.jsxs)("div",{className:"bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-700 text-white text-lg",children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("input",{type:"text",value:e.name,onChange:t=>c(e.id,t.target.value),className:"w-full text-center bg-gray-700 border border-gray-600 rounded-lg py-2 px-3 text-xl font-bold text-red-300 focus:outline-none focus:ring-2 focus:ring-red-500"})}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"text-green-400",children:"Life:"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"number",value:e.maxLife,onChange:t=>u(e.id,t.target.value),className:"w-16 text-center bg-gray-700 border border-gray-600 rounded-lg py-1 px-2 text-green-400 focus:outline-none focus:ring-2 focus:ring-green-500 mr-2",min:"1"}),(0,l.jsx)("span",{className:"text-gray-400",children:"max"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center mb-4 space-x-2",children:[(0,l.jsx)("button",{onClick:()=>o(e.id,-1),className:"bg-green-700 hover:bg-green-800 text-white px-4 py-2 rounded text-xl",children:"\u2212"}),(0,l.jsx)("span",{className:"text-green-400 font-bold text-3xl",children:e.currentLife}),(0,l.jsx)("button",{onClick:()=>o(e.id,1),className:"bg-green-700 hover:bg-green-800 text-white px-4 py-2 rounded text-xl",children:"+"})]})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"text-red-400",children:"Attack Score:"}),(0,l.jsx)("input",{type:"number",value:e.atScore,onChange:t=>d(e.id,t.target.value),className:"w-16 text-center bg-gray-700 border border-gray-600 rounded-lg py-1 px-2 text-red-400 focus:outline-none focus:ring-2 focus:ring-red-500",min:"0"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,l.jsx)("button",{onClick:()=>f(e.id,e.attackBonus-1),className:"bg-red-700 hover:bg-red-800 text-white px-4 py-2 rounded text-xl",children:"\u2212"}),(0,l.jsx)("span",{className:"text-red-400 font-bold text-3xl",children:e.atScore+(e.attackBonus||0)}),(0,l.jsx)("button",{onClick:()=>f(e.id,e.attackBonus+1),className:"bg-red-700 hover:bg-red-800 text-white px-4 py-2 rounded text-xl",children:"+"})]}),(0,l.jsxs)("div",{className:"text-center text-sm text-gray-400 mt-1",children:["(Base: ",e.atScore,", Bonus: ",e.attackBonus||0,")"]})]}),(0,l.jsx)("button",{onClick:()=>b(e.id),className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg mt-2",children:"Remove"})]},e.id))}),0===t.length&&(0,l.jsxs)("div",{className:"text-center text-gray-400 py-8",children:[(0,l.jsx)("p",{className:"text-xl",children:"No active threats."}),(0,l.jsx)("p",{className:"mt-2",children:"Add threats using the controls above to track combat encounters."})]})]})};const j=function(e){let{generateLore:t,isLoadingLore:n,loreText:a,suggestPersonalQuest:r,isLoadingQuest:s,questText:i}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-red-400 mb-4",children:"AI-Powered Insights"}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[(0,l.jsx)("button",{onClick:t,disabled:n,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",children:n?(0,l.jsxs)("span",{className:"flex items-center justify-center",children:[(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):"\u2728 Generate Lore"}),(0,l.jsx)("button",{onClick:r,disabled:s,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",children:s?(0,l.jsxs)("span",{className:"flex items-center justify-center",children:[(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Suggesting..."]}):"\u2728 Suggest Personal Quest"})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[a&&(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg shadow border border-gray-600",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-blue-300 mb-2",children:"Character Lore:"}),(0,l.jsx)("p",{className:"text-red-300 whitespace-pre-wrap",children:a})]}),i&&(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg shadow border border-gray-600",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-purple-300 mb-2",children:"Personal Quest Idea:"}),(0,l.jsx)("p",{className:"text-red-300 whitespace-pre-wrap",children:i})]})]}),!a&&!i&&(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg shadow border border-gray-600 mt-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-2",children:"About AI Insights"}),(0,l.jsx)("p",{className:"text-gray-300 mb-3",children:"This feature uses AI to generate creative content for your character:"}),(0,l.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-300",children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"text-blue-300 font-semibold",children:"Character Lore"})," - Creates a backstory based on your character's race, class, and affinity."]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"text-purple-300 font-semibold",children:"Personal Quest Ideas"})," - Suggests unique quests tailored to your character's current state and equipment."]})]}),(0,l.jsx)("p",{className:"text-gray-400 text-sm mt-4",children:"Click the buttons above to generate content. Each generation creates new, unique text."})]})]})})};const S=function(e){const{character:t,handleCharacterChange:n,handleStatInputChange:a,handleIncrementDecrement:r,calculatedStats:s,raceSourceData:i,classSourceData:o,affinityImageData:c,isLoadingRaceCsv:u,isLoadingClassCsv:d,isLoadingAffinityCsv:f,raceCsvLoadError:m,classCsvLoadError:h,affinityCsvLoadError:p,portraitLoadError:g,handlePortraitUrlChange:x,corruptionOverlayUrl:b,affinityOverlayUrl:y,affinityOverlayLoadError:v,selectedRaceAbility:N,selectedClassAbility:w,selectedAffinityAbility:k,handleRandomizeCharacter:j,handleEquippedItemChange:S,equipmentData:C,filteredEquipmentData:E,equipmentSearchTerm:A,handleEquipmentSearch:L,isLoadingEquipmentCsv:D,equipmentCsvLoadError:T,rarityBorderColours:P,xpProgressData:M,xpFormula:I,setXpFormula:R,calculatedXpFromFormula:_,xpFormulaError:z,masteredHands:F,handleMasteryStarClick:O,POKER_HAND_NAMES:q,currentStatureAbility:B,statureSourceData:U}=e;return(0,l.jsxs)("div",{className:"unified-character-tab",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-red-400 mb-6",children:"Character Sheet"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-4 text-center",children:"Character Portrait"}),(0,l.jsxs)("div",{className:"w-full aspect-square bg-gray-700 rounded-lg overflow-hidden border-2 border-red-500 flex items-center justify-center shadow-lg relative",children:[(0,l.jsx)("img",{src:t.portraitUrl,alt:"Character Portrait",className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/256x256/333/eee?text=Character"}}),g&&(0,l.jsx)("p",{className:"absolute bottom-0 right-0 text-red-400 text-xs bg-gray-900 bg-opacity-75 p-1 rounded-bl-lg",children:"Load Error"}),b&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:(0,l.jsx)("img",{src:b,alt:"Corruption Overlay",className:"w-full h-full object-cover opacity-70"})}),(0,l.jsxs)("div",{className:"absolute top-2 right-2 w-12 h-12 bg-white rounded-full overflow-hidden border-2 border-gray-300 flex items-center justify-center shadow-md z-10",children:[y?(0,l.jsx)("img",{src:y,alt:"Affinity Icon",className:"w-full h-full object-cover",onError:e=>{console.error("DEBUG: Affinity image failed to load:",e),e.target.onerror=null,e.target.src="https://placehold.co/48x48/FFFFFF/333?text=AFF"}}):(0,l.jsx)("div",{className:"w-full h-full bg-white rounded-full flex items-center justify-center text-xs text-gray-700 text-center p-1",children:"No Symbol"}),v&&(0,l.jsx)("p",{className:"absolute bottom-0 right-0 text-red-400 text-xs bg-gray-900 bg-opacity-75 p-1 rounded-bl-lg",children:"Load Error"})]})]})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-4",children:"Character Details"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-red-400 text-sm font-bold mb-1",children:"Name:"}),(0,l.jsx)("input",{type:"text",name:"name",value:t.name,onChange:n,className:"shadow appearance-none border border-gray-600 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-100 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-red-400 text-sm font-bold mb-1",children:"Race:"}),(0,l.jsx)("select",{name:"race",value:t.race,onChange:n,className:"shadow border border-gray-600 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-100 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500",children:u?(0,l.jsx)("option",{value:"",disabled:!0,children:"Loading Races..."}):m?(0,l.jsx)("option",{value:"",disabled:!0,children:m}):0===i.length?(0,l.jsx)("option",{value:"",disabled:!0,children:"No Race Data"}):i.map(e=>(0,l.jsx)("option",{value:e.Name,children:e.Name},e.Name))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-red-400 text-sm font-bold mb-1",children:"Class:"}),(0,l.jsx)("select",{name:"class",value:t.class,onChange:n,className:"shadow border border-gray-600 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-100 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500",children:d?(0,l.jsx)("option",{value:"",disabled:!0,children:"Loading Classes..."}):h?(0,l.jsx)("option",{value:"",disabled:!0,children:h}):0===o.length?(0,l.jsx)("option",{value:"",disabled:!0,children:"No Class Data"}):o.map(e=>(0,l.jsx)("option",{value:e.Name,children:e.Name},e.Name))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-red-400 text-sm font-bold mb-1",children:"Affinity:"}),(0,l.jsx)("select",{name:"affinity",value:t.affinity,onChange:n,className:"shadow border border-gray-600 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-100 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500",children:f?(0,l.jsx)("option",{value:"",disabled:!0,children:"Loading Affinities..."}):p?(0,l.jsx)("option",{value:"",disabled:!0,children:p}):0===c.length?(0,l.jsx)("option",{value:"",disabled:!0,children:"No Affinity Data"}):c.map(e=>(0,l.jsx)("option",{value:e.Name,children:e.Name},e.Name))})]}),(0,l.jsx)("button",{onClick:j,disabled:0===i.length||0===o.length||0===c.length,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out w-full disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:"\ud83c\udfb2 Randomize Character"})]})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-4",children:"Special Abilities"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-red-400 text-sm font-bold mb-1",children:"Race Ability:"}),(0,l.jsx)("p",{className:"text-gray-200 bg-gray-700 p-2 rounded-lg border border-gray-600 text-sm",children:N})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-red-400 text-sm font-bold mb-1",children:"Class Ability:"}),(0,l.jsx)("p",{className:"text-gray-200 bg-gray-700 p-2 rounded-lg border border-gray-600 text-sm",children:w})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-red-400 text-sm font-bold mb-1",children:"Affinity Ability:"}),(0,l.jsx)("p",{className:"text-gray-200 bg-gray-700 p-2 rounded-lg border border-gray-600 text-sm",children:k})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-red-400 text-sm font-bold mb-1",children:"Stature Ability:"}),(0,l.jsx)("p",{className:"text-gray-200 bg-gray-700 p-2 rounded-lg border border-gray-600 text-sm",children:B})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-300 mb-4 text-center",children:"Current Stats"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg border border-gray-600",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("span",{className:"text-red-300 font-medium",children:"Life Essence:"}),(0,l.jsxs)("span",{className:"text-lg font-bold text-red-300",children:[t.life.current," / ",s.totalLifeMax]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>r("lifeCurrent",-5),className:"bg-red-700 hover:bg-red-800 text-white font-bold py-1 px-2 rounded text-sm",children:"-5"}),(0,l.jsx)("button",{onClick:()=>r("lifeCurrent",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-sm",children:"-1"}),(0,l.jsx)("input",{type:"number",value:t.life.current,onChange:e=>a("lifeCurrent",e.target.value),className:"w-20 text-center bg-gray-600 text-red-300 font-bold rounded py-1 px-2 focus:outline-none focus:ring-1 focus:ring-red-500",min:"0",max:s.totalLifeMax}),(0,l.jsx)("button",{onClick:()=>r("lifeCurrent",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded text-sm",children:"+1"}),(0,l.jsx)("button",{onClick:()=>r("lifeCurrent",5),className:"bg-green-700 hover:bg-green-800 text-white font-bold py-1 px-2 rounded text-sm",children:"+5"})]})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg border border-gray-600",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("span",{className:"text-red-300 font-medium",children:"Action Points:"}),(0,l.jsxs)("span",{className:"text-lg font-bold text-red-300",children:[t.ap.current," / ",s.totalApMax]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>r("apCurrent",-5),className:"bg-red-700 hover:bg-red-800 text-white font-bold py-1 px-2 rounded text-sm",children:"-5"}),(0,l.jsx)("button",{onClick:()=>r("apCurrent",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-sm",children:"-1"}),(0,l.jsx)("input",{type:"number",value:t.ap.current,onChange:e=>a("apCurrent",e.target.value),className:"w-20 text-center bg-gray-600 text-red-300 font-bold rounded py-1 px-2 focus:outline-none focus:ring-1 focus:ring-red-500",min:"0",max:s.totalApMax}),(0,l.jsx)("button",{onClick:()=>r("apCurrent",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded text-sm",children:"+1"}),(0,l.jsx)("button",{onClick:()=>r("apCurrent",5),className:"bg-green-700 hover:bg-green-800 text-white font-bold py-1 px-2 rounded text-sm",children:"+5"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg border border-gray-600",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,l.jsx)("span",{className:"text-red-300 text-sm font-medium",children:"Strength"}),(0,l.jsx)("span",{className:"text-xl font-bold text-red-300",children:s.totalStrength})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,l.jsx)("button",{onClick:()=>r("strength",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-sm",children:"-1"}),(0,l.jsx)("input",{type:"number",value:t.strength,onChange:e=>a("strength",e.target.value),className:"w-16 text-center bg-gray-600 text-red-300 font-bold rounded py-1 px-2 focus:outline-none focus:ring-1 focus:ring-red-500",min:"0"}),(0,l.jsx)("button",{onClick:()=>r("strength",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded text-sm",children:"+1"})]})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg border border-gray-600",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,l.jsx)("span",{className:"text-red-300 text-sm font-medium",children:"Agility"}),(0,l.jsx)("span",{className:"text-xl font-bold text-red-300",children:s.totalAgility})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,l.jsx)("button",{onClick:()=>r("agility",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-sm",children:"-1"}),(0,l.jsx)("input",{type:"number",value:t.agility,onChange:e=>a("agility",e.target.value),className:"w-16 text-center bg-gray-600 text-red-300 font-bold rounded py-1 px-2 focus:outline-none focus:ring-1 focus:ring-red-500",min:"0"}),(0,l.jsx)("button",{onClick:()=>r("agility",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded text-sm",children:"+1"})]})]})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg border border-gray-600 text-center",children:[(0,l.jsx)("div",{className:"text-orange-300 text-sm font-medium mb-1",children:"Total Attack Score"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:s.totalAttack}),(0,l.jsxs)("div",{className:"text-xs text-orange-200 mt-1",children:["(Base: ",s.baseAttack," + Cards: +",s.alignedCardsAttackBonus,")"]})]})]})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-300 mb-4 text-center",children:"Resources & Status"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg border border-gray-600",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,l.jsx)("span",{className:"text-yellow-300 text-sm font-medium",children:"Gold:"})}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,l.jsx)("button",{onClick:()=>r("gold",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-1 rounded text-xs",children:"-"}),(0,l.jsx)("input",{type:"number",value:t.gold,onChange:e=>a("gold",e.target.value),className:"w-16 text-center bg-gray-600 text-yellow-300 font-bold rounded py-1 px-1 focus:outline-none focus:ring-1 focus:ring-yellow-500 text-sm",min:"0"}),(0,l.jsx)("button",{onClick:()=>r("gold",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-1 rounded text-xs",children:"+"})]})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg border border-gray-600 text-center",children:[(0,l.jsx)("div",{className:"text-yellow-300 text-sm font-medium",children:"Mastery"}),(0,l.jsx)("div",{className:"text-lg font-bold text-yellow-300",children:s.mostFavouredMastery})]})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg border border-gray-600",children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-white mb-1",children:"Quest Points (QP):"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("button",{onClick:()=>r("qp",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-sm",children:"\u2212"}),(0,l.jsx)("input",{type:"number",value:t.qp,onChange:e=>a("qp",e.target.value),className:"w-20 text-center bg-gray-600 text-yellow-300 font-bold rounded py-1 px-2 focus:outline-none focus:ring-1 focus:ring-yellow-500",min:"0"}),(0,l.jsx)("button",{onClick:()=>r("qp",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded text-sm",children:"+"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg border border-gray-600",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,l.jsx)("span",{className:"text-red-500 text-sm font-medium",children:"Corruption:"})}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,l.jsx)("button",{onClick:()=>r("corruption",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-1 rounded text-xs",children:"-"}),(0,l.jsx)("input",{type:"number",value:t.corruption,onChange:e=>a("corruption",e.target.value),className:"w-16 text-center bg-gray-600 text-red-500 font-bold rounded py-1 px-1 focus:outline-none focus:ring-1 focus:ring-red-500 text-sm",min:"0"}),(0,l.jsx)("button",{onClick:()=>r("corruption",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-1 rounded text-xs",children:"+"})]})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg border border-gray-600",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,l.jsx)("span",{className:"text-purple-300 text-sm font-medium",children:"Doubt:"})}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,l.jsx)("button",{onClick:()=>r("doubt",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-1 rounded text-xs",children:"-"}),(0,l.jsx)("input",{type:"number",value:t.doubt,onChange:e=>a("doubt",e.target.value),className:"w-16 text-center bg-gray-600 text-purple-300 font-bold rounded py-1 px-1 focus:outline-none focus:ring-1 focus:ring-purple-500 text-sm",min:"0"}),(0,l.jsx)("button",{onClick:()=>r("doubt",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-1 rounded text-xs",children:"+"})]})]})]})]})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-300 mb-4 text-center",children:"Stature Progression"}),(0,l.jsxs)("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-lg shadow border border-gray-600 mb-4",children:[(0,l.jsx)("span",{className:"text-red-300 font-medium",children:"Current XP:"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("button",{onClick:()=>r("xp",-10),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded-full mr-2",children:"-10"}),(0,l.jsx)("button",{onClick:()=>r("xp",-1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded-full mr-2",children:"-1"}),(0,l.jsx)("input",{type:"number",value:t.xp,onChange:e=>a("xp",e.target.value),className:"w-24 text-center bg-gray-600 text-blue-300 font-bold rounded-lg py-1 px-2 focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0"}),(0,l.jsx)("button",{onClick:()=>r("xp",1),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded-full ml-2",children:"+1"}),(0,l.jsx)("button",{onClick:()=>r("xp",10),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded-full ml-2",children:"+10"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-lg shadow border border-gray-600",children:[(0,l.jsx)("span",{className:"text-red-300 font-medium",children:"Current Stature:"}),(0,l.jsx)("span",{className:"font-bold text-yellow-300",children:M.currentStature})]}),"Max Level"!==M.nextStature?(0,l.jsxs)("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-lg shadow border border-gray-600",children:[(0,l.jsx)("span",{className:"text-red-300 font-medium",children:"Next Stature:"}),(0,l.jsx)("span",{className:"font-bold text-green-300",children:M.nextStature})]}):(0,l.jsx)("div",{className:"flex items-center justify-center bg-gray-700 p-3 rounded-lg shadow border border-gray-600",children:(0,l.jsx)("p",{className:"text-green-400 font-bold",children:"Max Stature!"})})]}),(0,l.jsx)("div",{className:"relative w-full h-8 bg-gray-700 rounded-full border-2 border-red-500 overflow-hidden mb-4",children:(0,l.jsx)("div",{className:"absolute top-0 left-0 h-full bg-green-500 transition-all duration-500 ease-out flex items-center justify-center",style:{width:`${M.progressPercentage}%`},children:(0,l.jsxs)("span",{className:"text-xs font-bold text-white text-shadow-sm px-2",children:[M.progressPercentage.toFixed(0),"%"]})})}),(0,l.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg shadow border border-gray-600",children:[(0,l.jsx)("h4",{className:"text-sm font-semibold text-red-300 mb-2",children:"XP Formula"}),(0,l.jsx)("input",{type:"text",value:I,onChange:e=>R(e.target.value),className:"shadow appearance-none border border-gray-600 rounded-lg w-full py-2 px-3 bg-gray-600 text-gray-100 leading-tight focus:outline-none focus:ring-1 focus:ring-red-500 mb-2 text-sm",placeholder:"e.g., gold / 2 + strength"}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-red-300 text-sm",children:"Calculated XP:"}),z?(0,l.jsx)("span",{className:"text-red-500 font-bold text-sm",children:z}):(0,l.jsx)("span",{className:"font-bold text-blue-300 text-sm",children:_})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-300 mb-4 text-center",children:"Equipment Hand"}),(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg shadow border border-gray-600",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-red-300 mb-2",children:"Current Bonus:"}),(0,l.jsx)("p",{className:"text-lg text-yellow-300",children:s.equipmentHandBonusText}),"None"!==s.currentEquipmentHandBonus&&"Invalid or Incomplete Card Data"!==s.currentEquipmentHandBonus&&(0,l.jsxs)("p",{className:"text-red-400 text-sm mt-1",children:["Current Hand: ",s.currentEquipmentHandBonus]})]})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-300 mb-4 text-center",children:"Equipped Items"}),(0,l.jsx)("div",{className:"space-y-3",children:t.equippedItems.map(e=>(0,l.jsxs)("div",{className:`bg-gray-700 p-3 rounded-lg shadow border-4 ${P[e.Rarity]||"border-gray-600"}`,children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsxs)("h4",{className:"text-red-300 font-semibold",children:["Slot ",e.id.replace("slot","")]}),e.Rank&&e.Affinity&&e.Affinity.trim()===t.affinity.trim()&&(0,l.jsxs)("span",{className:"text-green-400 text-xs",children:["+1 ","Blood"===e.Affinity.trim()||"Nature"===e.Affinity.trim()?"Life":"Bone"===e.Affinity.trim()?"Agility":"Shadow"===e.Affinity.trim()?"AP":"Strength"]})]}),(0,l.jsxs)("select",{value:e.ItemName||"",onChange:t=>S(e.id,t.target.value),className:"shadow border border-gray-600 rounded-lg w-full py-1 px-2 bg-gray-600 text-gray-100 leading-tight focus:outline-none focus:ring-1 focus:ring-red-500 text-sm mb-2",children:[(0,l.jsx)("option",{value:"",children:"-- Clear Slot --"}),C.map(e=>(0,l.jsxs)("option",{value:e.ItemName,children:[e.ItemName," (",e.Rank,", ",e.Affinity,")"]},e.ItemName))]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-red-400 text-xs font-bold mb-1",children:"Rank:"}),(0,l.jsx)("input",{type:"text",value:e.Rank||"",readOnly:!0,className:"shadow appearance-none border border-gray-600 rounded-lg w-full py-1 px-2 bg-gray-600 text-gray-100 leading-tight text-sm"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-red-400 text-xs font-bold mb-1",children:"Affinity:"}),(0,l.jsx)("input",{type:"text",value:e.Affinity||"",readOnly:!0,className:"shadow appearance-none border border-gray-600 rounded-lg w-full py-1 px-2 bg-gray-600 text-gray-100 leading-tight text-sm"})]})]}),e.DiceRolls&&(0,l.jsxs)("div",{className:"mt-1 text-xs text-gray-300",children:[(0,l.jsx)("span",{className:"font-semibold text-red-400",children:"Rarity:"})," ",e.Rarity||"None"," "," ",(0,l.jsx)("span",{className:"inline-flex gap-1 ml-1",children:e.DiceRolls.map((e,t)=>(0,l.jsx)("span",{className:"inline-block w-4 h-4 text-center bg-gray-800 border border-gray-500 rounded",children:6===e?"\u2605":e},t))})]})]},e.id))})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-300 mb-4 text-center",children:"Card Mastery"}),(0,l.jsx)("p",{className:"text-red-300 text-sm mb-4",children:"Click stars to mark mastery milestones for each poker hand."}),(0,l.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-2",children:q.slice(1).map(e=>(0,l.jsxs)("div",{className:"bg-gray-700 p-2 rounded-lg shadow border border-gray-600 flex items-center justify-between",children:[(0,l.jsx)("h4",{className:"text-sm font-semibold text-yellow-300",children:e}),(0,l.jsx)("div",{className:"flex gap-1",children:F[e]&&F[e].map((t,n)=>(0,l.jsx)("button",{onClick:()=>O(e,n),className:"p-0.5 rounded-full hover:bg-gray-600 focus:outline-none focus:ring-1 focus:ring-yellow-500","aria-label":`Mark mastery ${n+1} for ${e}`,children:(0,l.jsx)("svg",{className:"w-4 h-4 "+(t?"text-yellow-400":"text-gray-500"),fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.683-1.539 1.118l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.784.565-1.839-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.929 8.72c-.783-.57-.381-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"})})},n))})]},e))})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-700",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-red-300 mb-4 text-center",children:"Equipment Search"}),(0,l.jsx)("input",{type:"text",value:A,onChange:L,className:"shadow appearance-none border border-gray-600 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-100 leading-tight focus:outline-none focus:ring-2 focus:ring-red-500 mb-4",placeholder:"Search equipment..."}),(0,l.jsx)("div",{className:"max-h-48 overflow-y-auto border border-gray-600 rounded-lg p-2 bg-gray-700",children:D?(0,l.jsx)("p",{className:"text-red-400 text-center py-2",children:"Loading equipment data..."}):T?(0,l.jsx)("p",{className:"text-red-400 text-center py-2",children:T}):0===E.length?(0,l.jsx)("p",{className:"text-yellow-400 text-center py-2",children:"No equipment found."}):(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-600 text-sm",children:[(0,l.jsx)("thead",{className:"bg-gray-700 sticky top-0",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",className:"px-2 py-1 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Item"}),(0,l.jsx)("th",{scope:"col",className:"px-2 py-1 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Rank"}),(0,l.jsx)("th",{scope:"col",className:"px-2 py-1 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Affinity"})]})}),(0,l.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:E.slice(0,10).map((e,t)=>(0,l.jsxs)("tr",{className:"hover:bg-gray-600 transition-colors duration-150",children:[(0,l.jsx)("td",{className:"px-2 py-1 whitespace-nowrap text-xs font-medium text-red-300",children:e.ItemName}),(0,l.jsx)("td",{className:"px-2 py-1 whitespace-nowrap text-xs text-red-300",children:e.Rank}),(0,l.jsx)("td",{className:"px-2 py-1 whitespace-nowrap text-xs text-red-300",children:e.Affinity})]},e.ItemName||t))})]})}),E.length>10&&(0,l.jsxs)("p",{className:"text-xs text-gray-400 mt-1 text-center",children:["Showing 10 of ",E.length," items. Refine your search to see more."]})]})]})]})]})},C=["Desperate Scramble","Unified Effort","Dual Grip","Triad Impact","Unfettered Path","Pure Affinity","Anchored Power","Resonant Force","Primal Current","Monolithic Quintessence"],E={Pair:{text:"+1 Attack Score",effect:e=>({...e,totalAttack:e.totalAttack+1})},"Two Pair":{text:"+1 Action Point (Max)",effect:e=>({...e,totalApMax:e.totalApMax+1})},"Three of a Kind":{text:"+1 Strength",effect:e=>({...e,totalStrength:e.totalStrength+1})},Straight:{text:"+1 Agility",effect:e=>({...e,totalAgility:e.totalAgility+1})},Flush:{text:"+1 Life Essence (Max)",effect:e=>({...e,totalLifeMax:e.totalLifeMax+1})},"Full House":{text:"Reduce all incoming damage by 1 (min 0)",effect:e=>e},"Four of a Kind":{text:"+2 Attack Score",effect:e=>({...e,totalAttack:e.totalAttack+2})},"Straight Flush":{text:"+2 Life Essence (Max) OR +1 Action Point (Max)",effect:e=>({...e,totalLifeMax:e.totalLifeMax+2,totalApMax:e.totalApMax+1})},"Five of a Kind":{text:"+3 Attack Score",effect:e=>({...e,totalAttack:e.totalAttack+3})}},A=[{name:"Recruit",threshold:0,next:"Novice",xpToNext:200},{name:"Novice",threshold:200,next:"Adept",xpToNext:400},{name:"Adept",threshold:600,next:"Veteran",xpToNext:600},{name:"Veteran",threshold:1200,next:"Master",xpToNext:800},{name:"Master",threshold:2e3,next:"Legend",xpToNext:1e3},{name:"Legend",threshold:3e3,next:"Max Level",xpToNext:1/0}],L=(window.GEMINI_API_KEY,e=>{const t=e.filter(e=>e&&e.rank&&e.affinity);if(0===t.length)return{name:"High Card",level:0};const n=t.map(e=>(e=>{if(!e)return 0;const t=e.toUpperCase();switch(t){case"A":return 14;case"K":return 13;case"Q":return 12;case"J":return 11;default:return parseInt(t,10)}})(e.rank)).sort((e,t)=>e-t),a=t.map(e=>e.affinity),r={};n.forEach(e=>{r[e]=(r[e]||0)+1});const l=(e=>{if(e.length<5)return!1;const t=[...new Set(e)].sort((e,t)=>e-t);return!(t.length<5)&&(!!(t.includes(14)&&t.includes(2)&&t.includes(3)&&t.includes(4)&&t.includes(5))||t.every((e,n)=>0===n||e===t[n-1]+1))})(n),s=!((i=a).length<5)&&i.every((e,t,n)=>e&&e===n[0]);var i;if(t.length>=5&&Object.values(r).includes(5))return{name:"Five of a Kind",level:9};if(t.length>=5&&l&&s)return{name:"Straight Flush",level:8};if(t.length>=4&&Object.values(r).includes(4))return{name:"Four of a Kind",level:7};if(t.length>=5&&Object.values(r).includes(3)&&Object.values(r).includes(2))return{name:"Full House",level:6};if(t.length>=5&&s)return{name:"Flush",level:5};if(t.length>=5&&l)return{name:"Straight",level:4};if(t.length>=3&&Object.values(r).includes(3))return{name:"Three of a Kind",level:3};const o=Object.values(r).filter(e=>2===e).length;return t.length>=4&&2===o?{name:"Two Pair",level:2}:t.length>=2&&1===o?{name:"Pair",level:1}:{name:"High Card",level:0}}),D=(e,t)=>{try{const n=localStorage.getItem(e);return null===n?t:"string"===typeof t||"number"===typeof t||"boolean"===typeof t?n:JSON.parse(n)}catch(n){return console.error(`Error parsing localStorage key "${e}":`,n),localStorage.removeItem(e),t}},T=e=>{let t=A[0];for(let s=0;s<A.length&&e>=A[s].threshold;s++)t=A[s];if("Legend"===t.name&&e>=t.threshold)return{currentStature:"Legend",nextStature:"Max Level",xpToNext:0,progressPercentage:100,currentLevelXP:e-t.threshold,segmentTotalXP:0};const n=t.threshold+t.xpToNext-e,a=e-t.threshold,r=t.xpToNext;let l=0;return r>0?l=a/r*100:e>=t.threshold&&(l=100),l=Math.min(100,Math.max(0,l)),{currentStature:t.name,nextStature:t.next,xpToNext:n,progressPercentage:l,currentLevelXP:a,segmentTotalXP:r}};function P(){return Array(5).fill(0).map(()=>Math.ceil(6*Math.random()))}function M(e){const t={};e.forEach(e=>{const n=6===e?"Wild":e;t[n]=(t[n]||0)+1});const n=Object.values(t).sort((e,t)=>t-e);return 5===n[0]?"Mythic":4===n[0]?"Ultra Rare":3===n[0]&&2===n[1]?"Legendary":3===n[0]?"Rare":2===n[0]&&2===n[1]?"Uncommon":2===n[0]?"Common":"Basic"}const I=function(){const e=D("grimHandCharacter",{name:"New Recruit",race:"Human",class:"Warrior",affinity:"Iron",life:{current:0,max:0},strength:0,agility:0,ap:{current:0,max:0},gold:0,xp:0,doubt:0,corruption:0,equippedItems:Array(5).fill(null).map((e,t)=>({id:`slot${t+1}`,ItemName:null,Rank:null,Affinity:null,PrimaryEffect:""})),portraitUrl:"https://placehold.co/200x200/333/eee?text=Character",activeQuestName:null,qp:0}),[t,n]=(0,a.useState)(e),[r,s]=(0,a.useState)({baseLifeMax:0,baseStrength:0,baseAgility:0,baseApMax:0,baseGold:0,baseAttack:0,totalLifeMax:0,totalStrength:0,totalAgility:0,totalApMax:0,totalAttack:0,alignedCardsAttackBonus:0,currentEquipmentHandBonus:null,equipmentHandBonusText:"None",mostFavouredMastery:"None"}),[i]=(0,a.useState)("https://i.imgur.com/7hm9mFk.jpeg"),[c,u]=(0,a.useState)(""),[d,f]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[v,A]=(0,a.useState)(!1),[I,R]=(0,a.useState)(!1),[_,z]=(0,a.useState)(D("grimHandXpFormula","gold / 2 + strength + agility")),[F,O]=(0,a.useState)(0),[q,B]=(0,a.useState)(""),[U]=(0,a.useState)("https://docs.google.com/spreadsheets/d/e/2PACX-1vQVmjNqg1qeCQk9hrgaNSwJYqEu6TaNuBW3up4cE5b8cffgb65YMg4UVA6lwsjs0ozhg50aemjqgpzT/pub?gid=204546831&single=true&output=csv"),[H,$]=(0,a.useState)([]),[V,G]=(0,a.useState)(!1),[Q,W]=(0,a.useState)(""),[K,X]=(0,a.useState)([]),[Y,J]=(0,a.useState)(""),[Z,ee]=(0,a.useState)([]),[te,ne]=(0,a.useState)([]),[ae,re]=(0,a.useState)([]),[le,se]=(0,a.useState)([]),[ie,oe]=(0,a.useState)(!0),[ce,ue]=(0,a.useState)([]),[de,fe]=(0,a.useState)([]),[me,he]=(0,a.useState)([]),[pe,ge]=(0,a.useState)(!1),[xe,be]=(0,a.useState)(""),[ye,ve]=(0,a.useState)(!1),[Ne,we]=(0,a.useState)(""),[ke,je]=(0,a.useState)(!1),[Se,Ce]=(0,a.useState)(""),[Ee,Ae]=(0,a.useState)(!1),[Le,De]=(0,a.useState)(""),[Te,Pe]=(0,a.useState)(!1),[Me,Ie]=(0,a.useState)(""),[Re,_e]=(0,a.useState)(!1),[ze,Fe]=(0,a.useState)(""),[Oe,qe]=(0,a.useState)(!1),[Be,Ue]=(0,a.useState)(""),[He,$e]=(0,a.useState)([]),[Ve,Ge]=(0,a.useState)(!1),[Qe,We]=(0,a.useState)(""),[Ke,Xe]=(0,a.useState)(""),[Ye,Je]=(0,a.useState)(null),[Ze,et]=(0,a.useState)(""),[tt,nt]=(0,a.useState)(""),[at,rt]=(0,a.useState)(!1),[lt,st]=(0,a.useState)(D("grimHandBackgroundImageUrl","")),[it,ot]=(0,a.useState)("life"),[ct,ut]=(0,a.useState)(!1),[dt,ft]=(0,a.useState)([]),[mt,ht]=(0,a.useState)([]),[pt,gt]=(0,a.useState)(!1),[xt,bt]=(0,a.useState)(""),[yt,vt]=(0,a.useState)(null),[Nt,wt]=(0,a.useState)([]),[kt,jt]=(0,a.useState)(0),[St,Ct]=(0,a.useState)(D("grimHandActiveTab","characterInfo")),Et=(0,a.useMemo)(()=>T(t.xp),[t.xp]),At=(0,a.useCallback)(()=>{const e=Array(4).fill(0).map(()=>Math.floor(6*Math.random())+1),t=e.reduce((e,t)=>e+t,0);return wt(e),jt(t),{dice:e,total:t}},[]),Lt=(0,a.useCallback)((e,t)=>{if(!dt.length)return null;const n=dt.find(t=>parseInt(t.Roll,10)===e);if(!n)return null;const a=n[t]||n.Recruit,r=mt.find(e=>e.ChallengeName===a);return{name:a,description:(null===r||void 0===r?void 0:r.Description)||"Challenge details not found."}},[dt,mt]),Dt=(0,a.useCallback)(()=>{const{total:e}=At(),t=Et.currentStature,n=Lt(e,t);return vt(n),n},[At,Lt,Et.currentStature]),[Tt,Pt]=(0,a.useState)(0),[Mt,It]=(0,a.useState)(0),[Rt,_t]=(0,a.useState)(D("grimHandActiveGuideSection","overview")),[zt,Ft]=(0,a.useState)(D("grimHandThreats",[])),[Ot,qt]=(0,a.useState)(0),Bt=(0,a.useMemo)(()=>{const e={};return C.slice(1).forEach(t=>{e[t]=Array(10).fill(!1)}),e},[]),[Ut,Ht]=(0,a.useState)(D("grimHandMasteredHands",Bt)),[$t,Vt]=(0,a.useState)(0),Gt={Basic:"border-gray-400",Common:"border-green-500",Uncommon:"border-blue-500",Rare:"border-purple-500",Legendary:"border-yellow-500","Ultra Rare":"border-red-500",Mythic:"border-gray-300"},Qt=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unknown";const n=e.trim().split("\n");if(0===n.length)return console.warn(`CSV Parsing Debug (${t}): No lines found in CSV text.`),[];const a=/,(?=(?:(?:[^"]*"){2})*[^"]*$)/,r=n[0].trim().split(a).map(e=>e.trim().replace(/^"|"$/g,"").replace(/""/g,'"'));console.log(`CSV Parsing Debug (${t}): Headers identified:`,r);const l=[];for(let s=1;s<n.length;s++){const e=n[s].trim();if(!e){console.warn(`CSV Parsing Debug (${t}): Skipping empty line ${s+1}.`);continue}const i=e.split(a).map(e=>e.trim().replace(/^"|"$/g,"").replace(/""/g,'"'));if(i.length!==r.length){console.warn(`CSV Parsing Debug (${t}): Skipping malformed row ${s+1} (column count mismatch). Expected ${r.length}, got ${i.length}. Raw line: "${e}"`),console.warn(`CSV Parsing Debug (${t}): Parsed values for row ${s+1}:`,i);continue}if(i.every(e=>""===e)){console.warn(`CSV Parsing Debug (${t}): Skipping empty row ${s+1} after parsing. Raw line: "${e}"`);continue}const o={};r.forEach((e,t)=>{o[e]=i[t]}),l.push(o)}return l},[]),Wt=(0,a.useCallback)(async()=>{if(!U)return W("Master Data Source CSV link is not provided."),$([]),X([]),ee([]),ne([]),re([]),$e([]),ue([]),fe([]),he([]),void se([]);G(!0),W(""),$([]),X([]),ee([]),ne([]),re([]),$e([]),ue([]),fe([]),he([]),se([]);try{const e=await fetch(U);if(!e.ok){let t=`HTTP error! status: ${e.status}`;if(400===e.status)t+=". This often means the Google Sheet link is incorrect or not published to web as CSV.";else{t+=`. Response: ${(await e.text().catch(()=>"No additional error details.")).substring(0,100)}...`}throw new Error(t)}const t=await e.text(),n=Qt(t,"Master CSV");$(n),console.log("DEBUG: Master Data loaded successfully. Entries:",n.length,n),W("")}catch(e){console.error("Error loading Master CSV:",e),W(`Failed to load Master CSV: ${e.message}.`)}finally{G(!1)}},[U,Qt]),Kt=(0,a.useCallback)(async e=>{if(!e)return be("Character Images link not found in Master CSV."),void X([]);ge(!0),be("");try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.text(),a=Qt(n,"Character Images CSV");X(a),be(""),console.log("DEBUG: Character Images CSV loaded successfully. Entries:",a.length,a)}catch(t){console.error("Error loading Character Images CSV:",t),be(`Failed to load Character Images CSV: ${t.message}.`)}finally{ge(!1)}},[Qt]),Xt=(0,a.useCallback)(async e=>{if(!e)return we("Equipment Data link not found in Master CSV."),ee([]),void se([]);ve(!0),we("");try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.text(),a=Qt(n,"Equipment Data CSV");ee(a),se(a),we(""),console.log("DEBUG: Equipment Data CSV loaded successfully. Entries:",a.length,a)}catch(t){console.error("Error loading Equipment Data CSV:",t),we(`Failed to load Equipment Data CSV: ${t.message}.`)}finally{ve(!1)}},[Qt]),Yt=(0,a.useCallback)(async e=>{if(!e)return Ce("Affinity Data link not found in Master CSV."),void ne([]);je(!0),Ce("");try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.text(),a=Qt(n,"Affinity Data CSV");ne(a),Ce(""),console.log("DEBUG: Affinity Data CSV Loaded:",a.length,a)}catch(t){console.error("Error loading Affinity Data CSV:",t),Ce(`Failed to load Affinity Data CSV: ${t.message}.`)}finally{je(!1)}},[Qt]),Jt=(0,a.useCallback)(async e=>{if(console.log("DEBUG: Attempting to load quest data from link:",e),!e)return De("Quest Data link is empty or not found in Master CSV."),re([]),void console.log("DEBUG: Link was empty, setting error and clearing data.");Ae(!0),De("");try{const t=await fetch(e);if(!t.ok){const e=`HTTP error! status: ${t.status}`;throw console.error("DEBUG: Quest Data Fetch failed with",e),new Error(e)}const n=await t.text(),a=Qt(n,"Quest Data CSV");re(a),console.log("DEBUG: Quest CSV loaded successfully. Entries:",a.length,a),De("")}catch(t){console.error("Error loading Quest Data CSV:",t),De(`Failed to load Quest Data CSV: ${t.message}. Ensure the link is correct and the sheet is published to web as CSV.`)}finally{Ae(!1)}},[Qt]),Zt=(0,a.useCallback)(async()=>{gt(!0),bt("");try{const e=Qt("Roll,Recruit,Novice,Adept,Veteran,Master,Legend\n4,Fate Roll,Fate Roll,Fate Roll,Fate Roll,Fate Roll,Fate Roll\n5,Fate Roll,Fate Roll,Fate Roll,Fate Roll,Fate Roll,Sacrifice Equipment\n6,Fate Roll,Fate Roll,Fate Roll,Sacrifice Equipment,Sacrifice Equipment,Sacrifice Equipment\n7,Fate Roll,Fate Roll,Sacrifice Equipment,Sacrifice Equipment,Sacrifice Equipment,Sacrifice Equipment\n8,Fate Roll,Sacrifice Equipment,Sacrifice Equipment,Sacrifice Equipment,Sacrifice Equipment,Gold Offering\n9,Sacrifice Equipment,Sacrifice Equipment,Sacrifice Equipment,Sacrifice Equipment,Gold Offering,Gold Offering\n10,Sacrifice Equipment,Sacrifice Equipment,Sacrifice Equipment,Gold Offering,Gold Offering,Gold Offering\n11,Sacrifice Equipment,Sacrifice Equipment,Gold Offering,Gold Offering,Gold Offering,Gold Offering\n12,Sacrifice Equipment,Gold Offering,Gold Offering,Gold Offering,Gold Offering,Affinity Check\n13,Gold Offering,Gold Offering,Gold Offering,Gold Offering,Affinity Check,Affinity Check\n14,Gold Offering,Gold Offering,Gold Offering,Affinity Check,Affinity Check,Affinity Check\n15,Gold Offering,Gold Offering,Affinity Check,Affinity Check,Affinity Check,Poker Hand Challenge\n16,Gold Offering,Affinity Check,Affinity Check,Affinity Check,Poker Hand Challenge,Poker Hand Challenge\n17,Affinity Check,Affinity Check,Affinity Check,Poker Hand Challenge,Poker Hand Challenge,Poker Hand Challenge\n18,Affinity Check,Affinity Check,Poker Hand Challenge,Poker Hand Challenge,Poker Hand Challenge,Threat Manifestation\n19,Affinity Check,Poker Hand Challenge,Poker Hand Challenge,Poker Hand Challenge,Threat Manifestation,Threat Manifestation\n20,Poker Hand Challenge,Poker Hand Challenge,Poker Hand Challenge,Threat Manifestation,Threat Manifestation,Threat Manifestation\n21,Poker Hand Challenge,Poker Hand Challenge,Threat Manifestation,Threat Manifestation,Threat Manifestation,Threat Manifestation\n22,Poker Hand Challenge,Threat Manifestation,Threat Manifestation,Threat Manifestation,Threat Manifestation,Threat Manifestation\n23,Threat Manifestation,Threat Manifestation,Threat Manifestation,Threat Manifestation,Threat Manifestation,Threat Manifestation\n24,Threat Manifestation,Threat Manifestation,Threat Manifestation,Threat Manifestation,Threat Manifestation,Threat Manifestation","Quest Challenge Lookup CSV");ft(e),console.log("DEBUG: Quest Challenge Lookup CSV loaded successfully. Entries:",e.length)}catch(e){console.error("Error loading Quest Challenge Lookup CSV:",e),bt(`Failed to load Quest Challenge Lookup CSV: ${e.message}`)}finally{gt(!1)}},[Qt]),en=(0,a.useCallback)(async()=>{try{const e=Qt("ChallengeName,Description\nFate Roll,Pass a Strength or Agility check. Fail: Lose 1 LE and 1 AP.\nThreat Manifestation,Draw and defeat a Threat card in solo combat. Rank 6 for Novice to Rank 10 for Legend\nSacrifice Equipment,Discard one equipped item. No refund.\nAffinity Check,Roll 5 Affinity Dice. Need 3 matches. Fail: Gain 1 Corruption and 1 Doubt.\nPoker Hand Challenge,Draw 5 cards. Must form at least a Pair. Fail: Lose 2 LE.\nGold Offering,Pay tribute equal to Explore Level multipled by 5 Gold.","Quest Challenges by Stature CSV");ht(e),console.log("DEBUG: Quest Challenges by Stature CSV loaded successfully. Entries:",e.length)}catch(e){console.error("Error loading Quest Challenges by Stature CSV:",e)}},[Qt]),tn=(0,a.useCallback)(async e=>{if(!e)return We("Threat Data link not found in Master CSV."),void $e([]);Ge(!0),We("");try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.text(),a=Qt(n,"Threat Data CSV");$e(a),We(""),console.log("DEBUG: Threat Data CSV loaded successfully. Entries:",a.length,a)}catch(t){console.error("Error loading Threat Data CSV:",t),We(`Failed to load Threat Data CSV: ${t.message}.`)}finally{Ge(!1)}},[Qt]),nn=(0,a.useCallback)(async e=>{if(!e)return Ie("Race Data link not found in Master CSV."),void ue([]);Pe(!0),Ie("");try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.text(),a=Qt(n,"Race Data CSV");ue(a),Ie(""),console.log("DEBUG: Race Data CSV Loaded:",a.length,a)}catch(t){console.error("Error loading Race Data CSV:",t),Ie(`Failed to load Race Data CSV: ${t.message}.`)}finally{Pe(!1)}},[Qt]),an=(0,a.useCallback)(async e=>{if(!e)return Fe("Class Data link not found in Master CSV."),void fe([]);_e(!0),Fe("");try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.text(),a=Qt(n,"Class Data CSV");fe(a),Fe(""),console.log("DEBUG: Class Data CSV Loaded:",a.length,a)}catch(t){console.error("Error loading Class Data CSV:",t),Fe(`Failed to load Class Data CSV: ${t.message}.`)}finally{_e(!1)}},[Qt]),rn=(0,a.useCallback)(async e=>{if(!e)return Ue("Stature Data link not found in Master CSV."),void he([]);qe(!0),Ue("");try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.text(),a=Qt(n,"Stature Data CSV");he(a),Ue(""),console.log("DEBUG: Stature Data CSV Loaded:",a.length,a)}catch(t){console.error("Error loading Stature Data CSV:",t),Ue(`Failed to load Stature Data CSV: ${t.message}.`)}finally{qe(!1)}},[Qt]);(0,a.useEffect)(()=>{Wt()},[Wt]),(0,a.useEffect)(()=>{t.corruption>=5?J("https://placehold.co/64x64/000/FF0000?text=CORRUPT"):J("")},[t.corruption]),(0,a.useEffect)(()=>{if(H.length>0){const e=H.find(e=>"CharacterImages"===e.Type);e&&e.Link?Kt(e.Link):(be("CharacterImages link not found in Master CSV."),X([]),console.warn("DEBUG: Master Data: CharacterImages link not found."));const t=H.find(e=>"EquipmentData"===e.Type);t&&t.Link?Xt(t.Link):(we("EquipmentData link not found in Master CSV."),ee([]),se([]),console.warn("DEBUG: Master Data: EquipmentData link not found."));const n=H.find(e=>"AffinityData"===e.Type);n&&n.Link?Yt(n.Link):(Ce("AffinityData link not found in Master CSV."),ne([]),console.warn("DEBUG: Master Data: AffinityData link not found."));const a=H.find(e=>"QuestData"===e.Type);a&&a.Link?Jt(a.Link):(De("QuestData link not found in Master CSV."),re([]),console.warn("DEBUG: Master Data: QuestData link not found."));const r=H.find(e=>"ThreatData"===e.Type);r&&r.Link?tn(r.Link):(We("ThreatData link not found in Master CSV."),$e([]),console.warn("DEBUG: Master Data: ThreatData link not found."));const l=H.find(e=>"RaceData"===e.Type);l&&l.Link?nn(l.Link):(Ie("RaceData link not found in Master CSV."),ue([]),console.warn("DEBUG: Master Data: RaceData link not found."));const s=H.find(e=>"ClassData"===e.Type);s&&s.Link?an(s.Link):(Fe("ClassData link not found in Master CSV."),fe([]),console.warn("DEBUG: Master Data: ClassData link not found."));const i=H.find(e=>"StatureData"===e.Type);i&&i.Link?rn(i.Link):(Ue("StatureData link not found in Master CSV."),he([]),console.warn("DEBUG: Master Data: StatureData link not found."))}else!V&&U&&(be("Master CSV loaded, but no CharacterImages entry found."),we("Master CSV loaded, but no EquipmentData entry found."),Ce("Master CSV loaded, but no AffinityData entry found."),De("Master CSV loaded, but no QuestData entry found."),We("Master CSV loaded, but no ThreatData entry found."),Ie("Master CSV loaded, but no RaceData entry found."),Fe("Master CSV loaded, but no ClassData entry found."),Ue("Master CSV loaded, but no StatureData entry found."),X([]),ee([]),ne([]),re([]),$e([]),ue([]),fe([]),he([]),se([]),console.warn("DEBUG: Master CSV loaded but no relevant entries found or it was empty."))},[H,V,U,Kt,Xt,Yt,Jt,tn,nn,an,rn]);const ln=(0,a.useCallback)(()=>{if(0===K.length)return n(e=>({...e,portraitUrl:"https://placehold.co/200x200/333/eee?text=Character"})),void R(!1);const e=K.find(e=>e.Race===t.race&&e.Class===t.class);e&&e.ImageLink?(n(t=>({...t,portraitUrl:e.ImageLink})),R(!1)):(n(e=>({...e,portraitUrl:"https://placehold.co/200x200/333/eee?text=Character"})),R(!1))},[t.race,t.class,K]),sn=(0,a.useCallback)(()=>{if(console.log("DEBUG: updateAffinityOverlay called."),console.log("DEBUG: Current character affinity:",t.affinity),console.log("DEBUG: Loaded affinityImageData (count):",te.length,te),0===te.length)return nt(""),rt(!1),void console.log("DEBUG: Affinity image data is empty. Clearing overlay URL.");const e=te.find(e=>{const n=e.Name?e.Name.trim():"";return console.log(`DEBUG: Comparing CSV Affinity Name "${n}" with character affinity "${t.affinity}"`),n===t.affinity});e&&e.ImageA?(nt(e.ImageA),rt(!1),console.log("DEBUG: Setting affinity overlay URL to:",e.ImageA)):(nt(""),rt(!1),console.log("DEBUG: No affinity image link found for",t.affinity,". Clearing overlay URL."))},[t.affinity,te]),on=(0,a.useCallback)(()=>{const e=ce.find(e=>e.Name&&e.Name.trim()===t.race.trim()),a=de.find(e=>e.Name&&e.Name.trim()===t.class.trim()),r=te.find(e=>e.Name&&e.Name.trim()===t.affinity.trim());console.log("DEBUG: calculateAllStats - Selected Race:",e),console.log("DEBUG: calculateAllStats - Selected Class:",a),console.log("DEBUG: calculateAllStats - Selected Affinity:",r);const l=e||{},i=a||{},o=r||{},c=T(t.xp).currentStature,u=me.find(e=>e.Stature&&e.Stature.trim()===c.trim())||{};console.log("DEBUG: calculateAllStats - Current Stature Name:",c),console.log("DEBUG: calculateAllStats - Current Stature Data:",u);const d=parseInt(l.life,10)||0,f=parseInt(i.life,10)||0,m=parseInt(o.life,10)||0,h=parseInt(u.life,10)||0,p=d+f+m+h,g=parseInt(l.strength,10)||0,x=parseInt(i.strength,10)||0,b=parseInt(o.strength,10)||0,y=g+x+b,v=parseInt(l.agility,10)||0,N=parseInt(i.agility,10)||0,w=parseInt(o.agility,10)||0,k=v+N+w,j=parseInt(l.ap,10)||0,S=parseInt(i.ap,10)||0,A=parseInt(o.ap,10)||0,D=j+S+A,P=parseInt(l.gold,10)||0,M=parseInt(i.gold,10)||0,I=parseInt(o.gold,10)||0,R=P+M+I,_=parseInt(l.attackContribution,10)||0,z=parseInt(i.attackContribution,10)||0,F=parseInt(o.attackContribution,10)||0,O=parseInt(u.at,10)||0;let q=_+z+F+O;console.log("DEBUG: calculateAllStats - Initial Base Stats (Individual Contributions):"),console.log(`  Life: Race=${d}, Class=${f}, Affinity=${m}, Stature=${h} -> Total=${p}`),console.log(`  Strength: Race=${g}, Class=${x}, Affinity=${b} -> Total=${y}`),console.log(`  Agility: Race=${v}, Class=${N}, Affinity=${w} -> Total=${k}`),console.log(`  AP: Race=${j}, Class=${S}, Affinity=${A} -> Total=${D}`),console.log(`  Gold: Race=${P}, Class=${M}, Affinity=${I} -> Total=${R}`),console.log(`  Attack: Race=${_}, Class=${z}, Affinity=${F}, Stature=${O} -> Total=${q}`);let B=p,U=y,H=k,$=D,V=q;t.equippedItems.forEach(e=>{if(e&&e.Affinity&&e.Affinity.trim()===t.affinity.trim())switch(e.Affinity.trim()){case"Blood":case"Nature":B+=1;break;case"Bone":H+=1;break;case"Shadow":$+=1;break;case"Iron":U+=1}});const G=t.equippedItems.map(e=>null===e||void 0===e?void 0:e.Rarity).filter(Boolean);if(5===G.length&&G.every(e=>e===G[0])){switch(G[0]){case"Uncommon":U+=1;break;case"Rare":U+=1,H+=1;break;case"Ultra Rare":U+=1,H+=1,B+=1;break;case"Legendary":U+=1,H+=1,B+=1,V+=1;break;case"Mythic":U+=2,H+=2,B+=2,V+=2}}let Q=0;t.equippedItems.forEach(e=>{e&&e.Affinity&&e.Affinity.trim()===t.affinity.trim()&&(Q+=1)}),V+=Q;const W=Math.floor(t.doubt/5);V-=W,V=Math.max(0,V);const K=t.equippedItems.filter(e=>e&&e.Rank&&e.Affinity).map(e=>({rank:e.Rank,affinity:e.Affinity}));let X={name:"High Card",level:0};K.length>0&&(X=L(K));let Y=null,J="None";const Z=-1!==X.level?C[X.level]:"No Hand";if(X.level>=0&&E[X.name]){Y=E[X.name].effect,J=`${Z}: ${E[X.name].text}`;const e=Y({totalLifeMax:B,totalStrength:U,totalAgility:H,totalApMax:$,totalAttack:V});B=e.totalLifeMax,U=e.totalStrength,H=e.totalAgility,$=e.totalApMax,V=e.totalAttack}else J=-1===X.level?"Invalid or Incomplete Card Data":`${Z}: No bonus for this hand.`;s(e=>({...e,baseLifeMax:p,baseStrength:y,baseAgility:k,baseApMax:D,baseGold:R,baseAttack:q,totalLifeMax:B,totalStrength:U,totalAgility:H,totalApMax:$,totalAttack:V,alignedCardsAttackBonus:Q,currentEquipmentHandBonus:Z,equipmentHandBonusText:J})),n(e=>ie?(oe(!1),{...e,life:{current:B,max:B},ap:{current:$,max:$},strength:U,agility:H,gold:R,attack:V}):{...e,life:{current:Math.min(e.life.current,B),max:B},ap:{current:Math.min(e.ap.current,$),max:$}})},[t.affinity,t.equippedItems,t.xp,t.doubt,ce,de,te,me]);(0,a.useEffect)(()=>{console.log("DEBUG: Character race/class/affinity changed or data loaded. Triggering stat and image updates."),console.log("DEBUG: Current character state:",t),console.log("DEBUG: Race Source Data state:",ce),console.log("DEBUG: Class Source Data state:",de),console.log("DEBUG: Affinity Image Data state:",te),console.log("DEBUG: Stature Source Data state:",me);const e=ce.find(e=>e.Name&&e.Name.trim()===t.race.trim())||{},n=de.find(e=>e.Name&&e.Name.trim()===t.class.trim())||{},a=te.find(e=>e.Name&&e.Name.trim()===t.affinity.trim())||{},r=T(t.xp).currentStature,l=me.find(e=>e.Stature&&e.Stature.trim()===r.trim())||{};parseInt(e.life,10),parseInt(n.life,10),parseInt(a.life,10),parseInt(l.life,10),parseInt(e.ap,10),parseInt(n.ap,10),parseInt(a.ap,10),parseInt(e.gold,10),parseInt(n.gold,10),parseInt(a.gold,10);R(!1),on(),K.length>0&&!pe&&ln(),sn()},[t.race,t.class,t.affinity,on,ln,sn,K.length,pe,ce,de,te,me]),(0,a.useEffect)(()=>{on()},[t.equippedItems,on]),(0,a.useEffect)(()=>{console.log("DEBUG: characterImageData changed. Triggering portrait update."),K.length>0&&ln()},[K,ln]),(0,a.useEffect)(()=>{console.log("DEBUG: affinityImageData changed. Triggering affinity overlay update."),te.length>0&&sn()},[te,sn]),(0,a.useEffect)(()=>{if(Ke){const e=He.find(e=>e.Name===Ke);Je(e||null)}else Je(null)},[Ke,He]),(0,a.useEffect)(()=>{Zt(),en()},[Zt,en]),(0,a.useEffect)(()=>{try{const e={lifeCurrent:t.life.current,lifeMax:r.totalLifeMax,strength:r.totalStrength,agility:r.totalAgility,apCurrent:t.ap.current,apMax:r.totalApMax,gold:t.gold,xp:t.xp,doubt:t.doubt,corruption:t.corruption,attack:r.totalAttack},n=new Function("scope",`with(scope) { return ${_}; }`)(e);"number"!==typeof n||isNaN(n)?B("Invalid Formula Result"):(O(Math.floor(n)),B(""))}catch(e){B("Invalid Formula Syntax"),console.error("XP Formula Error:",e)}},[_,t.life.current,t.ap.current,t.gold,t.xp,t.doubt,t.corruption,r.totalLifeMax,r.totalStrength,r.totalAgility,r.totalApMax,r.totalAttack]);const cn=(0,a.useCallback)((e,t)=>{n(n=>{const a={...n,life:{...n.life},ap:{...n.ap}},l=parseInt(t,10);return isNaN(l)&&""!==t?n:("qp"===e&&(a.qp=Math.max(0,l)),"lifeCurrent"===e?a.life.current=Math.max(0,Math.min(l,r.totalLifeMax)):"apCurrent"===e?a.ap.current=Math.max(0,Math.min(l,r.totalApMax)):"gold"===e||"xp"===e||"doubt"===e||"corruption"===e?a[e]=Math.max(0,l):"strength"===e?a.strength=Math.max(0,l):"agility"===e&&(a.agility=Math.max(0,l)),a)})},[r.totalLifeMax,r.totalApMax]),un=(0,a.useCallback)((e,t)=>{n(n=>{const a={...n,life:{...n.life},ap:{...n.ap}},l=parseInt(t,10);return"lifeCurrent"===e?a.life.current=Math.max(0,Math.min(n.life.current+l,r.totalLifeMax)):"apCurrent"===e?a.ap.current=Math.max(0,Math.min(n.ap.current+l,r.totalApMax)):["gold","xp","doubt","corruption","qp"].includes(e)?a[e]=Math.max(0,n[e]+l):"strength"===e?a.strength=Math.max(0,n.strength+l):"agility"===e&&(a.agility=Math.max(0,n.agility+l)),a})},[r.totalLifeMax,r.totalApMax]);(0,a.useEffect)(()=>{n(e=>e.life.current>r.totalLifeMax?{...e,life:{...e.life,current:r.totalLifeMax}}:e)},[r.totalLifeMax,t.life.current]);const dn=(0,a.useCallback)(e=>{const{name:t,value:a}=e.target;n(e=>({...e,[t]:a}))},[]),fn=(M(P()),(0,a.useCallback)((e,t)=>{const a=P(),r=M(a);n(n=>{const l=n.equippedItems.map(n=>{if(n.id===e){const l=Z.find(e=>e.ItemName===t);return l?{...n,ItemName:l.ItemName,Rank:l.Rank,Affinity:l.Affinity,PrimaryEffect:l.PrimaryEffect||"",Rarity:r,DiceRolls:a}:{id:e,ItemName:null,Rank:null,Affinity:null,PrimaryEffect:"",Rarity:null,DiceRolls:null}}return n});return{...n,equippedItems:l}})},[Z]));t.equippedItems.map(e=>(0,l.jsxs)("div",{className:`bg-gray-700 p-3 rounded-lg shadow border-4 ${Gt[e.Rarity]||"border-gray-600"}`,children:[(0,l.jsxs)("h3",{className:"text-red-300 font-semibold mb-2",children:["Slot ",e.id.replace("slot","")]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("label",{className:"block text-red-400 text-xs font-bold mb-1",children:"Select Item:"}),(0,l.jsxs)("select",{value:e.ItemName||"",onChange:t=>fn(e.id,t.target.value),className:"shadow border border-gray-600 rounded-lg w-full py-1 px-2 bg-gray-600 text-gray-100 leading-tight focus:outline-none focus:ring-1 focus:ring-red-500 text-sm",children:[(0,l.jsx)("option",{value:"",children:"-- Clear Slot --"}),Z.map(e=>(0,l.jsxs)("option",{value:e.ItemName,children:[e.ItemName," (Rank: ",e.Rank,", Affinity: ",e.Affinity,")"]},e.ItemName))]})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("label",{className:"block text-red-400 text-xs font-bold mb-1",children:"Primary Effect:"}),(0,l.jsx)("textarea",{value:e.PrimaryEffect||"",readOnly:!0,className:"shadow appearance-none border border-gray-600 rounded-lg w-full py-1 px-2 bg-gray-600 text-gray-100 leading-tight focus:outline-none focus:ring-1 focus:ring-red-500 text-sm h-16"})]}),e.DiceRolls&&(0,l.jsxs)("div",{className:"mt-2 text-xs text-gray-300",children:[(0,l.jsx)("p",{className:"font-semibold text-red-400 mb-1",children:"Rarity Dice Roll:"}),(0,l.jsx)("div",{className:"flex gap-2",children:e.DiceRolls.map((e,t)=>(0,l.jsx)("div",{className:"w-6 h-6 flex items-center justify-center rounded bg-gray-800 border border-gray-500 text-white text-sm",children:6===e?"\u2605":e},t))})]})]},e.id));const mn=(0,a.useCallback)(e=>{n(t=>({...t,portraitUrl:e.target.value})),R(!1)},[]),hn=(0,a.useCallback)(e=>{const t=e.target.value.toLowerCase();et(t)},[]),pn=(0,a.useMemo)(()=>{const e=setTimeout(()=>{se(Ze?Z.filter(e=>e.ItemName.toLowerCase().includes(Ze)||e.Affinity&&e.Affinity.toLowerCase().includes(Ze)||e.PrimaryEffect&&e.PrimaryEffect.toLowerCase().includes(Ze)):Z)},300);return()=>{clearTimeout(e)}},[Ze,Z]);(0,a.useEffect)(()=>pn,[pn]);const gn=(0,a.useCallback)(()=>{if(0===ce.length||0===de.length||0===te.length||0===me.length)return void console.warn("Cannot randomize character: Race, Class, Affinity, or Stature data not loaded yet.");const e=ce[Math.floor(Math.random()*ce.length)],t=de[Math.floor(Math.random()*de.length)],a=te[Math.floor(Math.random()*te.length)],r=me.find(e=>"Recruit"===e.Stature)||me[0],l=e,s=t,i=a,o=r,c=(parseInt(l.life,10)||0)+(parseInt(s.life,10)||0)+(parseInt(i.life,10)||0)+(parseInt(o.life,10)||0),u=(parseInt(l.ap,10)||0)+(parseInt(s.ap,10)||0)+(parseInt(i.ap,10)||0),d=(parseInt(l.gold,10)||0)+(parseInt(s.gold,10)||0)+(parseInt(i.gold,10)||0);oe(!0),n(n=>({...n,name:"New Recruit",race:e.Name,class:t.Name,affinity:a.Name,life:{current:c,max:c},ap:{current:u,max:u},gold:d,xp:0,doubt:0,corruption:0,equippedItems:Array(5).fill(null).map((e,t)=>({id:`slot${t+1}`,ItemName:null,Rank:null,Affinity:null,PrimaryEffect:""})),portraitUrl:"https://placehold.co/200x200/333/eee?text=Character",activeQuestName:null})),Ht(Bt),Ft([])},[ce,de,te,me,Bt]),xn=((0,a.useCallback)(()=>{if(0===ce.length||0===de.length||0===te.length||0===me.length)return void console.warn("Cannot select highest stat character: Race, Class, Affinity, or Stature data not loaded yet.");const e=it;let t={race:ce[0],class:de[0],affinity:te[0]},a=-1/0;const r=me.find(e=>"Recruit"===e.Stature)||me[0];ce.forEach(n=>{de.forEach(l=>{te.forEach(s=>{const i=n,o=l,c=s,u=r;let d=0;switch(e){case"life":d=(parseInt(i.life,10)||0)+(parseInt(o.life,10)||0)+(parseInt(c.life,10)||0)+(parseInt(u.life,10)||0);break;case"strength":d=(parseInt(i.strength,10)||0)+(parseInt(o.strength,10)||0)+(parseInt(c.strength,10)||0);break;case"agility":d=(parseInt(i.agility,10)||0)+(parseInt(o.agility,10)||0)+(parseInt(c.agility,10)||0);break;case"ap":d=(parseInt(i.ap,10)||0)+(parseInt(o.ap,10)||0)+(parseInt(c.ap,10)||0);break;case"gold":d=(parseInt(i.gold,10)||0)+(parseInt(o.gold,10)||0)+(parseInt(c.gold,10)||0);break;case"attack":d=(parseInt(i.attackContribution,10)||0)+(parseInt(o.attackContribution,10)||0)+(parseInt(c.attackContribution,10)||0)+(parseInt(u.at,10)||0)}d>a&&(a=d,t={race:n,class:l,affinity:s})})})});const l=t.race,s=t.class,i=t.affinity,o=r,c=(parseInt(l.life,10)||0)+(parseInt(s.life,10)||0)+(parseInt(i.life,10)||0)+(parseInt(o.life,10)||0),u=(parseInt(l.ap,10)||0)+(parseInt(s.ap,10)||0)+(parseInt(i.ap,10)||0),d=(parseInt(l.gold,10)||0)+(parseInt(s.gold,10)||0)+(parseInt(i.gold,10)||0);oe(!0),n(e=>({...e,name:"New Recruit",race:t.race.Name,class:t.class.Name,affinity:t.affinity.Name,life:{current:c,max:c},ap:{current:u,max:u},gold:d,xp:0,doubt:0,corruption:0,equippedItems:Array(5).fill(null).map((e,t)=>({id:`slot${t+1}`,ItemName:null,Rank:null,Affinity:null,PrimaryEffect:""})),portraitUrl:"https://placehold.co/200x200/333/eee?text=Character",activeQuestName:null})),Ht(Bt),Ft([])},[it,ce,de,te,me,Bt]),(0,a.useCallback)(async()=>{var e,n,a,r;h(!0),u("");const l=(null===(e=ce.find(e=>e.Name&&e.Name.trim()===t.race.trim()))||void 0===e?void 0:e.Ability)||"no specific race ability",s=(null===(n=de.find(e=>e.Name&&e.Name.trim()===t.class.trim()))||void 0===n?void 0:n.Ability)||"no specific class ability",i=(null===(a=te.find(e=>e.Name&&e.Name.trim()===t.affinity.trim()))||void 0===a?void 0:a.Ability)||"no specific affinity ability",o=T(t.xp),c=(null===(r=me.find(e=>e.Stature&&e.Stature.trim()===o.currentStature.trim()))||void 0===r?void 0:r.Ability)||"no specific stature ability";try{const e=`Generate a short, grimdark backstory for a ${t.race} ${t.class} with ${t.affinity} Affinity in a world called Grim Hand.\n            Their race has the ability: "${l}".\n            Their class has the ability: "${s}".\n            Their affinity has the ability: "${i}".\n            Their current stature is ${o.currentStature} with ability: "${c}".\n            Focus on their origins, a significant event that shaped them, and why they might be adventuring. Incorporate elements of their abilities into the lore. Keep it concise, around 100-150 words.`;let n=[];n.push({role:"user",parts:[{text:e}]});const a={contents:n},r=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${"AIzaSyB1iibwPp5A2KZCEEVihhBXhWydn6Udai0"}`;console.log("AI Insights: Sending lore generation request...");const d=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!d.ok){const e=await d.json().catch(()=>({message:"No additional error data."}));return console.error("AI Insights Error: Lore generation failed.",d.status,d.statusText,e),void u(`Failed to generate lore: ${d.statusText||"Unknown error"}. Check console for details.`)}const f=await d.json();console.log("AI Insights: Lore generation raw result:",f),f.candidates&&f.candidates.length>0&&f.candidates[0].content&&f.candidates[0].content.parts&&f.candidates[0].content.parts.length>0?u(f.candidates[0].content.parts[0].text):(console.warn("AI Insights Warning: Lore generation response structure unexpected.",f),u("Failed to generate lore. Unexpected response structure."))}catch(d){console.error("AI Insights Error: An error occurred during lore generation fetch:",d),u("An error occurred while generating lore. Check console for network issues.")}finally{h(!1)}},[t.race,t.class,t.affinity,t.xp,ce,de,te,me])),bn=(0,a.useCallback)(async()=>{A(!0),f("");try{const e=t.equippedItems.filter(e=>e&&e.ItemName).map(e=>`${e.ItemName} (Rank: ${e.Rank}, Affinity: ${e.Affinity}, Effect: ${e.PrimaryEffect||"none"})`).join(", "),n=`Based on a ${t.race} ${t.class} with ${t.affinity} Affinity, and their current stats (Strength: ${r.totalStrength}, Agility: ${r.totalAgility}, Life: ${t.life.current}/${r.totalLifeMax}, Gold: ${t.gold}, XP: ${t.xp}, Doubt: ${t.doubt}, Corruption: ${t.corruption}). They have equipped: ${e||"no items"}. Suggest a short, grimdark personal quest idea for them. Focus on a unique challenge or objective that ties into their background or current state. Keep it concise, around 50-80 words.`;let a=[];a.push({role:"user",parts:[{text:n}]});const l={contents:a},s=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${"AIzaSyB1iibwPp5A2KZCEEVihhBXhWydn6Udai0"}`;console.log("AI Insights: Sending quest suggestion request...");const i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!i.ok){const e=await i.json().catch(()=>({message:"No additional error data."}));return console.error("AI Insights Error: Quest suggestion failed.",i.status,i.statusText,e),void f(`Failed to suggest quest: ${i.statusText||"Unknown error"}. Check console for details.`)}const o=await i.json();console.log("AI Insights: Quest suggestion raw result:",o),o.candidates&&o.candidates.length>0&&o.candidates[0].content&&o.candidates[0].content.parts&&o.candidates[0].content.parts.length>0?f(o.candidates[0].content.parts[0].text):(console.warn("AI Insights Warning: Quest suggestion response structure unexpected.",o),f("Failed to suggest a quest. Unexpected response structure."))}catch(e){console.error("AI Insights Error: An error occurred during quest suggestion fetch:",e),f("An error occurred while suggesting a quest. Check console for network issues.")}finally{A(!1)}},[t.race,t.class,t.affinity,t.equippedItems,t.life.current,t.gold,t.xp,t.doubt,t.corruption,r.totalStrength,r.totalAgility,r.totalLifeMax]),yn=(0,a.useCallback)(e=>{const t=e.target.value;n(e=>({...e,activeQuestName:""===t?null:t})),ut(!1),""!==t?Dt():(vt(null),wt([]),jt(0)),bn()},[Dt,bn]),vn=(0,a.useMemo)(()=>t.activeQuestName?ae.find(e=>e.Quest_Name===t.activeQuestName):null,[t.activeQuestName,ae]),Nn=(0,a.useCallback)(()=>{const e=He.find(e=>e.Name===Ke);if(!e)return void console.error("Please select a threat from the dropdown.");const t={id:Date.now(),name:e.Name,currentLife:parseInt(e.LF,10)||1,maxLife:parseInt(e.LF,10)||1,imageUrl:e.Image||"https://placehold.co/100x100/333/eee?text=Threat",atScore:parseInt(e.Rank,10)||0,attackBonus:0};Ft(e=>[...e,t]),Xe(""),Je(null)},[Ke,He]),wn=(0,a.useCallback)(e=>{Ft(t=>t.filter(t=>t.id!==e))},[]),kn=(0,a.useCallback)((e,t)=>{Ft(n=>n.map(n=>{if(n.id===e){const e=+n.currentLife,a=Math.max(0,e+t);return{...n,currentLife:a}}return n}))},[]),jn=(0,a.useCallback)((e,t)=>{Ft(n=>n.map(n=>n.id===e?{...n,name:t}:n))},[]),Sn=(0,a.useCallback)((e,t)=>{Ft(n=>n.map(n=>{if(n.id===e){const e=parseInt(t,10)||0;return{...n,maxLife:e}}return n}))},[]),Cn=(0,a.useCallback)((e,t)=>{Ft(n=>n.map(n=>{if(n.id===e){const e=parseInt(t,10),a=isNaN(e)||e<0?0:e;return{...n,atScore:a}}return n}))},[]),En=(0,a.useCallback)((e,t)=>{Ft(n=>n.map(n=>{if(n.id===e){const e=parseInt(t,10),a=isNaN(e)?0:e;return{...n,attackBonus:a}}return n}))},[]),An=(0,a.useCallback)(()=>{const e=Array.from({length:Ot},(e,t)=>({id:Date.now()+t,name:`Threat ${t+1}`,currentLife:1,maxLife:1,imageUrl:"https://placehold.co/100x100/333/eee?text=Threat",atScore:0,attackBonus:0}));Ft(t=>[...t,...e]),qt(0)},[Ot]),Ln=(0,a.useCallback)((e,t)=>{Ht(n=>({...n,[e]:n[e].map((e,n)=>n===t?!e:e)}))},[]),Dn=(0,a.useCallback)(()=>{let e=-1,t="None";C.slice(1).forEach(n=>{const a=Ut[n];if(a){const r=a.filter(Boolean).length;r>e&&(e=r,t=n)}}),0!==e&&-1!==e||(t="None"),s(e=>({...e,mostFavouredMastery:t}))},[Ut]);(0,a.useEffect)(()=>{Dn()},[Ut,Dn]),(0,a.useEffect)(()=>{localStorage.setItem("grimHandCharacter",JSON.stringify(t))},[t]),(0,a.useEffect)(()=>{localStorage.setItem("grimHandMasteredHands",JSON.stringify(Ut))},[Ut]),(0,a.useEffect)(()=>{localStorage.setItem("grimHandThreats",JSON.stringify(zt))},[zt]),(0,a.useEffect)(()=>{localStorage.setItem("grimHandXpFormula",_)},[_]),(0,a.useEffect)(()=>{localStorage.setItem("grimHandBackgroundImageUrl",lt)},[lt]),(0,a.useEffect)(()=>{localStorage.setItem("grimHandActiveTab",St)},[St]),(0,a.useEffect)(()=>{localStorage.setItem("grimHandActiveGuideSection",Rt)},[Rt]);const Tn=(0,a.useMemo)(()=>{var e;return(null===(e=ce.find(e=>e.Name&&e.Name.trim()===t.race.trim()))||void 0===e?void 0:e.Ability)||"No Race Ability"},[t.race,ce]),Pn=(0,a.useMemo)(()=>{var e;return(null===(e=de.find(e=>e.Name&&e.Name.trim()===t.class.trim()))||void 0===e?void 0:e.Ability)||"No Class Ability"},[t.class,de]),Mn=(0,a.useMemo)(()=>{var e;return(null===(e=te.find(e=>e.Name&&e.Name.trim()===t.affinity.trim()))||void 0===e?void 0:e.Ability)||"No Affinity Ability"},[t.affinity,te]),In=(0,a.useMemo)(()=>{var e;return(null===(e=me.find(e=>e.Stature&&e.Stature.trim()===Et.currentStature.trim()))||void 0===e?void 0:e.Ability)||"No Stature Ability"},[Et.currentStature,me]);(0,a.useEffect)(()=>{console.log("DEBUG: Current character affinity:",t.affinity),console.log("DEBUG: affinityImageData state (first 5 entries):",te.slice(0,5));const e=te.find(e=>e.Name&&e.Name.trim()===t.affinity.trim());console.log("DEBUG: Found selected affinity object:",e),e&&console.log("DEBUG: Selected Affinity Ability property:",e.Ability)},[t.affinity,te]),(0,a.useEffect)(()=>{r.totalLifeMax>0&&r.totalApMax>0&&n(e=>({...e,life:{current:Math.min(e.life.current,r.totalLifeMax),max:r.totalLifeMax},ap:{current:Math.min(e.ap.current,r.totalApMax),max:r.totalApMax}}))},[r.totalLifeMax,r.totalApMax]),(0,a.useEffect)(()=>{if("characterInfo"===St&&(Tt>0||Mt>0)){const e=setTimeout(()=>{n(e=>({...e,life:{...e.life,current:Math.min(Tt,r.totalLifeMax)},ap:{...e.ap,current:Math.min(Mt,r.totalApMax)}}))},50);return()=>clearTimeout(e)}},[St,Tt,Mt,r.totalLifeMax,r.totalApMax]);const Rn={padding:"8px 16px",backgroundColor:"#4a5568",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontSize:"14px"},_n={...Rn,backgroundColor:"#c53030",color:"white",border:"2px solid #9b2c2c"};return(0,l.jsxs)("div",{className:"min-h-screen font-inter p-4 sm:p-6 lg:p-8 rounded-lg shadow-lg",style:{backgroundImage:lt?`url(${lt})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",backgroundColor:lt?"transparent":"#1a202c"},children:[(0,l.jsx)("style",{children:"\n                @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Metal+Mania&display=swap');\n                /* Removed body font family override */\n                .font-inter-only { font-family: 'Inter', sans-serif; } /* Specific class for Inter font */\n\n                /* Custom styles for the \"book\" elements */\n                .book-button {\n                    background-color: #4a5568; /* Gray-700 */\n                    color: #e2e8f0; /* Gray-200 */\n                    font-weight: 600;\n                    padding: 0.75rem 1.5rem;\n                    border-radius: 0.5rem; /* rounded-lg */\n                    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* shadow-md */\n                    transition: all 0.2s ease-in-out;\n                    border: 1px solid #2d3748; /* Gray-800 */\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    cursor: pointer;\n                    text-align: center;\n                    min-height: 4rem; /* Ensure some height for readability */\n                }\n                .book-button:hover {\n                    background-color: #2d3748; /* Gray-800 */\n                    transform: translateY(-2px);\n                    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n                }\n                .book-button.active {\n                    background-color: #c53030; /* Red-700 */\n                    color: white;\n                    border-color: #9b2c2c; /* Darker red */\n                    transform: translateY(0);\n                }\n                "}),(0,l.jsx)("img",{src:i,alt:"Banner",style:{width:"100%",height:"130px",objectFit:"cover",objectPosition:"center top",display:"block",borderRadius:"6px",marginBottom:"12px"}}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:"8px",padding:"10px",backgroundColor:"#2d3748",borderRadius:"6px",marginBottom:"16px",overflowX:"auto",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch"},children:[(0,l.jsx)("button",{onClick:()=>{"characterInfo"===St&&(Pt(t.life.current),It(t.ap.current)),Ct("unifiedCharacter")},style:"unifiedCharacter"===St?_n:Rn,children:"Character Sheet"}),(0,l.jsx)("button",{onClick:()=>{Ct("quests")},style:"quests"===St?_n:Rn,children:"Quests"}),(0,l.jsx)("button",{onClick:()=>{"characterInfo"===St&&(Pt(t.life.current),It(t.ap.current)),Ct("threats")},style:"threats"===St?_n:Rn,children:"Threats"}),(0,l.jsx)("button",{onClick:()=>{"characterInfo"===St&&(Pt(t.life.current),It(t.ap.current)),Ct("game")},style:"game"===St?_n:Rn,children:"Game"}),(0,l.jsx)("button",{onClick:()=>{"characterInfo"===St&&(Pt(t.life.current),It(t.ap.current)),Ct("aiInsights")},style:"aiInsights"===St?_n:Rn,children:"AI Insights"}),(0,l.jsx)("button",{onClick:()=>{"characterInfo"===St&&(Pt(t.life.current),It(t.ap.current)),Ct("gameGuide")},style:"gameGuide"===St?_n:Rn,children:"Game Guide"}),(0,l.jsx)("button",{onClick:()=>{"characterInfo"===St&&(Pt(t.life.current),It(t.ap.current)),Ct("systems")},style:"systems"===St?_n:Rn,children:"Systems"})]}),(0,l.jsxs)(o,{children:["unifiedCharacter"===St&&(0,l.jsx)(S,{character:t,handleCharacterChange:dn,handleStatInputChange:cn,handleIncrementDecrement:un,calculatedStats:r,raceSourceData:ce,classSourceData:de,affinityImageData:te,isLoadingRaceCsv:Te,isLoadingClassCsv:Re,isLoadingAffinityCsv:ke,raceCsvLoadError:Me,classCsvLoadError:ze,affinityCsvLoadError:Se,portraitLoadError:I,handlePortraitUrlChange:mn,corruptionOverlayUrl:Y,affinityOverlayUrl:tt,affinityOverlayLoadError:at,selectedRaceAbility:Tn,selectedClassAbility:Pn,selectedAffinityAbility:Mn,handleRandomizeCharacter:gn,handleEquippedItemChange:fn,equipmentData:Z,filteredEquipmentData:le,equipmentSearchTerm:Ze,handleEquipmentSearch:hn,isLoadingEquipmentCsv:ye,equipmentCsvLoadError:Ne,rarityBorderColours:Gt,xpProgressData:Et,xpFormula:_,setXpFormula:z,calculatedXpFromFormula:F,xpFormulaError:q,masteredHands:Ut,handleMasteryStarClick:Ln,POKER_HAND_NAMES:C,currentStatureAbility:In,statureSourceData:me}),"characterInfo"===St&&(0,l.jsx)(b,{character:t,handleCharacterChange:dn,handleStatInputChange:cn,handleIncrementDecrement:un,calculatedStats:r,raceSourceData:ce,classSourceData:de,affinityImageData:te,isLoadingRaceCsv:Te,isLoadingClassCsv:Re,isLoadingAffinityCsv:ke,raceCsvLoadError:Me,classCsvLoadError:ze,affinityCsvLoadError:Se,portraitLoadError:I,handlePortraitUrlChange:mn,corruptionOverlayUrl:Y,affinityOverlayUrl:tt,affinityOverlayLoadError:at,selectedRaceAbility:Tn,selectedClassAbility:Pn,selectedAffinityAbility:Mn,handleRandomizeCharacter:gn}),"xpCardMastery"===St&&(0,l.jsx)(y,{character:t,xpProgressData:Et,handleStatInputChange:cn,handleIncrementDecrement:un,xpFormula:_,setXpFormula:z,calculatedXpFromFormula:F,xpFormulaError:q,masteredHands:Ut,handleMasteryStarClick:Ln,POKER_HAND_NAMES:C,currentStatureAbility:In,statureSourceData:me}),"equipment"===St&&(0,l.jsx)(N,{character:t,handleEquippedItemChange:fn,equipmentData:Z,filteredEquipmentData:le,equipmentSearchTerm:Ze,handleEquipmentSearch:hn,calculatedStats:r,isLoadingEquipmentCsv:ye,equipmentCsvLoadError:Ne,rarityBorderColours:Gt}),"quests"===St&&(0,l.jsx)(w,{character:t,handleQuestChange:yn,questData:ae,selectedQuestDetails:vn,showFullQuestDescription:ct,setShowFullQuestDescription:ut,xpProgressData:Et,isLoadingQuestCsv:Ee,questCsvLoadError:Le,questText:d,isLoadingQuest:v,suggestPersonalQuest:bn,currentQuestChallenge:yt,questChallengeDice:Nt,questChallengeTotal:kt,generateQuestChallenge:Dt}),"threats"===St&&(0,l.jsx)(k,{threats:zt,setThreats:Ft,numberOfThreats:Ot,setNumberOfThreats:qt,generateThreatTokens:An,clearThreats:()=>{Ft([])},updateThreatLife:kn,updateThreatName:jn,updateThreatMaxLife:Sn,updateThreatAtScore:Cn,updateThreatAttackBonus:En,threatsSourceData:He,selectedThreatToAdd:Ke,setSelectedThreatToAdd:Xe,previewThreatData:Ye,addThreat:Nn,removeThreat:wn,isLoadingThreatsCsv:Ve,threatsCsvLoadError:Qe}),"aiInsights"===St&&(0,l.jsx)(j,{generateLore:xn,isLoadingLore:m,loreText:c,suggestPersonalQuest:bn,isLoadingQuest:v,questText:d}),"game"===St&&(0,l.jsx)(p,{character:t,setCharacter:n,calculatedStats:r,handleIncrementDecrement:un,handleStatInputChange:cn,questData:ae,threatsSourceData:He,equipmentData:Z}),"gameGuide"===St&&(0,l.jsx)(x,{activeGuideSection:Rt,setActiveGuideSection:_t,POKER_HAND_NAMES:C,EQUIPMENT_HAND_BONUSES:E,isLoadingRaceCsv:Te,raceCsvLoadError:Me,raceSourceData:ce,isLoadingClassCsv:Re,classCsvLoadError:ze,classSourceData:de,isLoadingAffinityCsv:ke,affinityCsvLoadError:Se,affinityImageData:te,isLoadingStatureCsv:Oe,statureCsvLoadError:Be,statureSourceData:me}),"systems"===St&&(0,l.jsx)(g,{masterCsvLink:U,isLoadingMasterCsv:V,loadMasterData:Wt,masterCsvLoadError:Q,masterData:H,isLoadingCharacterCsv:pe,characterCsvLoadError:xe,characterImageData:K,isLoadingEquipmentCsv:ye,equipmentCsvLoadError:Ne,equipmentData:Z,isLoadingAffinityCsv:ke,affinityCsvLoadError:Se,affinityImageData:te,isLoadingQuestCsv:Ee,questCsvLoadError:Le,questData:ae,isLoadingThreatsCsv:Ve,threatsCsvLoadError:Qe,threatsSourceData:He,isLoadingRaceCsv:Te,raceCsvLoadError:Me,raceSourceData:ce,isLoadingClassCsv:Re,classCsvLoadError:ze,classSourceData:de,isLoadingStatureCsv:Oe,statureCsvLoadError:Be,statureSourceData:me,backgroundImageUrl:lt,setBackgroundImageUrl:st})]})]})},R=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:a,getFCP:r,getLCP:l,getTTFB:s}=t;n(e),a(e),r(e),l(e),s(e)})};r.createRoot(document.getElementById("root")).render((0,l.jsx)(I,{})),R()})();
//# sourceMappingURL=main.84caeb90.js.map